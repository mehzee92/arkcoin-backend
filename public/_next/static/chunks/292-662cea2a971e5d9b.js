(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[292],{302:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let r=e.indexOf(t);return -1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},332:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(2590).__exportStar(r(9511),t)},337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;let i=r(1809),n=r(6459),s=r(5566),o=r(5811),a=r(7187);class c extends o.IHeartBeat{constructor(e){super(e),this.events=new n.EventEmitter,this.interval=a.HEARTBEAT_INTERVAL,this.interval=(null==e?void 0:e.interval)||a.HEARTBEAT_INTERVAL}static init(e){return i.__awaiter(this,void 0,void 0,function*(){let t=new c(e);return yield t.init(),t})}init(){return i.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return i.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),s.toMiliseconds(this.interval))})}pulse(){this.events.emit(a.HEARTBEAT_EVENTS.pulse)}}t.HeartBeat=c},361:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},393:e=>{"use strict";e.exports=function(e,t){for(var r={},i=Object.keys(e),n=Array.isArray(t),s=0;s<i.length;s++){var o=i[s],a=e[o];(n?-1!==t.indexOf(o):t(o,a,e))&&(r[o]=a)}return r}},480:(e,t,r)=>{"use strict";r.d(t,{H:()=>i});class i{}},571:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;let i=r(2755);class n extends i.IEvents{constructor(e){super()}}t.IHeartBeat=n},587:(e,t,r)=>{"use strict";function i(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{q:()=>i})},746:(e,t,r)=>{"use strict";var i=r(6932),n=r(6418),s=r(9962),o=r(9490),a=r(4314);t.J4=32,t.PX=12,t.iW=16;var c=new Uint8Array(16),u=function(){function e(e){if(this.nonceLength=t.PX,this.tagLength=t.iW,e.length!==t.J4)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,n){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var o,a=new Uint8Array(16);a.set(e,a.length-e.length);var c=new Uint8Array(32);i.stream(this._key,a,c,4);var u=t.length+this.tagLength;if(n){if(n.length!==u)throw Error("ChaCha20Poly1305: incorrect destination length");o=n}else o=new Uint8Array(u);return i.streamXOR(this._key,a,t,o,4),this._authenticate(o.subarray(o.length-this.tagLength,o.length),c,o.subarray(0,o.length-this.tagLength),r),s.wipe(a),o},e.prototype.open=function(e,t,r,n){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o,c=new Uint8Array(16);c.set(e,c.length-e.length);var u=new Uint8Array(32);i.stream(this._key,c,u,4);var l=new Uint8Array(this.tagLength);if(this._authenticate(l,u,t.subarray(0,t.length-this.tagLength),r),!a.equal(l,t.subarray(t.length-this.tagLength,t.length)))return null;var h=t.length-this.tagLength;if(n){if(n.length!==h)throw Error("ChaCha20Poly1305: incorrect destination length");o=n}else o=new Uint8Array(h);return i.streamXOR(this._key,c,t.subarray(0,t.length-this.tagLength),o,4),s.wipe(c),o},e.prototype.clean=function(){return s.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,i){var a=new n.Poly1305(t);i&&(a.update(i),i.length%16>0&&a.update(c.subarray(i.length%16))),a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16));var u=new Uint8Array(8);i&&o.writeUint64LE(i.length,u),a.update(u),o.writeUint64LE(r.length,u),a.update(u);for(var l=a.digest(),h=0;h<l.length;h++)e[h]=l[h];a.clean(),s.wipe(l),s.wipe(u)},e}();t.g6=u},1029:(e,t,r)=>{"use strict";let i=r(1746),n=r(5459),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e){var i=e,n=t;if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);let r=0|p(i,n),s=o(r),c=s.write(i,n);return c!==r&&(s=s.slice(0,c)),s}if(ArrayBuffer.isView(e)){var s=e;if(B(s,Uint8Array)){let e=new Uint8Array(s);return f(e.buffer,e.byteOffset,e.byteLength)}return h(s)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(B(e,SharedArrayBuffer)||e&&B(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return a.from(c,t,r);let u=function(e){if(a.isBuffer(e)){let t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),o(e<0?0:0|d(e))}function h(e){let t=e.length<0?0:0|d(e.length),r=o(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function f(e,t,r){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),i}function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return i?-1:j(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=t;i<r;++i)n+=M[e[i]];return n}(this,t,r);case"utf8":case"utf-8":return m(this,t,r);case"ascii":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}(this,t,r);case"latin1":case"binary":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}(this,t,r);case"base64":var s,o,a;return s=this,o=t,a=r,0===o&&a===s.length?i.fromByteArray(s):i.fromByteArray(s.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let i=e.slice(t,r),n="";for(let e=0;e<i.length-1;e+=2)n+=String.fromCharCode(i[e]+256*i[e+1]);return n}(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function v(e,t,r,i,n){var s;if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(n)return -1;else r=e.length-1;else if(r<0)if(!n)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,i)),a.isBuffer(t))return 0===t.length?-1:b(e,t,r,i,n);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(n)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return b(e,[t],r,i,n)}throw TypeError("val must be string, number or Buffer")}function b(e,t,r,i,n){let s,o=1,a=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;o=2,a/=2,c/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(n){let i=-1;for(s=r;s<a;s++)if(u(e,s)===u(t,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===c)return i*o}else -1!==i&&(s-=s-i),i=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let i=0;i<c;i++)if(u(e,s+i)!==u(t,i)){r=!1;break}if(r)return s}return -1}function m(e,t,r){r=Math.min(e.length,r);let i=[],n=t;for(;n<r;){let t=e[n],s=null,o=t>239?4:t>223?3:t>191?2:1;if(n+o<=r){let r,i,a,c;switch(o){case 1:t<128&&(s=t);break;case 2:(192&(r=e[n+1]))==128&&(c=(31&t)<<6|63&r)>127&&(s=c);break;case 3:r=e[n+1],i=e[n+2],(192&r)==128&&(192&i)==128&&(c=(15&t)<<12|(63&r)<<6|63&i)>2047&&(c<55296||c>57343)&&(s=c);break;case 4:r=e[n+1],i=e[n+2],a=e[n+3],(192&r)==128&&(192&i)==128&&(192&a)==128&&(c=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&a)>65535&&c<1114112&&(s=c)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=o}var s=i;let o=s.length;if(o<=4096)return String.fromCharCode.apply(String,s);let a="",c=0;for(;c<o;)a+=String.fromCharCode.apply(String,s.slice(c,c+=4096));return a}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,i,n,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function E(e,t,r,i,n){C(t,i,n,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function I(e,t,r,i,n){C(t,i,n,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function x(e,t,r,i,n,s){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function S(e,t,r,i,s){return t*=1,r>>>=0,s||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,i,23,4),r+4}function D(e,t,r,i,s){return t*=1,r>>>=0,s||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,i,52,8),r+8}t.hp=a,t.IS=50,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(u(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,s=Math.min(r,i);n<s;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:+(i<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let i=a.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){let t=e[r];if(B(t,Uint8Array))n+t.length>i.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(i,n)):Uint8Array.prototype.set.call(i,t,n);else if(a.isBuffer(t))t.copy(i,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=t.length}return i},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?m(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(e,t,r,i,n){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;let s=n-i,o=r-t,c=Math.min(s,o),u=this.slice(i,n),l=e.slice(t,r);for(let e=0;e<c;++e)if(u[e]!==l[e]){s=u[e],o=l[e];break}return s<o?-1:+(o<s)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},a.prototype.write=function(e,t,r,i){var n,s,o,a,c,u,l,h;if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let d=!1;for(;;)switch(i){case"hex":return function(e,t,r,i){let n;r=Number(r)||0;let s=e.length-r;i?(i=Number(i))>s&&(i=s):i=s;let o=t.length;for(i>o/2&&(i=o/2),n=0;n<i;++n){var a;let i=parseInt(t.substr(2*n,2),16);if((a=i)!=a)break;e[r+n]=i}return n}(this,e,t,r);case"utf8":case"utf-8":return n=t,s=r,L(j(e,this.length-n),this,n,s);case"ascii":case"latin1":case"binary":return o=t,a=r,L(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,a);case"base64":return c=t,u=r,L(U(e),this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,h=r,L(function(e,t){let r,i,n=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)i=(r=e.charCodeAt(s))>>8,n.push(r%256),n.push(i);return n}(e,this.length-l),this,l,h);default:if(d)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,a.prototype),i},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=k(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&N(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],n=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(i)+(BigInt(n)<<BigInt(32))}),a.prototype.readBigUInt64BE=k(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&N(e,this.length-8);let i=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],n=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=t,n=1,s=this[e+--i];for(;i>0&&(n*=256);)s+=this[e+--i]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=k(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&N(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),a.prototype.readBigInt64BE=k(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&N(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}let n=1,s=0;for(this[t]=255&e;++s<r&&(n*=256);)this[t+s]=e/n&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}let n=r-1,s=1;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=k(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=k(function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}let n=0,s=1,o=0;for(this[t]=255&e;++n<r&&(s*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/s|0)-o&255;return t+r},a.prototype.writeIntBE=function(e,t,r,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}let n=r-1,s=1,o=0;for(this[t+n]=255&e;--n>=0&&(s*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/s|0)-o&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=k(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=k(function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return S(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return S(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,i){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},a.prototype.fill=function(e,t,r,i){let n;if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{let s=a.isBuffer(e)?e:a.from(e,i),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=s[n%o]}return this};let O={};function P(e,t,r){O[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function A(e){let t="",r=e.length,i=+("-"===e[0]);for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function C(e,t,r,i,n,s){if(e>r||e<t){let i,n="bigint"==typeof t?"n":"";throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(s+1)*8}${n}`:`>= -(2${n} ** ${(s+1)*8-1}${n}) and < 2 ** ${(s+1)*8-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new O.ERR_OUT_OF_RANGE("value",i,e)}R(n,"offset"),(void 0===i[n]||void 0===i[n+s])&&N(n,i.length-(s+1))}function R(e,t){if("number"!=typeof e)throw new O.ERR_INVALID_ARG_TYPE(t,"number",e)}function N(e,t,r){if(Math.floor(e)!==e)throw R(e,r),new O.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new O.ERR_BUFFER_OUT_OF_BOUNDS;throw new O.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}P("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),P("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),P("ERR_OUT_OF_RANGE",function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?n=A(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=A(n)),n+="n"),i+=` It must be ${t}. Received ${n}`},RangeError);let T=/[^+/0-9A-Za-z-_]/g;function j(e,t){let r;t=t||1/0;let i=e.length,n=null,s=[];for(let o=0;o<i;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!n){if(r>56319||o+1===i){(t-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function U(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let M=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let i=16*r;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function k(e){return"undefined"==typeof BigInt?$:e}function $(){throw Error("BigInt not supported")}},1113:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;let i=r(9962);class n{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let e=r(9432);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let e=0;e<r.length;e++)r[e]=t[e];return(0,i.wipe)(t),r}}t.NodeRandomSource=n},1293:(e,t,r)=>{"use strict";let i=r(3424),n=r(3144),s=r(302),o=r(393),a=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function l(e,t){return t.decode?n(e):e}function h(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function f(e){let t=(e=h(e)).indexOf("?");return -1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function p(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,i)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){i[e]=r;return}void 0===i[e]&&(i[e]={}),i[e][t[1]]=r};case"bracket":return(e,r,i)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){i[e]=r;return}if(void 0===i[e]){i[e]=[r];return}i[e]=[].concat(i[e],r)};case"colon-list-separator":return(e,r,i)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){i[e]=r;return}if(void 0===i[e]){i[e]=[r];return}i[e]=[].concat(i[e],r)};case"comma":case"separator":return(t,r,i)=>{let n="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!n&&l(r,e).includes(e.arrayFormatSeparator);r=s?l(r,e):r;let o=n||s?r.split(e.arrayFormatSeparator).map(t=>l(t,e)):null===r?r:l(r,e);i[t]=o};case"bracket-separator":return(t,r,i)=>{let n=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!n){i[t]=r?l(r,e):r;return}let s=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>l(t,e));if(void 0===i[t]){i[t]=s;return}i[t]=[].concat(i[t],s)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}(t),i=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return i;for(let n of e.split("&")){if(""===n)continue;let[e,o]=s(t.decode?n.replace(/\+/g," "):n,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:l(o,t),r(l(e,t),o,i)}for(let e of Object.keys(i)){let r=i[e];if("object"==typeof r&&null!==r)for(let e of Object.keys(r))r[e]=d(r[e],t);else i[e]=d(r,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce((e,t)=>{let r=i[t];return r&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=f,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],i=function(e){switch(e.arrayFormat){case"index":return t=>(r,i)=>{let n=r.length;return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:null===i?[...r,u(t,e)+"["+n+"]"]:[...r,u(t,e)+"["+u(n,e)+"]="+u(i,e)]};case"bracket":return t=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:null===i?[...r,u(t,e)+"[]"]:[...r,u(t,e)+"[]="+u(i,e)];case"colon-list-separator":return t=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:null===i?[...r,u(t,e)+":list="]:[...r,u(t,e)+":list="+u(i,e)];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(i,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?i:(n=null===n?"":n,0===i.length)?[[u(r,e),t,u(n,e)].join("")]:[[i,u(n,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:null===i?[...r,u(t,e)]:[...r,u(t,e)+"="+u(i,e)]}}(t),n={};for(let t of Object.keys(e))r(t)||(n[t]=e[t]);let s=Object.keys(n);return!1!==t.sort&&s.sort(t.sort),s.map(r=>{let n=e[r];return void 0===n?"":null===n?u(r,t):Array.isArray(n)?0===n.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":n.reduce(i(r),[]).join("&"):u(r,t)+"="+u(n,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,i]=s(e,"#");return Object.assign({url:r.split("?")[0]||"",query:p(f(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:l(i,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);let i=h(e.url).split("?")[0]||"",n=t.extract(e.url),s=Object.assign(t.parse(n,{sort:!1}),e.query),o=t.stringify(s,r);o&&(o=`?${o}`);let c=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(c=`#${r[a]?u(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${i}${o}${c}`},t.pick=(e,r,i)=>{i=Object.assign({parseFragmentIdentifier:!0,[a]:!1},i);let{url:n,query:s,fragmentIdentifier:c}=t.parseUrl(e,i);return t.stringifyUrl({url:n,query:o(s,r),fragmentIdentifier:c},i)},t.exclude=(e,r,i)=>{let n=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,n,i)}},1400:(e,t,r)=>{"use strict";t.Tc=t.TZ=t.wE=t.Xx=void 0;let i=r(7762),n=r(9962);function s(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.Xx=32,t.wE=32;let o=new Uint8Array(32);o[0]=9;let a=s([56129,1]);function c(e){let t=1;for(let r=0;r<16;r++){let i=e[r]+t+65535;t=Math.floor(i/65536),e[r]=i-65536*t}e[0]+=t-1+37*(t-1)}function u(e,t,r){let i=~(r-1);for(let r=0;r<16;r++){let n=i&(e[r]^t[r]);e[r]^=n,t[r]^=n}}function l(e,t,r){for(let i=0;i<16;i++)e[i]=t[i]+r[i]}function h(e,t,r){for(let i=0;i<16;i++)e[i]=t[i]-r[i]}function f(e,t,r){let i,n,s=0,o=0,a=0,c=0,u=0,l=0,h=0,f=0,d=0,p=0,g=0,y=0,v=0,b=0,m=0,w=0,_=0,E=0,I=0,x=0,S=0,D=0,O=0,P=0,A=0,C=0,R=0,N=0,T=0,j=0,U=0,L=r[0],B=r[1],M=r[2],k=r[3],$=r[4],z=r[5],q=r[6],F=r[7],H=r[8],V=r[9],K=r[10],W=r[11],G=r[12],Y=r[13],J=r[14],Q=r[15];s+=(i=t[0])*L,o+=i*B,a+=i*M,c+=i*k,u+=i*$,l+=i*z,h+=i*q,f+=i*F,d+=i*H,p+=i*V,g+=i*K,y+=i*W,v+=i*G,b+=i*Y,m+=i*J,w+=i*Q,o+=(i=t[1])*L,a+=i*B,c+=i*M,u+=i*k,l+=i*$,h+=i*z,f+=i*q,d+=i*F,p+=i*H,g+=i*V,y+=i*K,v+=i*W,b+=i*G,m+=i*Y,w+=i*J,_+=i*Q,a+=(i=t[2])*L,c+=i*B,u+=i*M,l+=i*k,h+=i*$,f+=i*z,d+=i*q,p+=i*F,g+=i*H,y+=i*V,v+=i*K,b+=i*W,m+=i*G,w+=i*Y,_+=i*J,E+=i*Q,c+=(i=t[3])*L,u+=i*B,l+=i*M,h+=i*k,f+=i*$,d+=i*z,p+=i*q,g+=i*F,y+=i*H,v+=i*V,b+=i*K,m+=i*W,w+=i*G,_+=i*Y,E+=i*J,I+=i*Q,u+=(i=t[4])*L,l+=i*B,h+=i*M,f+=i*k,d+=i*$,p+=i*z,g+=i*q,y+=i*F,v+=i*H,b+=i*V,m+=i*K,w+=i*W,_+=i*G,E+=i*Y,I+=i*J,x+=i*Q,l+=(i=t[5])*L,h+=i*B,f+=i*M,d+=i*k,p+=i*$,g+=i*z,y+=i*q,v+=i*F,b+=i*H,m+=i*V,w+=i*K,_+=i*W,E+=i*G,I+=i*Y,x+=i*J,S+=i*Q,h+=(i=t[6])*L,f+=i*B,d+=i*M,p+=i*k,g+=i*$,y+=i*z,v+=i*q,b+=i*F,m+=i*H,w+=i*V,_+=i*K,E+=i*W,I+=i*G,x+=i*Y,S+=i*J,D+=i*Q,f+=(i=t[7])*L,d+=i*B,p+=i*M,g+=i*k,y+=i*$,v+=i*z,b+=i*q,m+=i*F,w+=i*H,_+=i*V,E+=i*K,I+=i*W,x+=i*G,S+=i*Y,D+=i*J,O+=i*Q,d+=(i=t[8])*L,p+=i*B,g+=i*M,y+=i*k,v+=i*$,b+=i*z,m+=i*q,w+=i*F,_+=i*H,E+=i*V,I+=i*K,x+=i*W,S+=i*G,D+=i*Y,O+=i*J,P+=i*Q,p+=(i=t[9])*L,g+=i*B,y+=i*M,v+=i*k,b+=i*$,m+=i*z,w+=i*q,_+=i*F,E+=i*H,I+=i*V,x+=i*K,S+=i*W,D+=i*G,O+=i*Y,P+=i*J,A+=i*Q,g+=(i=t[10])*L,y+=i*B,v+=i*M,b+=i*k,m+=i*$,w+=i*z,_+=i*q,E+=i*F,I+=i*H,x+=i*V,S+=i*K,D+=i*W,O+=i*G,P+=i*Y,A+=i*J,C+=i*Q,y+=(i=t[11])*L,v+=i*B,b+=i*M,m+=i*k,w+=i*$,_+=i*z,E+=i*q,I+=i*F,x+=i*H,S+=i*V,D+=i*K,O+=i*W,P+=i*G,A+=i*Y,C+=i*J,R+=i*Q,v+=(i=t[12])*L,b+=i*B,m+=i*M,w+=i*k,_+=i*$,E+=i*z,I+=i*q,x+=i*F,S+=i*H,D+=i*V,O+=i*K,P+=i*W,A+=i*G,C+=i*Y,R+=i*J,N+=i*Q,b+=(i=t[13])*L,m+=i*B,w+=i*M,_+=i*k,E+=i*$,I+=i*z,x+=i*q,S+=i*F,D+=i*H,O+=i*V,P+=i*K,A+=i*W,C+=i*G,R+=i*Y,N+=i*J,T+=i*Q,m+=(i=t[14])*L,w+=i*B,_+=i*M,E+=i*k,I+=i*$,x+=i*z,S+=i*q,D+=i*F,O+=i*H,P+=i*V,A+=i*K,C+=i*W,R+=i*G,N+=i*Y,T+=i*J,j+=i*Q,w+=(i=t[15])*L,_+=i*B,E+=i*M,I+=i*k,x+=i*$,S+=i*z,D+=i*q,O+=i*F,P+=i*H,A+=i*V,C+=i*K,R+=i*W,N+=i*G,T+=i*Y,j+=i*J,U+=i*Q,s+=38*_,o+=38*E,a+=38*I,c+=38*x,u+=38*S,l+=38*D,h+=38*O,f+=38*P,d+=38*A,p+=38*C,g+=38*R,y+=38*N,v+=38*T,b+=38*j,m+=38*U,n=Math.floor((i=s+(n=1)+65535)/65536),s=i-65536*n,n=Math.floor((i=o+n+65535)/65536),o=i-65536*n,n=Math.floor((i=a+n+65535)/65536),a=i-65536*n,n=Math.floor((i=c+n+65535)/65536),c=i-65536*n,n=Math.floor((i=u+n+65535)/65536),u=i-65536*n,n=Math.floor((i=l+n+65535)/65536),l=i-65536*n,n=Math.floor((i=h+n+65535)/65536),h=i-65536*n,n=Math.floor((i=f+n+65535)/65536),f=i-65536*n,n=Math.floor((i=d+n+65535)/65536),d=i-65536*n,n=Math.floor((i=p+n+65535)/65536),p=i-65536*n,n=Math.floor((i=g+n+65535)/65536),g=i-65536*n,n=Math.floor((i=y+n+65535)/65536),y=i-65536*n,n=Math.floor((i=v+n+65535)/65536),v=i-65536*n,n=Math.floor((i=b+n+65535)/65536),b=i-65536*n,n=Math.floor((i=m+n+65535)/65536),m=i-65536*n,n=Math.floor((i=w+n+65535)/65536),w=i-65536*n,s+=n-1+37*(n-1),n=Math.floor((i=s+(n=1)+65535)/65536),s=i-65536*n,n=Math.floor((i=o+n+65535)/65536),o=i-65536*n,n=Math.floor((i=a+n+65535)/65536),a=i-65536*n,n=Math.floor((i=c+n+65535)/65536),c=i-65536*n,n=Math.floor((i=u+n+65535)/65536),u=i-65536*n,n=Math.floor((i=l+n+65535)/65536),l=i-65536*n,n=Math.floor((i=h+n+65535)/65536),h=i-65536*n,n=Math.floor((i=f+n+65535)/65536),f=i-65536*n,n=Math.floor((i=d+n+65535)/65536),d=i-65536*n,n=Math.floor((i=p+n+65535)/65536),p=i-65536*n,n=Math.floor((i=g+n+65535)/65536),g=i-65536*n,n=Math.floor((i=y+n+65535)/65536),y=i-65536*n,n=Math.floor((i=v+n+65535)/65536),v=i-65536*n,n=Math.floor((i=b+n+65535)/65536),b=i-65536*n,n=Math.floor((i=m+n+65535)/65536),m=i-65536*n,n=Math.floor((i=w+n+65535)/65536),w=i-65536*n,s+=n-1+37*(n-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=h,e[7]=f,e[8]=d,e[9]=p,e[10]=g,e[11]=y,e[12]=v,e[13]=b,e[14]=m,e[15]=w}function d(e,t){let r=new Uint8Array(32),i=new Float64Array(80),n=s(),o=s(),d=s(),p=s(),g=s(),y=s();for(let t=0;t<31;t++)r[t]=e[t];r[31]=127&e[31]|64,r[0]&=248;for(let e=0;e<16;e++)i[e]=t[2*e]+(t[2*e+1]<<8);i[15]&=32767;for(let e=0;e<16;e++)o[e]=i[e];n[0]=p[0]=1;for(let e=254;e>=0;--e){let t=r[e>>>3]>>>(7&e)&1;u(n,o,t),u(d,p,t),l(g,n,d),h(n,n,d),l(d,o,p),h(o,o,p),f(p,g,g),f(y,n,n),f(n,d,n),f(d,o,g),l(g,n,d),h(n,n,d),f(o,n,n),h(d,p,y),f(n,d,a),l(n,n,p),f(d,d,n),f(n,p,y),f(p,o,i),f(o,g,g),u(n,o,t),u(d,p,t)}for(let e=0;e<16;e++)i[e+16]=n[e],i[e+32]=d[e],i[e+48]=o[e],i[e+64]=p[e];let v=i.subarray(32),b=i.subarray(16);!function(e,t){let r=s();for(let e=0;e<16;e++)r[e]=t[e];for(let e=253;e>=0;e--)f(r,r,r),2!==e&&4!==e&&f(r,r,t);for(let t=0;t<16;t++)e[t]=r[t]}(v,v),f(b,b,v);let m=new Uint8Array(32);return!function(e,t){let r=s(),i=s();for(let e=0;e<16;e++)i[e]=t[e];c(i),c(i),c(i);for(let e=0;e<2;e++){r[0]=i[0]-65517;for(let e=1;e<15;e++)r[e]=i[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);let e=r[15]>>16&1;r[14]&=65535,u(i,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&i[t],e[2*t+1]=i[t]>>8}(m,b),m}t.TZ=function(e){let r=(0,i.randomBytes)(32,e),s=function(e){if(e.length!==t.wE)throw Error(`x25519: seed must be ${t.wE} bytes`);let r=new Uint8Array(e);return{publicKey:d(r,o),secretKey:r}}(r);return(0,n.wipe)(r),s},t.Tc=function(e,r,i=!1){if(e.length!==t.Xx)throw Error("X25519: incorrect secret key length");if(r.length!==t.Xx)throw Error("X25519: incorrect public key length");let n=d(e,r);if(i){let e=0;for(let t=0;t<n.length;t++)e|=n[t];if(0===e)throw Error("X25519: invalid shared key")}return n}},1452:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},1479:(e,t,r)=>{"use strict";let i;r.d(t,{u:()=>c6});var n={};r.r(n),r.d(n,{identity:()=>q});var s={};r.r(s),r.d(s,{base2:()=>F});var o={};r.r(o),r.d(o,{base8:()=>H});var a={};r.r(a),r.d(a,{base10:()=>V});var c={};r.r(c),r.d(c,{base16:()=>K,base16upper:()=>W});var u={};r.r(u),r.d(u,{base32:()=>G,base32hex:()=>Z,base32hexpad:()=>ee,base32hexpadupper:()=>et,base32hexupper:()=>X,base32pad:()=>J,base32padupper:()=>Q,base32upper:()=>Y,base32z:()=>er});var l={};r.r(l),r.d(l,{base36:()=>ei,base36upper:()=>en});var h={};r.r(h),r.d(h,{base58btc:()=>es,base58flickr:()=>eo});var f={};r.r(f),r.d(f,{base64:()=>ea,base64pad:()=>ec,base64url:()=>eu,base64urlpad:()=>el});var d={};r.r(d),r.d(d,{base256emoji:()=>ep});var p={};r.r(p),r.d(p,{sha256:()=>eD,sha512:()=>eO});var g={};r.r(g),r.d(g,{identity:()=>eP});var y={};r.r(y),r.d(y,{code:()=>eC,decode:()=>eN,encode:()=>eR,name:()=>eA});var v={};r.r(v),r.d(v,{code:()=>eL,decode:()=>eM,encode:()=>eB,name:()=>eU});var b=r(2535),m=r(3420),w=r(3159),_=r(5484),E=r(6459),I=r.n(E),x=r(746),S=r(9038),D=r(7762),O=r(8746),P=r(1400);function A(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function C(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?A(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function R(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=C(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return A(r)}let N=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var s=(e.length-t)*u+1>>>0,o=new Uint8Array(s);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var h=0,f=s-1;(0!==l||h<n)&&-1!==f;f--,h++)l+=a*o[f]>>>0,o[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var d=s-n;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(i+(s-d)),g=i;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*l+1>>>0,u=new Uint8Array(o);n!==s;){for(var h=t[n],f=0,d=o-1;(0!==h||f<i)&&-1!==d;d--,f++)h+=256*u[d]>>>0,u[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");i=f,n++}for(var p=o-i;p!==o&&0===u[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(u[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let T=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class j{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class U{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return B(this,e)}}class L{constructor(e){this.decoders=e}or(e){return B(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let B=(e,t)=>new L({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class M{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new j(e,t,r),this.decoder=new U(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let k=({name:e,prefix:t,encode:r,decode:i})=>new M(e,t,r,i),$=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:n}=N(r,t);return k({prefix:e,name:t,encode:i,decode:e=>T(n(e))})},z=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>k({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],n=(1<<r)-1,s="",o=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,i,r),decode:t=>((e,t,r,i)=>{let n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,u=0;for(let t=0;t<s;++t){let s=n[e[t]];if(void 0===s)throw SyntaxError(`Non-${i} character`);c=c<<r|s,(a+=r)>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return o})(t,i,r,e)}),q=k({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)}),F=z({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),H=z({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),V=$({prefix:"9",name:"base10",alphabet:"0123456789"}),K=z({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),W=z({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),G=z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Y=z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),J=z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Q=z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Z=z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),X=z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ee=z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),et=z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),er=z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ei=$({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),en=$({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),es=$({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eo=$({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ea=z({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ec=z({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eu=z({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),el=z({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),eh=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),ef=eh.reduce((e,t,r)=>(e[r]=t,e),[]),ed=eh.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),ep=k({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ef[t],"")},decode:function(e){let t=[];for(let r of e){let e=ed[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});function eg(e,t,r){t=t||[];for(var i=r=r||0;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,eg.bytes=r-i+1,t}function ey(e,t){var r,i=0,t=t||0,n=0,s=t,o=e.length;do{if(s>=o)throw ey.bytes=0,RangeError("Could not decode varint");r=e[s++],i+=n<28?(127&r)<<n:(127&r)*Math.pow(2,n),n+=7}while(r>=128);return ey.bytes=s-t,i}let ev={encode:eg,decode:ey,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}},eb=(e,t=0)=>[ev.decode(e,t),ev.decode.bytes],em=(e,t,r=0)=>(ev.encode(e,t,r),t),ew=e=>ev.encodingLength(e),e_=(e,t)=>{let r=t.byteLength,i=ew(e),n=i+ew(r),s=new Uint8Array(n+r);return em(e,s,0),em(r,s,i),s.set(t,n),new eE(e,r,t,s)};class eE{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let eI=({name:e,code:t,encode:r})=>new ex(e,t,r);class ex{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?e_(this.code,t):t.then(e=>e_(this.code,e))}throw Error("Unknown type, must be binary type")}}let eS=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),eD=eI({name:"sha2-256",code:18,encode:eS("SHA-256")}),eO=eI({name:"sha2-512",code:19,encode:eS("SHA-512")}),eP={code:0,name:"identity",encode:T,digest:e=>e_(0,T(e))},eA="raw",eC=85,eR=e=>T(e),eN=e=>T(e),eT=new TextEncoder,ej=new TextDecoder,eU="json",eL=512,eB=e=>eT.encode(JSON.stringify(e)),eM=e=>JSON.parse(ej.decode(e));class ek{constructor(e,t,r,i){this.code=t,this.version=e,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:eG,byteLength:eG,code:eW,version:eW,multihash:eW,bytes:eW,_baseCache:eG,asCID:eG})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eF)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eH)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ek.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=e_(e,t);return ek.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){var t,r;return e&&this.code===e.code&&this.version===e.version&&((t=this.multihash)===(r=e.multihash)||t.code===r.code&&t.size===r.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(t.bytes,r.bytes))}toString(e){let{bytes:t,version:r,_baseCache:i}=this;return 0===r?ez(t,i,e||es.encoder):eq(t,i,e||G.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eY(/^0\.0/,eJ),!!(e&&(e[eK]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof ek)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:i,bytes:n}=e;return new ek(t,r,i,n||eV(t,r,i.bytes))}if(null==e||!0!==e[eK])return null;{let{version:t,multihash:r,code:i}=e,n=(e=>{let t=T(e),[r,i]=eb(t),[n,s]=eb(t.subarray(i)),o=t.subarray(i+s);if(o.byteLength!==n)throw Error("Incorrect length");return new eE(r,n,o,t)})(r);return ek.create(t,i,n)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eF)return new ek(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eF}) block encoding`);case 1:{let i=eV(e,t,r.bytes);return new ek(e,t,r,i)}default:throw Error("Invalid version")}}static createV0(e){return ek.create(0,eF,e)}static createV1(e,t){return ek.create(1,e,t)}static decode(e){let[t,r]=ek.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=ek.inspectBytes(e),r=t.size-t.multihashSize,i=T(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw Error("Incorrect length");let n=i.subarray(t.multihashSize-t.digestSize),s=new eE(t.multihashCode,t.digestSize,n,i);return[0===t.version?ek.createV0(s):ek.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,i]=eb(e.subarray(t));return t+=i,r},i=r(),n=eF;if(18===i?(i=0,t=0):1===i&&(n=r()),0!==i&&1!==i)throw RangeError(`Invalid CID version ${i}`);let s=t,o=r(),a=r(),c=t+a;return{version:i,codec:n,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){let[r,i]=e$(e,t),n=ek.decode(i);return n._baseCache.set(r,e),n}}let e$=(e,t)=>{switch(e[0]){case"Q":{let r=t||es;return[es.prefix,r.decode(`${es.prefix}${e}`)]}case es.prefix:{let r=t||es;return[es.prefix,r.decode(e)]}case G.prefix:{let r=t||G;return[G.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},ez=(e,t,r)=>{let{prefix:i}=r;if(i!==es.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=t.get(i);if(null!=n)return n;{let n=r.encode(e).slice(1);return t.set(i,n),n}},eq=(e,t,r)=>{let{prefix:i}=r,n=t.get(i);if(null!=n)return n;{let n=r.encode(e);return t.set(i,n),n}},eF=112,eH=18,eV=(e,t,r)=>{let i=ew(e),n=i+ew(t),s=new Uint8Array(n+r.byteLength);return em(e,s,0),em(t,s,i),s.set(r,n),s},eK=Symbol.for("@ipld/js-cid/CID"),eW={writable:!1,configurable:!1,enumerable:!0},eG={writable:!1,enumerable:!1,configurable:!1},eY=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},eJ=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,eQ={...n,...s,...o,...a,...c,...u,...l,...h,...f,...d};function eZ(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...p,...g});let eX=eZ("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),e0=eZ("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=C((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),e1={utf8:eX,"utf-8":eX,hex:eQ.base16,latin1:e0,ascii:e0,binary:e0,...eQ};function e2(e,t="utf8"){let r=e1[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?A(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function e3(e,t="utf8"){let r=e1[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var e8=r(5704),e5=function(e,t,r){if(r||2==arguments.length)for(var i,n=0,s=t.length;n<s;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},e6=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},e4=function(e){this.version=e,this.type="node",this.name="node",this.os=e8.platform},e9=function(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"},e7=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},te=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},tt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,tr=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ti=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]],tn=r(5566),ts=r(6662),to=r(8955),ta=r(1293);let tc={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var tu=r(5704);function tl(e,t){return e.includes(":")?[e]:t.chains||[]}let th="base10",tf="base16",td="base64pad",tp="utf8";function tg(){return e3((0,D.randomBytes)(32),tf)}function ty(e){return e3((0,O.tW)(e2(e,tp)),tf)}function tv(e){return Number(e3(e,th))}function tb(e){let t=e2(e,td),r=t.slice(0,1);if(1===tv(r)){let e=t.slice(1,33),i=t.slice(33,45);return{type:r,sealed:t.slice(45),iv:i,senderPublicKey:e}}let i=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:i}}function tm(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function tw(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var t_=Object.defineProperty,tE=Object.getOwnPropertySymbols,tI=Object.prototype.hasOwnProperty,tx=Object.prototype.propertyIsEnumerable,tS=(e,t,r)=>t in e?t_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tD=(e,t)=>{for(var r in t||(t={}))tI.call(t,r)&&tS(e,r,t[r]);if(tE)for(var r of tE(t))tx.call(t,r)&&tS(e,r,t[r]);return e};let tO={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function tP(){return"u">typeof tu&&"u">typeof tu.versions&&"u">typeof tu.versions.node}function tA(){return!(0,ts.getDocument)()&&!!(0,ts.getNavigator)()&&"ReactNative"===navigator.product}function tC(){return!tP()&&!!(0,ts.getNavigator)()&&!!(0,ts.getDocument)()}function tR(){return tA()?tO.reactNative:tP()?tO.node:tC()?tO.browser:tO.unknown}function tN(e,t){return e.filter(e=>t.includes(e)).length===e.length}function tT(e){return Object.fromEntries(e.entries())}function tj(e){return new Map(Object.entries(e))}function tU(e=tn.FIVE_MINUTES,t){let r,i,n,s=(0,tn.toMiliseconds)(e||tn.FIVE_MINUTES);return{resolve:e=>{n&&r&&(clearTimeout(n),r(e))},reject:e=>{n&&i&&(clearTimeout(n),i(e))},done:()=>new Promise((e,o)=>{n=setTimeout(()=>{o(Error(t))},s),r=e,i=o})}}function tL(e,t,r){return new Promise(async(i,n)=>{let s=setTimeout(()=>n(Error(r)),t);try{let t=await e;i(t)}catch(e){n(e)}clearTimeout(s)})}function tB(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function tM(e){let[t,r]=e.split(":"),i={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)i.topic=r;else if("id"===t&&Number.isInteger(Number(r)))i.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function tk(e,t){return(0,tn.fromMiliseconds)((t||Date.now())+(0,tn.toMiliseconds)(e))}function t$(e){return Date.now()>=(0,tn.toMiliseconds)(e)}function tz(e,t){return`${e}${t?`:${t}`:""}`}function tq(e=[],t=[]){return[...new Set([...e,...t])]}async function tF({id:e,topic:t,wcDeepLink:i}){try{if(!i)return;let n="string"==typeof i?JSON.parse(i):i,s=n?.href;if("string"!=typeof s)return;s.endsWith("/")&&(s=s.slice(0,-1));let o=`${s}/wc?requestId=${e}&sessionTopic=${t}`,a=tR();a===tO.browser?o.startsWith("https://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):a===tO.reactNative&&"u">typeof(null==r.g?void 0:r.g.Linking)&&await r.g.Linking.openURL(o)}catch(e){console.error(e)}}async function tH(e,t){try{return await e.getItem(t)||(tC()?localStorage.getItem(t):void 0)}catch(e){console.error(e)}}function tV(e){return e?.relay||{protocol:"irn"}}function tK(e){let t=tc[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}var tW=Object.defineProperty,tG=Object.getOwnPropertySymbols,tY=Object.prototype.hasOwnProperty,tJ=Object.prototype.propertyIsEnumerable,tQ=(e,t,r)=>t in e?tW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function tZ(e){var t;let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),i=-1!==e.indexOf("?")?e.indexOf("?"):void 0,n=e.substring(0,r),s=e.substring(r+1,i).split("@"),o="u">typeof i?e.substring(i):"",a=ta.parse(o);return{protocol:n,topic:(t=s[0]).startsWith("//")?t.substring(2):t,version:parseInt(s[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},i="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(i)){let n=t.replace(i,""),s=e[t];r[n]=s}}),r}(a)}}function tX(e){let t=[];return e.forEach(e=>{let[r,i]=e.split(":");t.push(`${r}:${i}`)}),t}function t0(e){return e.includes(":")}function t1(e){return t0(e)?e.split(":")[0]:e}Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let t2={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},t3={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function t8(e,t){let{message:r,code:i}=t3[e];return{message:t?`${r} ${t}`:r,code:i}}function t5(e,t){let{message:r,code:i}=t2[e];return{message:t?`${r} ${t}`:r,code:i}}function t6(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function t4(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function t9(e){return typeof e>"u"}function t7(e,t){return!!(t&&t9(e))||"string"==typeof e&&!!e.trim().length}function re(e,t){return!!(t&&t9(e))||"number"==typeof e&&!isNaN(e)}function rt(e){return!!(t7(e,!1)&&e.includes(":"))&&2===e.split(":").length}function rr(e){let t=!0;return t6(e)?e.length&&(t=e.every(e=>t7(e,!1))):t=!1,t}function ri(e,t){let r=null;return Object.values(e).forEach(e=>{var i;let n;if(r)return;let s=(i=`${t}, namespace`,n=null,rr(e?.methods)?rr(e?.events)||(n=t5("UNSUPPORTED_EVENTS",`${i}, events should be an array of strings or empty array for no events`)):n=t5("UNSUPPORTED_METHODS",`${i}, methods should be an array of strings or empty array for no methods`),n);s&&(r=s)}),r}function rn(e,t){let r=null;if(e&&t4(e)){let i,n=ri(e,t);n&&(r=n);let s=(i=null,Object.values(e).forEach(e=>{var r,n;let s;if(i)return;let o=(r=e?.accounts,n=`${t} namespace`,s=null,t6(r)?r.forEach(e=>{s||function(e){if(t7(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&rt(e)}}return!1}(e)||(s=t5("UNSUPPORTED_ACCOUNTS",`${n}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):s=t5("UNSUPPORTED_ACCOUNTS",`${n}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),s);o&&(i=o)}),i);s&&(r=s)}else r=t8("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function rs(e){return t7(e.protocol,!0)}function ro(e){return"u">typeof e}function ra(e,t){return!(!rt(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...tX(e.accounts))}),t})(e).includes(t))}function rc(e,t,r){let i=null,n=function(e){let t={};return Object.keys(e).forEach(r=>{var i;r.includes(":")?t[r]=e[r]:null==(i=e[r].chains)||i.forEach(i=>{t[i]={methods:e[r].methods,events:e[r].events}})}),t}(e),s=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let i=tX(e[r].accounts);i?.forEach(i=>{t[i]={accounts:e[r].accounts.filter(e=>e.includes(`${i}:`)),methods:e[r].methods,events:e[r].events}})}}),t}(t),o=Object.keys(n),a=Object.keys(s),c=ru(Object.keys(e)),u=ru(Object.keys(t)),l=c.filter(e=>!u.includes(e));return l.length&&(i=t8("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(t).toString()}`)),tN(o,a)||(i=t8("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||i)return;let n=tX(t[e].accounts);n.includes(e)||(i=t8("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${n.toString()}`))}),o.forEach(e=>{i||(tN(n[e].methods,s[e].methods)?tN(n[e].events,s[e].events)||(i=t8("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):i=t8("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),i}function ru(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function rl(){let e=tR();return new Promise(t=>{switch(e){case tO.browser:t(tC()&&navigator?.onLine);break;case tO.reactNative:t(rh());break;case tO.node:default:t(!0)}})}async function rh(){if(tA()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo){let e=await (null==r.g?void 0:r.g.NetInfo.fetch());return e?.isConnected}return!0}let rf={};class rd{static get(e){return rf[e]}static set(e,t){rf[e]=t}static delete(e){delete rf[e]}}let rp=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,rg=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ry=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function rv(e,t){var r;return"__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t?void(r=e,console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)):t}function rb(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return NaN;case"infinity":return 1/0;case"-infinity":return-1/0}if(!ry.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(rp.test(e)||rg.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,rv)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}var rm=r(1029).hp;function rw(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function r_(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return r_(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let rE="base64:";function rI(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function rx(e){return(e=rI(e))?e+":":""}function rS(e,t,r){return e.watch?e.watch((e,i)=>t(e,r+i)):()=>{}}async function rD(e){"function"==typeof e.dispose&&await rw(e.dispose)}function rO(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function rP(e,t){let r;return(i,n)=>(()=>{if(r)return r;let i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(t),(r=rO(i)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r})().then(e=>n(e.transaction(t,i).objectStore(t)))}function rA(){return i||(i=rP("keyval-store","keyval")),i}function rC(e,t=rA()){return t("readonly",t=>rO(t.get(e)))}function rR(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)}catch(t){return e}}function rN(e){return"string"==typeof e?e:JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t)||""}class rT{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||(()=>{let e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}})()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},i=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),n=(e,r)=>{if(t.watching)for(let i of(r=rI(r),t.watchListeners))i(e,r)},s=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await rS(t.mounts[e],n,e)},o=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},a=(e,t,i)=>{let n=new Map,s=e=>{let t=n.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},n.set(e.base,t)),t};for(let i of e){let e="string"==typeof i,n=rI(e?i:i.key),o=e?void 0:i.value,a=e||!i.options?t:{...t,...i.options},c=r(n);s(c).items.push({key:n,value:o,relativeKey:c.relativeKey,options:a})}return Promise.all([...n.values()].map(e=>i(e))).then(e=>e.flat())},c={hasItem(e,t={}){let{relativeKey:i,driver:n}=r(e=rI(e));return rw(n.hasItem,i,t)},getItem(e,t={}){let{relativeKey:i,driver:n}=r(e=rI(e));return rw(n.getItem,i,t).then(e=>rb(e))},getItems:(e,t={})=>a(e,t,e=>e.driver.getItems?rw(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return rI(e.join(":"))}(e.base,t.key),value:rb(t.value)}))):Promise.all(e.items.map(t=>rw(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:rb(e)}))))),getItemRaw(e,t={}){let{relativeKey:i,driver:n}=r(e=rI(e));return n.getItemRaw?rw(n.getItemRaw,i,t):rw(n.getItem,i,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(rE)?(t=e.slice(rE.length),globalThis.Buffer?rm.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,i={}){if(void 0===t)return c.removeItem(e);let{relativeKey:s,driver:o}=r(e=rI(e));o.setItem&&(await rw(o.setItem,s,r_(t),i),o.watch||n("update",e))},async setItems(e,t){await a(e,t,async e=>{if(e.driver.setItems)return rw(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:r_(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>rw(e.driver.setItem,t.relativeKey,r_(t.value),t.options)))})},async setItemRaw(e,t,i={}){if(void 0===t)return c.removeItem(e,i);let{relativeKey:s,driver:o}=r(e=rI(e));if(o.setItemRaw)await rw(o.setItemRaw,s,t,i);else{var a;if(!o.setItem)return;await rw(o.setItem,s,"string"==typeof t?t:rE+(a=t,globalThis.Buffer?rm.from(a).toString("base64"):globalThis.btoa(String.fromCodePoint(...a))),i)}o.watch||n("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:i,driver:s}=r(e=rI(e));s.removeItem&&(await rw(s.removeItem,i,t),(t.removeMeta||t.removeMata)&&await rw(s.removeItem,i+"$",t),s.watch||n("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:i,driver:n}=r(e=rI(e)),s=Object.create(null);if(n.getMeta&&Object.assign(s,await rw(n.getMeta,i,t)),!t.nativeOnly){let e=await rw(n.getItem,i+"$",t).then(e=>rb(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=i(e=rx(e),!0),n=[],s=[],o=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(o=!1),await rw(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+rI(r);n.some(e=>t.startsWith(e))||s.push(t)}n=[e.mountpoint,...n.filter(t=>!t.startsWith(e.mountpoint))]}let a=void 0!==t.maxDepth&&!o;return s.filter(r=>{var i;return(!a||function(e,t){if(void 0===t)return!0;let r=0,i=e.indexOf(":");for(;i>-1;)r++,i=e.indexOf(":",i+1);return r<=t}(r,t.maxDepth))&&((i=e)?r.startsWith(i)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=rx(e),await Promise.all(i(e,!1).map(async e=>e.driver.clear?rw(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>rD(e)))},watch:async e=>(await s(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await o()}),async unwatch(){t.watchListeners=[],await o()},mount(e,r){if((e=rx(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(rS(r,n,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),c},async unmount(e,r=!0){(e=rx(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),r&&await rD(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=rI(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>i(e=rI(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>c.getKeys(e,t),get:(e,t={})=>c.getItem(e,t),set:(e,t,r={})=>c.setItem(e,t,r),has:(e,t={})=>c.hasItem(e,t),del:(e,t={})=>c.removeItem(e,t),remove:(e,t={})=>c.removeItem(e,t)};return c}({driver:((e={})=>{let t,r=e.base&&e.base.length>0?`${e.base}:`:"";return e.dbName&&e.storeName&&(t=rP(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await rC(r+e,t)>"u"),getItem:async e=>await rC(r+e,t)??null,setItem:(e,i)=>(function(e,t,r=rA()){return r("readwrite",r=>(r.put(t,e),rO(r.transaction)))})(r+e,i,t),removeItem:e=>(function(e,t=rA()){return t("readwrite",t=>(t.delete(e),rO(t.transaction)))})(r+e,t),getKeys:()=>(function(e=rA()){return e("readonly",e=>{var t;if(e.getAllKeys)return rO(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},rO(e.transaction)).then(()=>r)})})(t),clear:()=>(function(e=rA()){return e("readwrite",e=>(e.clear(),rO(e.transaction)))})(t)}})({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,rN(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var rj="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},rU={exports:{}};function rL(e){var t;return[e[0],rR(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof rj&&rj.localStorage?rU.exports=rj.localStorage:"u">typeof window&&window.localStorage?rU.exports=window.localStorage:rU.exports=new e}();class rB{constructor(){this.localStorage=rU.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(rL)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return rR(t)}async setItem(e,t){this.localStorage.setItem(e,rN(t))}async removeItem(e){this.localStorage.removeItem(e)}}let rM=async(e,t,r)=>{let i="wc_storage_version",n=await t.getItem(i);if(n&&n>=1)return void r(t);let s=await e.getKeys();if(!s.length)return void r(t);let o=[];for(;s.length;){let r=s.shift();if(!r)continue;let i=r.toLowerCase();if(i.includes("wc@")||i.includes("walletconnect")||i.includes("wc_")||i.includes("wallet_connect")){let i=await e.getItem(r);await t.setItem(r,i),o.push(r)}}await t.setItem(i,1),r(t),rk(e,o)},rk=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class r${constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new rB;this.storage=e;try{let t=new rT;rM(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}var rz=r(6565),rq=r(5727),rF=r.n(rq);let rH={level:"info"},rV="custom_context";Symbol.iterator;var rK=Object.defineProperty,rW=Object.defineProperties,rG=Object.getOwnPropertyDescriptors,rY=Object.getOwnPropertySymbols,rJ=Object.prototype.hasOwnProperty,rQ=Object.prototype.propertyIsEnumerable,rZ=(e,t,r)=>t in e?rK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function rX(e){return rW(((e,t)=>{for(var r in t||(t={}))rJ.call(t,r)&&rZ(e,r,t[r]);if(rY)for(var r of rY(t))rQ.call(t,r)&&rZ(e,r,t[r]);return e})({},e),rG({level:e?.level||rH.level}))}function r0(e,t=rV){return typeof e.bindings>"u"?function(e,t=rV){return e[t]||""}(e,t):e.bindings().context||""}function r1(e,t,r=rV){let i=function(e,t,r=rV){let i=r0(e,r);return i.trim()?`${i}/${t}`:t}(e,t,r);return function(e,t,r=rV){return e[r]=t,e}(e.child({context:i}),i,r)}var r2=r(480);class r3 extends r2.H{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class r8 extends r2.H{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class r5{constructor(e,t){this.logger=e,this.core=t}}class r6 extends r2.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class r4 extends r2.H{constructor(e){super()}}class r9{constructor(e,t,r,i){this.core=e,this.logger=t,this.name=r}}class r7 extends r2.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class ie extends r2.H{constructor(e,t){super(),this.core=e,this.logger=t}}class it{constructor(e,t){this.projectId=e,this.logger=t}}class ir{constructor(e,t){this.projectId=e,this.logger=t}}I();class ii{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}E.EventEmitter;class is{constructor(e){this.client=e}}function io(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function ia(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let ic="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,iu=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function il(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),io(e),e}class ih{clone(){return this._cloneInto()}}function id(e=32){if(ic&&"function"==typeof ic.getRandomValues)return ic.getRandomValues(new Uint8Array(e));if(ic&&"function"==typeof ic.randomBytes)return ic.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class ip extends ih{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=iu(this.buffer)}update(e){ia(this);let{view:t,buffer:r,blockLen:i}=this,n=(e=il(e)).length;for(let s=0;s<n;){let o=Math.min(i-this.pos,n-s);if(o===i){let t=iu(e);for(;i<=n-s;s+=i)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ia(this),function(e,t){io(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let e=s;e<i;e++)t[e]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>n&s),a=Number(r&s),c=4*!!i,u=4*!i;e.setUint32(t+c,o,i),e.setUint32(t+u,a,i)})(r,i-8,BigInt(8*this.length),n),this.process(r,0);let o=iu(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=a/4,u=this.get();if(c>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,u[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}let ig=BigInt(0x100000000-1),iy=BigInt(32),iv={split:function(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){let{h:s,l:o}=function(e,t=!1){return t?{h:Number(e&ig),l:Number(e>>iy&ig)}:{h:0|Number(e>>iy&ig),l:0|Number(e&ig)}}(e[n],t);[r[n],i[n]]=[s,o]}return[r,i]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/0x100000000|0)|0,l:0|n}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/0x100000000|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,n)=>t+r+i+n+(e/0x100000000|0)|0,add5H:(e,t,r,i,n,s)=>t+r+i+n+s+(e/0x100000000|0)|0,add5L:(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0)},[ib,im]=iv.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),iw=new Uint32Array(80),i_=new Uint32Array(80);class iE extends ip{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:h,Gh:f,Gl:d,Hh:p,Hl:g}=this;return[e,t,r,i,n,s,o,a,c,u,l,h,f,d,p,g]}set(e,t,r,i,n,s,o,a,c,u,l,h,f,d,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)iw[r]=e.getUint32(t),i_[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|iw[e-15],r=0|i_[e-15],i=iv.rotrSH(t,r,1)^iv.rotrSH(t,r,8)^iv.shrSH(t,r,7),n=iv.rotrSL(t,r,1)^iv.rotrSL(t,r,8)^iv.shrSL(t,r,7),s=0|iw[e-2],o=0|i_[e-2],a=iv.rotrSH(s,o,19)^iv.rotrBH(s,o,61)^iv.shrSH(s,o,6),c=iv.rotrSL(s,o,19)^iv.rotrBL(s,o,61)^iv.shrSL(s,o,6),u=iv.add4L(n,c,i_[e-7],i_[e-16]),l=iv.add4H(u,i,a,iw[e-7],iw[e-16]);iw[e]=0|l,i_[e]=0|u}let{Ah:r,Al:i,Bh:n,Bl:s,Ch:o,Cl:a,Dh:c,Dl:u,Eh:l,El:h,Fh:f,Fl:d,Gh:p,Gl:g,Hh:y,Hl:v}=this;for(let e=0;e<80;e++){let t=iv.rotrSH(l,h,14)^iv.rotrSH(l,h,18)^iv.rotrBH(l,h,41),b=iv.rotrSL(l,h,14)^iv.rotrSL(l,h,18)^iv.rotrBL(l,h,41),m=l&f^~l&p,w=h&d^~h&g,_=iv.add5L(v,b,w,im[e],i_[e]),E=iv.add5H(_,y,t,m,ib[e],iw[e]),I=0|_,x=iv.rotrSH(r,i,28)^iv.rotrBH(r,i,34)^iv.rotrBH(r,i,39),S=iv.rotrSL(r,i,28)^iv.rotrBL(r,i,34)^iv.rotrBL(r,i,39),D=r&n^r&o^n&o,O=i&s^i&a^s&a;y=0|p,v=0|g,p=0|f,g=0|d,f=0|l,d=0|h,({h:l,l:h}=iv.add(0|c,0|u,0|E,0|I)),c=0|o,u=0|a,o=0|n,a=0|s,n=0|r,s=0|i;let P=iv.add3L(I,S,O);r=iv.add3H(P,E,x,D),i=0|P}({h:r,l:i}=iv.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:s}=iv.add(0|this.Bh,0|this.Bl,0|n,0|s)),({h:o,l:a}=iv.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:u}=iv.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:h}=iv.add(0|this.Eh,0|this.El,0|l,0|h)),({h:f,l:d}=iv.add(0|this.Fh,0|this.Fl,0|f,0|d)),({h:p,l:g}=iv.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:v}=iv.add(0|this.Hh,0|this.Hl,0|y,0|v)),this.set(r,i,n,s,o,a,c,u,l,h,f,d,p,g,y,v)}roundClean(){iw.fill(0),i_.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let iI=function(e){let t=t=>e().update(il(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new iE),ix=BigInt(0),iS=BigInt(1),iD=BigInt(2);function iO(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function iP(e){if(!iO(e))throw Error("Uint8Array expected")}function iA(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let iC=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function iR(e){iP(e);let t="";for(let r=0;r<e.length;r++)t+=iC[e[r]];return t}function iN(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?ix:BigInt("0x"+e)}let iT={_0:48,_9:57,A:65,F:70,a:97,f:102};function ij(e){return e>=iT._0&&e<=iT._9?e-iT._0:e>=iT.A&&e<=iT.F?e-(iT.A-10):e>=iT.a&&e<=iT.f?e-(iT.a-10):void 0}function iU(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=ij(e.charCodeAt(n)),s=ij(e.charCodeAt(n+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+s}return i}function iL(e){return iP(e),iN(iR(Uint8Array.from(e).reverse()))}function iB(e,t){return iU(e.toString(16).padStart(2*t,"0"))}function iM(e,t){return iB(e,t).reverse()}function ik(e,t,r){let i;if("string"==typeof t)try{i=iU(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(iO(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let n=i.length;if("number"==typeof r&&n!==r)throw Error(e+" of length "+r+" expected, got "+n);return i}function i$(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];iP(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}let iz=e=>"bigint"==typeof e&&ix<=e;function iq(e,t,r,i){if(!(iz(t)&&iz(r)&&iz(i))||!(r<=t)||!(t<i))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}let iF={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||iO(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function iH(e,t,r={}){let i=(t,r,i)=>{let n=iF[r];if("function"!=typeof n)throw Error("invalid validator function");let s=e[t];if(!(i&&void 0===s)&&!n(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))i(e,r,!1);for(let[e,t]of Object.entries(r))i(e,t,!0);return e}function iV(e){let t=new WeakMap;return(r,...i)=>{let n=t.get(r);if(void 0!==n)return n;let s=e(r,...i);return t.set(r,s),s}}let iK=BigInt(0),iW=BigInt(1),iG=BigInt(2),iY=BigInt(3),iJ=BigInt(4),iQ=BigInt(5),iZ=BigInt(8);function iX(e,t){let r=e%t;return r>=iK?r:t+r}function i0(e,t,r){let i=e;for(;t-- >iK;)i*=i,i%=r;return i}function i1(e,t){if(e===iK)throw Error("invert: expected non-zero number");if(t<=iK)throw Error("invert: expected positive modulus, got "+t);let r=iX(e,t),i=t,n=iK,s=iW;for(;r!==iK;){let e=i/r,t=i%r,o=n-s*e;i=r,r=t,n=s,s=o}if(i!==iW)throw Error("invert: does not exist");return iX(n,t)}let i2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function i3(e,t){let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function i8(e,t,r=!1,i={}){let n;if(e<=iK)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:o}=i3(e,t);if(o>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:o,MASK:(iD<<BigInt(s-1))-iS,ZERO:iK,ONE:iW,create:t=>iX(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return iK<=t&&t<e},is0:e=>e===iK,isOdd:e=>(e&iW)===iW,neg:t=>iX(-t,e),eql:(e,t)=>e===t,sqr:t=>iX(t*t,e),add:(t,r)=>iX(t+r,e),sub:(t,r)=>iX(t-r,e),mul:(t,r)=>iX(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<iK)throw Error("invalid exponent, negatives unsupported");if(r===iK)return e.ONE;if(r===iW)return t;let i=e.ONE,n=t;for(;r>iK;)r&iW&&(i=e.mul(i,n)),n=e.sqr(n),r>>=iW;return i})(a,e,t),div:(t,r)=>iX(t*i1(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>i1(t,e),sqrt:i.sqrt||(t=>(n||(n=function(e){if(e%iJ===iY){let t=(e+iW)/iJ;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}if(e%iZ===iQ){let t=(e-iQ)/iZ;return function(e,r){let i=e.mul(r,iG),n=e.pow(i,t),s=e.mul(r,n),o=e.mul(e.mul(s,iG),n),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,i,n=(e-iW)/iG;for(t=e-iW,r=0;t%iG===iK;t/=iG,r++);for(i=iG;i<e&&function(e,t,r){if(t<iK)throw Error("invalid exponent, negatives unsupported");if(r<=iK)throw Error("invalid modulus");if(r===iW)return iK;let i=iW;for(;t>iK;)t&iW&&(i=i*e%r),e=e*e%r,t>>=iW;return i}(i,n,e)!==e-iW;i++)if(i>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+iW)/iJ;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}let s=(t+iW)/iG;return function(e,o){if(e.pow(o,n)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),t),u=e.pow(o,s),l=e.pow(o,t);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(c,iW<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),l=e.mul(l,c),a=t}return u}}(e)}(e)),n(a,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),i=t.reduce((t,i,n)=>e.is0(i)?t:(r[n]=t,e.mul(t,i)),e.ONE),n=e.inv(i);return t.reduceRight((t,i,n)=>e.is0(i)?t:(r[n]=e.mul(t,r[n]),e.mul(t,i)),n),r})(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?iM(e,o):iB(e,o),fromBytes:e=>{if(e.length!==o)throw Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);return r?iL(e):iN(iR(e))}});return Object.freeze(a)}let i5=BigInt(0),i6=BigInt(1);function i4(e,t){let r=t.negate();return e?r:t}function i9(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function i7(e,t){return i9(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let ne=new WeakMap,nt=new WeakMap;function nr(e){return nt.get(e)||1}let ni=BigInt(0),nn=BigInt(1),ns=BigInt(2),no=BigInt(8),na={zip215:!0};BigInt(0),BigInt(1);let nc=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),nu=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let nl=BigInt(1),nh=BigInt(2);BigInt(3);let nf=BigInt(5),nd=BigInt(8),np=i8(nc,void 0,!0),ng=function(e){var t;let r=function(e){let t=(iH(e.Fp,i2.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),iH(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...i3(e.n,e.nBitLength),...e,p:e.Fp.ORDER}));return iH(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:i,n:n,prehash:s,hash:o,randomBytes:a,nByteLength:c,h:u}=r,l=ns<<BigInt(8*c)-nn,h=i.create,f=i8(r.n,r.nBitLength),d=r.uvRatio||((e,t)=>{try{return{isValid:!0,value:i.sqrt(e*i.inv(t))}}catch{return{isValid:!1,value:ni}}}),p=r.adjustScalarBytes||(e=>e),g=r.domain||((e,t,r)=>{if(iA("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function y(e,t){iq("coordinate "+e,t,ni,l)}function v(e){if(!(e instanceof w))throw Error("ExtendedPoint expected")}let b=iV((e,t)=>{let{ex:r,ey:n,ez:s}=e,o=e.is0();null==t&&(t=o?no:i.inv(s));let a=h(r*t),c=h(n*t),u=h(s*t);if(o)return{x:ni,y:nn};if(u!==nn)throw Error("invZ was invalid");return{x:a,y:c}}),m=iV(e=>{let{a:t,d:i}=r;if(e.is0())throw Error("bad point: ZERO");let{ex:n,ey:s,ez:o,et:a}=e,c=h(n*n),u=h(s*s),l=h(o*o),f=h(l*l),d=h(c*t);if(h(l*h(d+u))!==h(f+h(i*h(c*u))))throw Error("bad point: equation left != right (1)");if(h(n*s)!==h(o*a))throw Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,r,i){this.ex=e,this.ey=t,this.ez=r,this.et=i,y("x",e),y("y",t),y("z",r),y("t",i),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return y("x",t),y("y",r),new w(t,r,nn,h(t*r))}static normalizeZ(e){let t=i.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(w.fromAffine)}static msm(e,t){return function(e,t,r,i){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(i,t),r.length!==i.length)throw Error("arrays of points and scalars must have equal length");let n=e.ZERO,s=function(e){let t;for(t=0;e>ix;e>>=iS,t+=1);return t}(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=Array(a+1).fill(n),u=Math.floor((t.BITS-1)/o)*o,l=n;for(let e=u;e>=0;e-=o){c.fill(n);for(let t=0;t<i.length;t++){let n=Number(i[t]>>BigInt(e)&BigInt(a));c[n]=c[n].add(r[t])}let t=n;for(let e=c.length-1,r=n;e>0;e--)r=r.add(c[e]),t=t.add(r);if(l=l.add(t),0!==e)for(let e=0;e<o;e++)l=l.double()}return l}(w,f,e,t)}_setWindowSize(e){I.setWindowSize(this,e)}assertValidity(){m(this)}equals(e){v(e);let{ex:t,ey:r,ez:i}=this,{ex:n,ey:s,ez:o}=e,a=h(t*o),c=h(n*i),u=h(r*o),l=h(s*i);return a===c&&u===l}is0(){return this.equals(w.ZERO)}negate(){return new w(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){let{a:e}=r,{ex:t,ey:i,ez:n}=this,s=h(t*t),o=h(i*i),a=h(ns*h(n*n)),c=h(e*s),u=t+i,l=h(h(u*u)-s-o),f=c+o,d=f-a,p=c-o,g=h(l*d),y=h(f*p),v=h(l*p);return new w(g,y,h(d*f),v)}add(e){v(e);let{a:t,d:i}=r,{ex:n,ey:s,ez:o,et:a}=this,{ex:c,ey:u,ez:l,et:f}=e;if(t===BigInt(-1)){let e=h((s-n)*(u+c)),t=h((s+n)*(u-c)),r=h(t-e);if(r===ni)return this.double();let i=h(o*ns*f),d=h(a*ns*l),p=d+i,g=t+e,y=d-i,v=h(p*r),b=h(g*y),m=h(p*y);return new w(v,b,h(r*g),m)}let d=h(n*c),p=h(s*u),g=h(a*i*f),y=h(o*l),b=h((n+s)*(c+u)-d-p),m=y-g,_=y+g,E=h(p-t*d),I=h(b*m),x=h(_*E),S=h(b*E);return new w(I,x,h(m*_),S)}subtract(e){return this.add(e.negate())}wNAF(e){return I.wNAFCached(this,e,w.normalizeZ)}multiply(e){iq("scalar",e,nn,n);let{p:t,f:r}=this.wNAF(e);return w.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=w.ZERO){return iq("scalar",e,ni,n),e===ni?E:this.is0()||e===nn?this:I.wNAFCachedUnsafe(this,e,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return I.unsafeLadder(this,n).is0()}toAffine(e){return b(this,e)}clearCofactor(){let{h:e}=r;return e===nn?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:n,a:s}=r,o=i.BYTES;e=ik("pointHex",e,o),iA("zip215",t);let a=e.slice(),c=e[o-1];a[o-1]=-129&c;let u=iL(a);iq("pointHex.y",u,ni,t?l:i.ORDER);let f=h(u*u),{isValid:p,value:g}=d(h(f-nn),h(n*f-s));if(!p)throw Error("Point.fromHex: invalid y coordinate");let y=(g&nn)===nn,v=(128&c)!=0;if(!t&&g===ni&&v)throw Error("Point.fromHex: x=0 and x_0=1");return v!==y&&(g=h(-g)),w.fromAffine({x:g,y:u})}static fromPrivateKey(e){return x(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=iM(t,i.BYTES);return r[r.length-1]|=e&nn?128:0,r}toHex(){return iR(this.toRawBytes())}}w.BASE=new w(r.Gx,r.Gy,nn,h(r.Gx*r.Gy)),w.ZERO=new w(ni,nn,nn,ni);let{BASE:_,ZERO:E}=w,I=(t=8*c,{constTimeNegate:i4,hasPrecomputes:e=>1!==nr(e),unsafeLadder(e,t,r=w.ZERO){let i=e;for(;t>i5;)t&i6&&(r=r.add(i)),i=i.double(),t>>=i6;return r},precomputeWindow(e,r){let{windows:i,windowSize:n}=i7(r,t),s=[],o=e,a=o;for(let e=0;e<i;e++){a=o,s.push(a);for(let e=1;e<n;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,r,i){let{windows:n,windowSize:s}=i7(e,t),o=w.ZERO,a=w.BASE,c=BigInt(2**e-1),u=2**e,l=BigInt(e);for(let e=0;e<n;e++){let t=e*s,n=Number(i&c);i>>=l,n>s&&(n-=u,i+=i6);let h=t+Math.abs(n)-1,f=e%2!=0,d=n<0;0===n?a=a.add(i4(f,r[t])):o=o.add(i4(d,r[h]))}return{p:o,f:a}},wNAFUnsafe(e,r,i,n=w.ZERO){let{windows:s,windowSize:o}=i7(e,t),a=BigInt(2**e-1),c=2**e,u=BigInt(e);for(let e=0;e<s;e++){let t=e*o;if(i===i5)break;let s=Number(i&a);if(i>>=u,s>o&&(s-=c,i+=i6),0===s)continue;let l=r[t+Math.abs(s)-1];s<0&&(l=l.negate()),n=n.add(l)}return n},getPrecomputes(e,t,r){let i=ne.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&ne.set(t,r(i))),i},wNAFCached(e,t,r){let i=nr(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)},wNAFCachedUnsafe(e,t,r,i){let n=nr(e);return 1===n?this.unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)},setWindowSize(e,r){i9(r,t),nt.set(e,r),ne.delete(e)}});function x(e){let t=i.BYTES;e=ik("private key",e,t);let r=ik("hashed private key",o(e),2*t),s=p(r.slice(0,t)),a=r.slice(t,2*t),c=iX(iL(s),n),u=_.multiply(c),l=u.toRawBytes();return{head:s,prefix:a,scalar:c,point:u,pointBytes:l}}function S(e=new Uint8Array,...t){return iX(iL(o(g(i$(...t),ik("context",e),!!s))),n)}return _._setWindowSize(8),{CURVE:r,getPublicKey:function(e){return x(e).pointBytes},sign:function(e,t,r={}){e=ik("message",e),s&&(e=s(e));let{prefix:o,scalar:a,pointBytes:c}=x(t),u=S(r.context,o,e),l=_.multiply(u).toRawBytes(),h=iX(u+S(r.context,l,c,e)*a,n);return iq("signature.s",h,ni,n),ik("result",i$(l,iM(h,i.BYTES)),2*i.BYTES)},verify:function(e,t,r,n=na){let o,a,c,{context:u,zip215:l}=n,h=i.BYTES;e=ik("signature",e,2*h),t=ik("message",t),r=ik("publicKey",r,h),void 0!==l&&iA("zip215",l),s&&(t=s(t));let f=iL(e.slice(h,2*h));try{o=w.fromHex(r,l),a=w.fromHex(e.slice(0,h),l),c=_.multiplyUnsafe(f)}catch{return!1}if(!l&&o.isSmallOrder())return!1;let d=S(u,a.toRawBytes(),o.toRawBytes(),t);return a.add(o.multiplyUnsafe(d)).subtract(c).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>a(i.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:np,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:nd,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:iI,randomBytes:id,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=iX(t*t*t,nc),i=function(e){let t=BigInt(10),r=BigInt(20),i=BigInt(40),n=BigInt(80),s=e*e%nc*e%nc,o=i0(s,nh,nc)*s%nc,a=i0(o,nl,nc)*e%nc,c=i0(a,nf,nc)*a%nc,u=i0(c,t,nc)*c%nc,l=i0(u,r,nc)*u%nc,h=i0(l,i,nc)*l%nc,f=i0(h,n,nc)*h%nc,d=i0(f,n,nc)*h%nc,p=i0(d,t,nc)*c%nc;return{pow_p_5_8:i0(p,nh,nc)*e%nc,b2:s}}(e*iX(r*r*t,nc)).pow_p_5_8,n=iX(e*r*i,nc),s=iX(t*n*n,nc),o=n,a=iX(n*nu,nc),c=s===e,u=s===iX(-e,nc),l=s===iX(-e*nu,nc);return c&&(n=o),(u||l)&&(n=a),(iX(n,nc)&iW)===iW&&(n=iX(-n,nc)),{isValid:c||u,value:n}}}),ny="base64url",nv="base58btc";function nb(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function nm(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?nb(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function nw(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=nm(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return nb(r)}var n_=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var s=(e.length-t)*u+1>>>0,o=new Uint8Array(s);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var h=0,f=s-1;(0!==l||h<n)&&-1!==f;f--,h++)l+=a*o[f]>>>0,o[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var d=s-n;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(i+(s-d)),g=i;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*l+1>>>0,u=new Uint8Array(o);n!==s;){for(var h=t[n],f=0,d=o-1;(0!==h||f<i)&&-1!==d;d--,f++)h+=256*u[d]>>>0,u[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");i=f,n++}for(var p=o-i;p!==o&&0===u[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(u[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};let nE=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class nI{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class nx{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return nD(this,e)}}class nS{constructor(e){this.decoders=e}or(e){return nD(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let nD=(e,t)=>new nS({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class nO{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new nI(e,t,r),this.decoder=new nx(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let nP=({name:e,prefix:t,encode:r,decode:i})=>new nO(e,t,r,i),nA=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:n}=n_(r,t);return nP({prefix:e,name:t,encode:i,decode:e=>nE(n(e))})},nC=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>nP({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],n=(1<<r)-1,s="",o=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,i,r),decode:t=>((e,t,r,i)=>{let n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,u=0;for(let t=0;t<s;++t){let s=n[e[t]];if(void 0===s)throw SyntaxError(`Non-${i} character`);c=c<<r|s,(a+=r)>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return o})(t,i,r,e)});var nR=Object.freeze({__proto__:null,identity:nP({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),nN=Object.freeze({__proto__:null,base2:nC({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),nT=Object.freeze({__proto__:null,base8:nC({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),nj=Object.freeze({__proto__:null,base10:nA({prefix:"9",name:"base10",alphabet:"0123456789"})}),nU=Object.freeze({__proto__:null,base16:nC({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:nC({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let nL=nC({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nB=nC({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nM=nC({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nk=nC({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),n$=nC({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nz=nC({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nq=nC({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});var nF=Object.freeze({__proto__:null,base32:nL,base32upper:nB,base32pad:nM,base32padupper:nk,base32hex:n$,base32hexupper:nz,base32hexpad:nq,base32hexpadupper:nC({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:nC({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),nH=Object.freeze({__proto__:null,base36:nA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:nA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),nV=Object.freeze({__proto__:null,base58btc:nA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:nA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let nK=nC({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nW=nC({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});var nG=Object.freeze({__proto__:null,base64:nK,base64pad:nW,base64url:nC({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:nC({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let nY=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),nJ=nY.reduce((e,t,r)=>(e[r]=t,e),[]),nQ=nY.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var nZ=Object.freeze({__proto__:null,base256emoji:nP({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=nJ[t],"")},decode:function(e){let t=[];for(let r of e){let e=nQ[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function nX(e,t,r){t=t||[],r=r||0;for(var i=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,nX.bytes=r-i+1,t}var n0={encode:nX,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let n1=(e,t,r=0)=>(n0.encode(e,t,r),t),n2=e=>n0.encodingLength(e),n3=(e,t)=>{let r=t.byteLength,i=n2(e),n=i+n2(r),s=new Uint8Array(n+r);return n1(e,s,0),n1(r,s,i),s.set(t,n),new n8(e,r,t,s)};class n8{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let n5=({name:e,code:t,encode:r})=>new n6(e,t,r);class n6{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?n3(this.code,t):t.then(e=>n3(this.code,e))}throw Error("Unknown type, must be binary type")}}let n4=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var n9=Object.freeze({__proto__:null,sha256:n5({name:"sha2-256",code:18,encode:n4("SHA-256")}),sha512:n5({name:"sha2-512",code:19,encode:n4("SHA-512")})}),n7=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:nE,digest:e=>n3(0,nE(e))}});new TextEncoder,new TextDecoder;let se={...nR,...nN,...nT,...nj,...nU,...nF,...nH,...nV,...nG,...nZ};function st(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...n9,...n7});let sr=st("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),si=st("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=nm((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),sn={utf8:sr,"utf-8":sr,hex:se.base16,latin1:si,ascii:si,binary:si,...se};function ss(e,t="utf8"){let r=sn[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function so(e,t="utf8"){let r=sn[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?nb(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function sa(e){return ss(so(rN(e),"utf8"),ny)}function sc(e){return["did:key","z"+ss(nw([so("K36",nv),e]),nv)].join(":")}function su(e=id(32)){let t=ng.getPublicKey(e);return{secretKey:nw([e,t]),publicKey:t}}async function sl(e,t,r,i,n=(0,tn.fromMiliseconds)(Date.now())){let s={alg:"EdDSA",typ:"JWT"},o={iss:sc(i.publicKey),sub:e,aud:t,iat:n,exp:n+r},a=so([sa((c={header:s,payload:o}).header),sa(c.payload)].join("."),"utf8");var c,u={header:s,payload:o,signature:ng.sign(a,i.secretKey.slice(0,32))};return[sa(u.header),sa(u.payload),ss(u.signature,ny)].join(".")}let sh="INTERNAL_ERROR",sf="SERVER_ERROR",sd=[-32700,-32600,-32601,-32602,-32603],sp={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[sh]:{code:-32603,message:"Internal error"},[sf]:{code:-32e3,message:"Server error"}};function sg(e){return Object.keys(sp).includes(e)?sp[e]:sp[sf]}function sy(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}var sv=r(7822);function sb(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function sm(e=6){return BigInt(sb(e))}function sw(e,t,r){return{id:r||sb(),jsonrpc:"2.0",method:e,params:t}}function s_(e,t){return{id:e,jsonrpc:"2.0",result:t}}function sE(e,t,r){var i,n,s;return{id:e,jsonrpc:"2.0",error:(i=t,n=r,void 0===i?sg(sh):("string"==typeof i&&(i=Object.assign(Object.assign({},sg(sf)),{message:i})),void 0!==n&&(i.data=n),s=i.code,sd.includes(s)&&(i=function(e){let t=Object.values(sp).find(t=>t.code===e);return t||sp[sf]}(i.code)),i))}}class sI{}class sx extends sI{constructor(){super()}}class sS extends sx{constructor(e){super()}}function sD(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function sO(e){return sD(e,"^https?:")}function sP(e){return sD(e,"^wss?:")}function sA(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function sC(e){return sA(e)&&"method"in e}function sR(e){return sA(e)&&(sN(e)||sT(e))}function sN(e){return"result"in e}function sT(e){return"error"in e}class sj extends sS{constructor(e){super(e),this.events=new E.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(sw(e.method,e.params||[],e.id||sm().toString()),t)}async requestStrict(e,t){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(e){i(e)}this.events.on(`${e.id}`,e=>{sT(e)?i(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){i(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),sR(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let sU=e=>e.split("?")[0],sL="u">typeof WebSocket?WebSocket:"u">typeof r.g&&"u">typeof r.g.WebSocket?r.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(5762);class sB{constructor(e){if(this.url=e,this.events=new E.EventEmitter,this.registering=!1,!sP(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u")return void t(Error("Connection already closed"));this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(rN(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!sP(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{let n=new URLSearchParams(e).get("origin"),s=(0,sv.isReactNative)()?{headers:{origin:n}}:{rejectUnauthorized:!RegExp("wss?://localhost(:d{2,5})?").test(e)},o=new sL(e,[],s);"u">typeof WebSocket||"u">typeof r.g&&"u">typeof r.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket?o.onerror=e=>{i(this.emitError(e.error))}:o.on("error",e=>{i(this.emitError(e))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?rR(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),i=sE(e,r.message||r.toString());this.events.emit("payload",i)}parseError(e,t=this.url){return sy(e,sU(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${sU(this.url)}`));return this.events.emit("register_error",t),t}}var sM=r(5168),sk=r.n(sM),s$=r(8050),sz=r.n(s$),sq=r(5704),sF=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var s=(e.length-t)*u+1>>>0,o=new Uint8Array(s);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var h=0,f=s-1;(0!==l||h<n)&&-1!==f;f--,h++)l+=a*o[f]>>>0,o[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var d=s-n;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(i+(s-d)),g=i;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*l+1>>>0,u=new Uint8Array(o);n!==s;){for(var h=t[n],f=0,d=o-1;(0!==h||f<i)&&-1!==d;d--,f++)h+=256*u[d]>>>0,u[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");i=f,n++}for(var p=o-i;p!==o&&0===u[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(u[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};let sH=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class sV{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class sK{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return sG(this,e)}}class sW{constructor(e){this.decoders=e}or(e){return sG(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let sG=(e,t)=>new sW({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class sY{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new sV(e,t,r),this.decoder=new sK(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let sJ=({name:e,prefix:t,encode:r,decode:i})=>new sY(e,t,r,i),sQ=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:n}=sF(r,t);return sJ({prefix:e,name:t,encode:i,decode:e=>sH(n(e))})},sZ=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>sJ({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],n=(1<<r)-1,s="",o=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,i,r),decode:t=>((e,t,r,i)=>{let n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,u=0;for(let t=0;t<s;++t){let s=n[e[t]];if(void 0===s)throw SyntaxError(`Non-${i} character`);c=c<<r|s,(a+=r)>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return o})(t,i,r,e)});var sX=Object.freeze({__proto__:null,identity:sJ({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),s0=Object.freeze({__proto__:null,base2:sZ({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),s1=Object.freeze({__proto__:null,base8:sZ({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),s2=Object.freeze({__proto__:null,base10:sQ({prefix:"9",name:"base10",alphabet:"0123456789"})}),s3=Object.freeze({__proto__:null,base16:sZ({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:sZ({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let s8=sZ({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s5=sZ({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s6=sZ({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s4=sZ({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),s9=sZ({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),s7=sZ({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),oe=sZ({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});var ot=Object.freeze({__proto__:null,base32:s8,base32upper:s5,base32pad:s6,base32padupper:s4,base32hex:s9,base32hexupper:s7,base32hexpad:oe,base32hexpadupper:sZ({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:sZ({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),or=Object.freeze({__proto__:null,base36:sQ({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:sQ({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),oi=Object.freeze({__proto__:null,base58btc:sQ({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:sQ({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let on=sZ({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),os=sZ({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});var oo=Object.freeze({__proto__:null,base64:on,base64pad:os,base64url:sZ({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:sZ({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let oa=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),oc=oa.reduce((e,t,r)=>(e[r]=t,e),[]),ou=oa.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var ol=Object.freeze({__proto__:null,base256emoji:sJ({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=oc[t],"")},decode:function(e){let t=[];for(let r of e){let e=ou[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function oh(e,t,r){t=t||[],r=r||0;for(var i=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,oh.bytes=r-i+1,t}var of={encode:oh,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let od=(e,t,r=0)=>(of.encode(e,t,r),t),op=e=>of.encodingLength(e),og=(e,t)=>{let r=t.byteLength,i=op(e),n=i+op(r),s=new Uint8Array(n+r);return od(e,s,0),od(r,s,i),s.set(t,n),new oy(e,r,t,s)};class oy{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let ov=({name:e,code:t,encode:r})=>new ob(e,t,r);class ob{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?og(this.code,t):t.then(e=>og(this.code,e))}throw Error("Unknown type, must be binary type")}}let om=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var ow=Object.freeze({__proto__:null,sha256:ov({name:"sha2-256",code:18,encode:om("SHA-256")}),sha512:ov({name:"sha2-512",code:19,encode:om("SHA-512")})}),o_=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:sH,digest:e=>og(0,sH(e))}});new TextEncoder,new TextDecoder;let oE={...sX,...s0,...s1,...s2,...s3,...ot,...or,...oi,...oo,...ol};function oI(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function ox(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...ow,...o_});let oS=ox("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),oD=ox("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?oI(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),oO={utf8:oS,"utf-8":oS,hex:oE.base16,latin1:oD,ascii:oD,binary:oD,...oE},oP="core",oA=`wc@2:${oP}:`,oC={logger:"error"},oR={database:":memory:"},oN="client_ed25519_seed",oT=tn.ONE_DAY,oj=tn.SIX_HOURS,oU="wss://relay.walletconnect.com",oL="wss://relay.walletconnect.org",oB={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},oM={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ok=tn.ONE_SECOND,o$={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},oz=1e3*tn.FIVE_SECONDS,oq={wc_pairingDelete:{req:{ttl:tn.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:tn.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:tn.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:tn.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:tn.ONE_DAY,prompt:!1,tag:0},res:{ttl:tn.ONE_DAY,prompt:!1,tag:0}}},oF={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},oH={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},oV={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},oK="verify-api",oW="https://verify.walletconnect.com",oG="https://verify.walletconnect.org",oY=[oW,oG];class oJ{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=oA,this.init=async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=t8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=r1(t,this.name)}get context(){return r0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,tT(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?tj(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}}}class oQ{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>(this.isInitialized(),sc(su(await this.getClientSeed()).publicKey)),this.generateKeyPair=()=>{this.isInitialized();let e=function(){let e=P.TZ();return{privateKey:e3(e.secretKey,tf),publicKey:e3(e.publicKey,tf)}}();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();let t=su(await this.getClientSeed()),r=tg();return await sl(r,e,oT,t)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();let i=function(e,t){let r=P.Tc(e2(e,tf),e2(t,tf),!0);return e3(new S.i(O.aD,r).expand(32),tf)}(this.getPrivateKey(e),t);return this.setSymKey(i,r)},this.setSymKey=async(e,t)=>{this.isInitialized();let r=t||e3((0,O.tW)(e2(e,tf)),tf);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();let i=tm(r),n=rN(t);if(tw(i)){let t=i.senderPublicKey,r=i.receiverPublicKey;e=await this.generateSharedKey(t,r)}let s=this.getSymKey(e),{type:o,senderPublicKey:a}=i;return function(e){let t=(n="u">typeof e.type?e.type:0,e2(`${n}`,th));if(1===tv(t)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let r="u">typeof e.senderPublicKey?e2(e.senderPublicKey,tf):void 0,i="u">typeof e.iv?e2(e.iv,tf):(0,D.randomBytes)(12);var n,s={type:t,sealed:new x.g6(e2(e.symKey,tf)).seal(i,e2(e.message,tp)),iv:i,senderPublicKey:r};if(1===tv(s.type)){if(typeof s.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return e3(R([s.type,s.senderPublicKey,s.iv,s.sealed]),td)}return e3(R([s.type,s.iv,s.sealed]),td)}({type:o,symKey:s,message:n,senderPublicKey:a})},this.decode=async(e,t,r)=>{this.isInitialized();let i=function(e,t){let r=tb(e);return tm({type:tv(r.type),senderPublicKey:"u">typeof r.senderPublicKey?e3(r.senderPublicKey,tf):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(tw(i)){let t=i.receiverPublicKey,r=i.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let r=this.getSymKey(e),i=function(e){let t=new x.g6(e2(e.symKey,tf)),{sealed:r,iv:i}=tb(e.encoded),n=t.open(i,r);if(null===n)throw Error("Failed to decrypt");return e3(n,tp)}({symKey:r,encoded:t});return rR(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}},this.getPayloadType=e=>tv(tb(e).type),this.getPayloadSenderPublicKey=e=>{let t=tb(e);return t.senderPublicKey?e3(t.senderPublicKey,tf):void 0},this.core=e,this.logger=r1(t,this.name),this.keychain=r||new oJ(this.core,this.logger)}get context(){return r0(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(oN)}catch{e=tg(),await this.keychain.set(oN,e)}return function(e,t="utf8"){let r=oO[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?oI(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}}}class oZ extends r5{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=oA,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();let r=ty(t),i=this.messages.get(e);return typeof i>"u"&&(i={}),"u">typeof i[r]||(i[r]=t,this.messages.set(e,i),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[ty(t)]),this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=r1(e,this.name),this.core=t}get context(){return r0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,tT(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?tj(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}}}class oX extends r6{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new E.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,tn.toMiliseconds)(tn.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(e,t,r)=>{var i;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});try{let n=r?.ttl||oj,s=tV(r),o=r?.prompt||!1,a=r?.tag||0,c=r?.id||sm().toString(),u={topic:e,message:t,opts:{ttl:n,relay:s,prompt:o,tag:a,id:c}},l=setTimeout(()=>this.queue.set(c,u),this.publishTimeout);try{await await tL(this.rpcPublish(e,t,n,s,o,a,c),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(c),this.relayer.events.emit(oB.publish,u)}catch(e){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,null!=(i=r?.internal)&&i.throwOnFailedPublish)throw this.removeRequestFromQueue(c),e;return}finally{clearTimeout(l)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(e),e}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=r1(t,this.name),this.registerEventListeners()}get context(){return r0(this.logger)}rpcPublish(e,t,r,i,n,s,o){var a,c,u,l;let h={method:tK(i.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:n,tag:s},id:o};return t9(null==(a=h.params)?void 0:a.prompt)&&(null==(c=h.params)||delete c.prompt),t9(null==(u=h.params)?void 0:u.tag)&&(null==(l=h.params)||delete l.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:h}),this.relayer.request(h)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:r,opts:i}=e;await this.publish(t,r,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(rz.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(oB.connection_stalled);return}this.checkQueue()}),this.relayer.on(oB.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class o0{constructor(){this.map=new Map,this.set=(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let i=r.filter(e=>e!==t);if(!i.length)return void this.map.delete(e);this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var o1=Object.defineProperty,o2=Object.defineProperties,o3=Object.getOwnPropertyDescriptors,o8=Object.getOwnPropertySymbols,o5=Object.prototype.hasOwnProperty,o6=Object.prototype.propertyIsEnumerable,o4=(e,t,r)=>t in e?o1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o9=(e,t)=>{for(var r in t||(t={}))o5.call(t,r)&&o4(e,r,t[r]);if(o8)for(var r of o8(t))o6.call(t,r)&&o4(e,r,t[r]);return e},o7=(e,t)=>o2(e,o3(t));class ae extends r7{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new o0,this.events=new E.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=oA,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let r=tV(t),i={topic:e,relay:r};this.pending.set(e,i);let n=await this.rpcSubscribe(e,r);return this.onSubscribe(n,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}}),n}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>!!this.topics.includes(e)||await new Promise((t,r)=>{let i=new tn.Watch;i.start(this.pendingSubscriptionWatchLabel);let n=setInterval(()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(n),i.stop(this.pendingSubscriptionWatchLabel),t(!0)),i.elapsed(this.pendingSubscriptionWatchLabel)>=oz&&(clearInterval(n),i.stop(this.pendingSubscriptionWatchLabel),r(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=r1(t,this.name),this.clientId=""}get context(){return r0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let i=tV(r);await this.rpcUnsubscribe(e,t,i);let n=t5("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t){let r={method:tK(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await tL(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(oB.connection_stalled)}return ty(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:tK(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{return await await tL(this.relayer.request(t),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(oB.connection_stalled)}}rpcUnsubscribe(e,t,r){let i={method:tK(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,o7(o9({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,o9({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,o9({},t)),this.topicMap.set(t.topic,e),this.events.emit(o$.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=t8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(o$.deleted,o7(o9({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(o$.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){let e=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(e)}}this.events.emit(o$.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:e}=t8("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let t=await this.rpcBatchSubscribe(e);t6(t)&&this.onBatchSubscribe(t.map((t,r)=>o7(o9({},e[r]),{id:t})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(rz.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(oB.connect,async()=>{await this.onConnect()}),this.relayer.on(oB.disconnect,()=>{this.onDisconnect()}),this.events.on(o$.created,async e=>{let t=o$.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(o$.deleted,async e=>{let t=o$.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var at=Object.defineProperty,ar=Object.getOwnPropertySymbols,ai=Object.prototype.hasOwnProperty,an=Object.prototype.propertyIsEnumerable,as=(e,t,r)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class ao extends r4{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new E.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async e=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(e)}catch(e){throw this.logger.debug("Failed to Publish Request"),this.logger.error(e),e}},this.onPayloadHandler=e=>{this.onProviderPayload(e)},this.onConnectHandler=()=>{this.events.emit(oB.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.error(e),this.events.emit(oB.error,e),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(oM.payload,this.onPayloadHandler),this.provider.on(oM.connect,this.onConnectHandler),this.provider.on(oM.disconnect,this.onDisconnectHandler),this.provider.on(oM.error,this.onProviderErrorHandler)},this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?r1(e.logger,this.name):rF()(rX({level:e.logger||"error"})),this.messages=new oZ(this.logger,e.core),this.subscriber=new ae(this,this.logger),this.publisher=new oX(this,this.logger),this.relayUrl=e?.relayUrl||oU,this.projectId=e.projectId,this.bundleId=function(){var e;try{return tA()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Application)?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch{return}}(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${oL}...`),await this.restartTransport(oL)}this.initialized=!0,setTimeout(async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},1e4)}get context(){return r0(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var r;let i;this.isInitialized();let n=(null==(r=this.subscriber.topicMap.get(e))?void 0:r[0])||"";if(n)return n;let s=t=>{t.topic===e&&(this.subscriber.off(o$.created,s),i())};return await Promise.all([new Promise(e=>{i=e,this.subscriber.on(o$.created,s)}),new Promise(async r=>{n=await this.subscriber.subscribe(e,t),r()})]),n}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await tL(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(e=>{if(!this.initialized)return e();this.subscriber.once(o$.resubscribed,()=>{e()})}),new Promise(async(e,t)=>{try{await tL(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(e){t(e);return}e()})])}catch(e){if(this.logger.error(e),!this.isConnectionStalled(e.message))throw e;this.provider.events.emit(oM.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await rl())throw Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new sj(new sB(function({protocol:e,version:t,relayUrl:i,sdkVersion:n,auth:s,projectId:o,useOnCloseEvent:a,bundleId:c}){var u,l;let h,f=i.split("?"),d=function(e,t,i){let n=function(){if(tR()===tO.reactNative&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)){let{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}let e="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new te:"undefined"!=typeof navigator?function(e){var t=""!==e&&tr.reduce(function(t,r){var i=r[0],n=r[1];if(t)return t;var s=n.exec(e);return!!s&&[i,s]},!1);if(!t)return null;var r=t[0],i=t[1];if("searchbot"===r)return new e7;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<3&&(n=e5(e5([],n,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-n.length),!0)):n=[];var s=n.join("."),o=function(e){for(var t=0,r=ti.length;t<r;t++){var i=ti[t],n=i[0];if(i[1].exec(e))return n}return null}(e),a=tt.exec(e);return a&&a[1]?new e9(r,s,o,a[1]):new e6(r,s,o)}(navigator.userAgent):void 0!==e8&&e8.version?new e4(e8.version.slice(1)):null;if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;let t=tR();return t===tO.browser?[t,(null==(e=(0,ts.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",i].join("-"),n,s].join("/")}(e,t,n),p=(u=f[1]||"",l={auth:s,ua:d,projectId:o,useOnCloseEvent:a||void 0,origin:c||void 0},h=tD(tD({},h=ta.parse(u)),l),u=ta.stringify(h));return f[0]+"?"+p}({sdkVersion:"2.11.0",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;let i=this.messages.has(t,r);return i&&this.logger.debug(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),sC(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:i,publishedAt:n}=t.data,s={topic:r,message:i,publishedAt:n};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(((e,t)=>{for(var r in t||(t={}))ai.call(t,r)&&as(e,r,t[r]);if(ar)for(var r of ar(t))an.call(t,r)&&as(e,r,t[r]);return e})({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}else sR(e)&&this.events.emit(oB.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(oB.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=s_(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(oM.payload,this.onPayloadHandler),this.provider.off(oM.connect,this.onConnectHandler),this.provider.off(oM.disconnect,this.onDisconnectHandler),this.provider.off(oM.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(oB.connection_stalled,()=>{this.restartTransport().catch(e=>this.logger.error(e))});let e=await rl();var t,i,n=async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(e=>this.logger.error(e)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(e=>this.logger.error(e))))};switch(tR()){case tO.browser:t=n,!tA()&&tC()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)));break;case tO.reactNative:i=n,tA()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener(e=>i(e?.isConnected));case tO.node:}}onProviderDisconnect(){this.events.emit(oB.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},(0,tn.toMiliseconds)(ok)))}isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{let t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var aa=Object.defineProperty,ac=Object.getOwnPropertySymbols,au=Object.prototype.hasOwnProperty,al=Object.prototype.propertyIsEnumerable,ah=(e,t,r)=>t in e?aa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,af=(e,t)=>{for(var r in t||(t={}))au.call(t,r)&&ah(e,r,t[r]);if(ac)for(var r of ac(t))al.call(t,r)&&ah(e,r,t[r]);return e};class ad extends r9{constructor(e,t,r,i=oA,n){super(e,t,r,i),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=oA,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!t9(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>sk()(t[r],e[r]))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=af(af({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),await this.persist())},this.logger=r1(t,this.name),this.storagePrefix=i,this.getKey=n}get context(){return r0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:t}=t8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=t8("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}}}class ap{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(I()),this.initialized=!1,this.storagePrefix=oA,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]},this.create=async()=>{this.isInitialized();let e=tg(),t=await this.core.crypto.setSymKey(e),r=tk(tn.FIVE_MINUTES),i={protocol:"irn"},n=function(e){return`${e.protocol}:${e.topic}@${e.version}?`+ta.stringify(((e,t)=>{for(var r in t||(t={}))tY.call(t,r)&&tQ(e,r,t[r]);if(tG)for(var r of tG(t))tJ.call(t,r)&&tQ(e,r,t[r]);return e})({symKey:e.symKey},function(e,t="-"){let r={};return Object.keys(e).forEach(i=>{e[i]&&(r["relay"+t+i]=e[i])}),r}(e.relay)))}({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:e,relay:i});return await this.pairings.set(t,{topic:t,expiry:r,relay:i,active:!1}),await this.core.relayer.subscribe(t),this.core.expirer.set(t,r),{topic:t,uri:n}},this.pair=async e=>{this.isInitialized(),this.isValidPair(e);let{topic:t,symKey:r,relay:i}=tZ(e.uri);if(this.pairings.keys.includes(t)&&this.pairings.get(t).active)throw Error(`Pairing already exists: ${t}. Please try again with a new connection URI.`);let n=tk(tn.FIVE_MINUTES),s={topic:t,relay:i,expiry:n,active:!1};return await this.pairings.set(t,s),this.core.expirer.set(t,n),e.activatePairing&&await this.activate({topic:t}),this.events.emit(oF.create,s),this.core.crypto.keychain.has(t)||(await this.core.crypto.setSymKey(r,t),await this.core.relayer.subscribe(t,{relay:i})),s},this.activate=async({topic:e})=>{this.isInitialized();let t=tk(tn.THIRTY_DAYS);await this.pairings.update(e,{active:!0,expiry:t}),this.core.expirer.set(e,t)},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:i,reject:n}=tU();this.events.once(tz("pairing_ping",e),({error:e})=>{e?n(e):i()}),await r()}},this.updateExpiry=async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})},this.updateMetadata=async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",t5("USER_DISCONNECTED")),await this.deletePairing(t))},this.sendRequest=async(e,t,r)=>{let i=sw(t,r),n=await this.core.crypto.encode(e,i),s=oq[t].req;return this.core.history.set(e,i),this.core.relayer.publish(e,n,s),i.id},this.sendResult=async(e,t,r)=>{let i=s_(e,r),n=await this.core.crypto.encode(t,i),s=oq[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,n,s),await this.core.history.resolve(i)},this.sendError=async(e,t,r)=>{let i=sE(e,r),n=await this.core.crypto.encode(t,i),s=await this.core.history.get(t,e),o=oq[s.request.method]?oq[s.request.method].res:oq.unregistered_method.res;await this.core.relayer.publish(t,n,o),await this.core.history.resolve(i)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,t5("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{let e=this.pairings.getAll().filter(e=>t$(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))},this.onRelayEventRequest=e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,i=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===i?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(i)},this.onPairingPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(oF.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onPairingPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{sN(t)?this.events.emit(tz("pairing_ping",r),{}):sT(t)&&this.events.emit(tz("pairing_ping",r),{error:t.error})},500)},this.onPairingDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(oF.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodRequest=async(e,t)=>{let{id:r,method:i}=t;try{if(this.registeredMethods.includes(i))return;let t=t5("WC_METHOD_UNSUPPORTED",i);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error(t5("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=e=>{var t;if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`pair() params: ${e}`);throw Error(t)}if(!function(e){if(t7(e,!1))try{return"u">typeof new URL(e)}catch{}return!1}(e.uri)){let{message:t}=t8("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw Error(t)}let r=tZ(e.uri);if(!(null!=(t=r?.relay)&&t.protocol)){let{message:e}=t8("MISSING_OR_INVALID","pair() uri#relay-protocol");throw Error(e)}if(!(null!=r&&r.symKey)){let{message:e}=t8("MISSING_OR_INVALID","pair() uri#symKey");throw Error(e)}},this.isValidPing=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!t7(e,!1)){let{message:t}=t8("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=t8("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(t$(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=t8("EXPIRED",`pairing topic: ${e}`);throw Error(t)}},this.core=e,this.logger=r1(t,this.name),this.pairings=new ad(this.core,this.logger,this.name,this.storagePrefix)}get context(){return r0(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(oB.message,async e=>{let{topic:t,message:r}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;let i=await this.core.crypto.decode(t,r);try{sC(i)?(this.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):sR(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.core.history.delete(t,i.id))}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(oV.expired,async e=>{let{topic:t}=tM(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(oF.expire,{topic:t}))})}}class ag extends r8{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new E.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=oA,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let i={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:tk(tn.THIRTY_DAYS)};this.records.set(i.id,i),this.events.emit(oH.created,i)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=sT(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.events.emit(oH.updated,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic===e&&("u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(oH.deleted,r)))})},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=r1(t,this.name)}get context(){return r0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:sw(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=t8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(oH.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=t8("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(oH.created,e=>{let t=oH.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(oH.updated,e=>{let t=oH.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(oH.deleted,e=>{let t=oH.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(rz.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{(0,tn.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}}}class ay extends ie{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new E.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=oA,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}},this.set=(e,t)=>{this.isInitialized();let r=this.formatTarget(e),i={target:r,expiry:t};this.expirations.set(r,i),this.checkExpiry(r,i),this.events.emit(oV.created,{target:r,expiration:i})},this.get=e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(oV.deleted,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=r1(t,this.name)}get context(){return r0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return tB("topic",e);if("number"==typeof e)return tB("id",e);let{message:t}=t8("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(oV.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=t8("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=t8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,tn.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(oV.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(rz.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(oV.created,e=>{let t=oV.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(oV.expired,e=>{let t=oV.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(oV.deleted,e=>{let t=oV.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}}}class av extends it{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=oK,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async e=>{if(this.verifyDisabled||tA()||!tC())return;let t=this.getVerifyUrl(e?.verifyUrl);this.verifyUrl!==t&&this.removeIframe(),this.verifyUrl=t;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e)}if(!this.initialized){this.removeIframe(),this.verifyUrl=oG;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e),this.verifyDisabled=!0}}},this.register=async e=>{this.initialized?this.sendPost(e.attestationId):(this.addToQueue(e.attestationId),await this.init())},this.resolve=async e=>{let t;if(this.isDevEnv)return"";let r=this.getVerifyUrl(e?.verifyUrl);try{t=await this.fetchAttestation(e.attestationId,r)}catch(i){this.logger.info(`failed to resolve attestation: ${e.attestationId} from url: ${r}`),this.logger.info(i),t=await this.fetchAttestation(e.attestationId,oG)}return t},this.fetchAttestation=async(e,t)=>{this.logger.info(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(2*tn.ONE_SECOND),i=await fetch(`${t}/attestation/${e}`,{signal:this.abortController.signal});return clearTimeout(r),200===i.status?await i.json():void 0},this.addToQueue=e=>{this.queue.push(e)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach(e=>this.sendPost(e)),this.queue=[])},this.sendPost=e=>{var t;try{if(!this.iframe)return;null==(t=this.iframe.contentWindow)||t.postMessage(e,"*"),this.logger.info(`postMessage sent: ${e} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let e,t=r=>{"verify_ready"===r.data&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",t),e())};await Promise.race([new Promise(r=>{if(document.getElementById(oK))return r();window.addEventListener("message",t);let i=document.createElement("iframe");i.id=oK,i.src=`${this.verifyUrl}/${this.projectId}`,i.style.display="none",document.body.append(i),this.iframe=i,e=r}),new Promise((e,r)=>setTimeout(()=>{window.removeEventListener("message",t),r("verify iframe load timeout")},(0,tn.toMiliseconds)(tn.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=e=>{let t=e||oW;return oY.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${oW}`),t=oW),t},this.logger=r1(t,this.name),this.verifyUrl=oW,this.abortController=new AbortController,this.isDevEnv=tP()&&sq.env.IS_VITEST}get context(){return r0(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,tn.toMiliseconds)(e))}}class ab extends ir{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async e=>{let{clientId:t,token:r,notificationType:i,enableEncrypted:n=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await sz()(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:i,token:r,always_raw:n})})},this.logger=r1(t,this.context)}}var am=Object.defineProperty,aw=Object.getOwnPropertySymbols,a_=Object.prototype.hasOwnProperty,aE=Object.prototype.propertyIsEnumerable,aI=(e,t,r)=>t in e?am(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ax=(e,t)=>{for(var r in t||(t={}))a_.call(t,r)&&aI(e,r,t[r]);if(aw)for(var r of aw(t))aE.call(t,r)&&aI(e,r,t[r]);return e};class aS extends r3{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=oP,this.events=new E.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||oU,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:rF()(rX({level:e?.logger||oC.logger}));this.logger=r1(t,this.name),this.heartbeat=new rz.HeartBeat,this.crypto=new oQ(this,this.logger,e?.keychain),this.history=new ag(this,this.logger),this.expirer=new ay(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new r$(ax(ax({},oR),e?.storageOptions)),this.relayer=new ao({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ap(this,this.logger),this.verify=new av(this.projectId||"",this.logger),this.echoClient=new ab(this.projectId||"",this.logger)}static async init(e){let t=new aS(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return r0(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}let aD="client",aO=`wc@2:${aD}:`,aP={name:aD,logger:"error"},aA="WALLETCONNECT_DEEPLINK_CHOICE",aC="Proposal expired",aR=tn.SEVEN_DAYS,aN={wc_sessionPropose:{req:{ttl:tn.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:tn.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:tn.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:tn.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:tn.ONE_DAY,prompt:!1,tag:1104},res:{ttl:tn.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:tn.ONE_DAY,prompt:!1,tag:1106},res:{ttl:tn.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:tn.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:tn.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:tn.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:tn.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:tn.ONE_DAY,prompt:!1,tag:1112},res:{ttl:tn.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:tn.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:tn.THIRTY_SECONDS,prompt:!1,tag:1115}}},aT={min:tn.FIVE_MINUTES,max:tn.SEVEN_DAYS},aj={idle:"IDLE",active:"ACTIVE"},aU=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var aL=Object.defineProperty,aB=Object.defineProperties,aM=Object.getOwnPropertyDescriptors,ak=Object.getOwnPropertySymbols,a$=Object.prototype.hasOwnProperty,az=Object.prototype.propertyIsEnumerable,aq=(e,t,r)=>t in e?aL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aF=(e,t)=>{for(var r in t||(t={}))a$.call(t,r)&&aq(e,r,t[r]);if(ak)for(var r of ak(t))az.call(t,r)&&aq(e,r,t[r]);return e},aH=(e,t)=>aB(e,aM(t));class aV extends is{constructor(e){super(e),this.name="engine",this.events=new(I()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.requestQueue={state:aj.idle,queue:[]},this.sessionRequestQueue={state:aj.idle,queue:[]},this.requestQueueDelay=tn.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(aN)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,tn.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{await this.isInitialized();let t=aH(aF({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);let{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:n,sessionProperties:s,relays:o}=t,a=r,c,u=!1;if(a&&(u=this.client.core.pairing.pairings.get(a).active),!a||!u){let{topic:e,uri:t}=await this.client.core.pairing.create();a=e,c=t}let l=await this.client.core.crypto.generateKeyPair(),h=aF({requiredNamespaces:i,optionalNamespaces:n,relays:o??[{protocol:"irn"}],proposer:{publicKey:l,metadata:this.client.metadata}},s&&{sessionProperties:s}),{reject:f,resolve:d,done:p}=tU(tn.FIVE_MINUTES,aC);if(this.events.once(tz("session_connect"),async({error:e,session:t})=>{if(e)f(e);else if(t){t.self.publicKey=l;let e=aH(aF({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces});await this.client.session.set(t.topic,e),await this.setExpiry(t.topic,t.expiry),a&&await this.client.core.pairing.updateMetadata({topic:a,metadata:t.peer.metadata}),d(e)}}),!a){let{message:e}=t8("NO_MATCHING_KEY",`connect() pairing topic: ${a}`);throw Error(e)}let g=await this.sendRequest({topic:a,method:"wc_sessionPropose",params:h}),y=tk(tn.FIVE_MINUTES);return await this.setProposal(g,aF({id:g,expiry:y},h)),{uri:c,approval:p}},this.pair=async e=>(await this.isInitialized(),await this.client.core.pairing.pair(e)),this.approve=async e=>{await this.isInitialized(),await this.isValidApprove(e);let{id:t,relayProtocol:r,namespaces:i,sessionProperties:n}=e,{pairingTopic:s,proposer:o,requiredNamespaces:a,optionalNamespaces:c}=this.client.proposal.get(t);s=s||"",t4(a)||(a=function(e,t){let r=rn(e,t);if(r)throw Error(r.message);let i={};for(let[t,r]of Object.entries(e))i[t]={methods:r.methods,events:r.events,chains:r.accounts.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)};return i}(i,"approve()"));let u=await this.client.core.crypto.generateKeyPair(),l=o.publicKey,h=await this.client.core.crypto.generateSharedKey(u,l);s&&t&&(await this.client.core.pairing.updateMetadata({topic:s,metadata:o.metadata}),await this.sendResult({id:t,topic:s,result:{relay:{protocol:r??"irn"},responderPublicKey:u}}),await this.client.proposal.delete(t,t5("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:s}));let f=aF({relay:{protocol:r??"irn"},namespaces:i,requiredNamespaces:a,optionalNamespaces:c,pairingTopic:s,controller:{publicKey:u,metadata:this.client.metadata},expiry:tk(aR)},n&&{sessionProperties:n});await this.client.core.relayer.subscribe(h),await this.sendRequest({topic:h,method:"wc_sessionSettle",params:f,throwOnFailedPublish:!0});let d=aH(aF({},f),{topic:h,pairingTopic:s,acknowledged:!1,self:f.controller,peer:{publicKey:o.publicKey,metadata:o.metadata},controller:u});return await this.client.session.set(h,d),await this.setExpiry(h,tk(aR)),{topic:h,acknowledged:()=>new Promise(e=>setTimeout(()=>e(this.client.session.get(h)),500))}},this.reject=async e=>{await this.isInitialized(),await this.isValidReject(e);let{id:t,reason:r}=e,{pairingTopic:i}=this.client.proposal.get(t);i&&(await this.sendError(t,i,r),await this.client.proposal.delete(t,t5("USER_DISCONNECTED")))},this.update=async e=>{await this.isInitialized(),await this.isValidUpdate(e);let{topic:t,namespaces:r}=e,i=await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r}}),{done:n,resolve:s,reject:o}=tU();return this.events.once(tz("session_update",i),({error:e})=>{e?o(e):s()}),await this.client.session.update(t,{namespaces:r}),{acknowledged:n}},this.extend=async e=>{await this.isInitialized(),await this.isValidExtend(e);let{topic:t}=e,r=await this.sendRequest({topic:t,method:"wc_sessionExtend",params:{}}),{done:i,resolve:n,reject:s}=tU();return this.events.once(tz("session_extend",r),({error:e})=>{e?s(e):n()}),await this.setExpiry(t,tk(aR)),{acknowledged:i}},this.request=async e=>{await this.isInitialized(),await this.isValidRequest(e);let{chainId:t,request:r,topic:i,expiry:n}=e,s=sb(),{done:o,resolve:a,reject:c}=tU(n,"Request expired. Please try again.");return this.events.once(tz("session_request",s),({error:e,result:t})=>{e?c(e):a(t)}),await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:s,topic:i,method:"wc_sessionRequest",params:{request:r,chainId:t},expiry:n,throwOnFailedPublish:!0}).catch(e=>c(e)),this.client.events.emit("session_request_sent",{topic:i,request:r,chainId:t,id:s}),e()}),new Promise(async e=>{tF({id:s,topic:i,wcDeepLink:await tH(this.client.core.storage,aA)}),e()}),o()]).then(e=>e[2])},this.respond=async e=>{await this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:i}=r;sN(r)?await this.sendResult({id:i,topic:t,result:r.result,throwOnFailedPublish:!0}):sT(r)&&await this.sendError(i,t,r.error),this.cleanupAfterResponse(e)},this.ping=async e=>{await this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=await this.sendRequest({topic:t,method:"wc_sessionPing",params:{}}),{done:r,resolve:i,reject:n}=tU();this.events.once(tz("session_ping",e),({error:e})=>{e?n(e):i()}),await r()}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{await this.isInitialized(),await this.isValidEmit(e);let{topic:t,event:r,chainId:i}=e;await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:i}})},this.disconnect=async e=>{await this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.client.session.keys.includes(t)?(await this.sendRequest({topic:t,method:"wc_sessionDelete",params:t5("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(t)):await this.client.core.pairing.disconnect({topic:t})},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),n=Object.keys(r),s=!0;return!!tN(n,i)&&(i.forEach(t=>{let{accounts:i,methods:n,events:o}=e.namespaces[t],a=tX(i),c=r[t];tN(tl(t,c),a)&&tN(c.methods,n)&&tN(c.events,o)||(s=!1)}),s)})(t,e))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var i,n;return(null==(i=r.peerMetadata)?void 0:i.url)&&(null==(n=r.peerMetadata)?void 0:n.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}},this.deleteSession=async(e,t)=>{let{self:r}=this.client.session.get(e);await this.client.core.relayer.unsubscribe(e),this.client.session.delete(e,t5("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(r.publicKey)&&await this.client.core.crypto.deleteKeyPair(r.publicKey),this.client.core.crypto.keychain.has(e)&&await this.client.core.crypto.deleteSymKey(e),t||this.client.core.expirer.del(e),this.client.core.storage.removeItem(aA).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(t=>{t.topic===e&&this.deletePendingSessionRequest(t.id,t5("USER_DISCONNECTED"))})},this.deleteProposal=async(e,t)=>{await Promise.all([this.client.proposal.delete(e,t5("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)])},this.deletePendingSessionRequest=async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=aj.idle)},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&await this.client.session.update(e,{expiry:t}),this.client.core.expirer.set(e,t)},this.setProposal=async(e,t)=>{await this.client.proposal.set(e,t),this.client.core.expirer.set(e,t.expiry)},this.setPendingSessionRequest=async e=>{let t=aN.wc_sessionRequest.req.ttl,{id:r,topic:i,params:n,verifyContext:s}=e;await this.client.pendingRequest.set(r,{id:r,topic:i,params:n,verifyContext:s}),t&&this.client.core.expirer.set(r,tk(t))},this.sendRequest=async e=>{let{topic:t,method:r,params:i,expiry:n,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:a}=e,c=sw(r,i,o);if(tC()&&aU.includes(r)){let e=ty(JSON.stringify(c));this.client.core.verify.register({attestationId:e})}let u=await this.client.core.crypto.encode(t,c),l=aN[r].req;return n&&(l.ttl=n),s&&(l.id=s),this.client.core.history.set(t,c),a?(l.internal=aH(aF({},l.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,u,l)):this.client.core.relayer.publish(t,u,l).catch(e=>this.client.logger.error(e)),c.id},this.sendResult=async e=>{let{id:t,topic:r,result:i,throwOnFailedPublish:n}=e,s=s_(t,i),o=await this.client.core.crypto.encode(r,s),a=aN[(await this.client.core.history.get(r,t)).request.method].res;n?(a.internal=aH(aF({},a.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,o,a)):this.client.core.relayer.publish(r,o,a).catch(e=>this.client.logger.error(e)),await this.client.core.history.resolve(s)},this.sendError=async(e,t,r)=>{let i=sE(e,r),n=await this.client.core.crypto.encode(t,i),s=aN[(await this.client.core.history.get(t,e)).request.method].res;this.client.core.relayer.publish(t,n,s),await this.client.core.history.resolve(i)},this.cleanup=async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{t$(t.expiry)&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{t$(e.expiry)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession(e)),...t.map(e=>this.deleteProposal(e))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===aj.active)return void this.client.logger.info("Request queue already active, skipping...");for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=aj.active;let e=this.requestQueue.queue.shift();if(e)try{this.processRequest(e),await new Promise(e=>setTimeout(e,300))}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=aj.idle},this.processRequest=e=>{let{topic:t,payload:r}=e,i=r.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeRequest(t,r);case"wc_sessionSettle":return this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return this.onSessionExtendRequest(t,r);case"wc_sessionPing":return this.onSessionPingRequest(t,r);case"wc_sessionDelete":return this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return this.onSessionRequest(t,r);case"wc_sessionEvent":return this.onSessionEventRequest(t,r);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=e=>{let{topic:t}=e,{message:r}=t8("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)},this.onSessionProposeRequest=async(e,t)=>{let{params:r,id:i}=t;try{this.isValidConnect(aF({},t.params));let n=tk(tn.FIVE_MINUTES),s=aF({id:i,pairingTopic:e,expiry:n},r);await this.setProposal(i,s);let o=ty(JSON.stringify(t)),a=await this.getVerifyContext(o,s.proposer.metadata);this.client.events.emit("session_proposal",{id:i,params:s,verifyContext:a})}catch(t){await this.sendError(i,e,t),this.client.logger.error(t)}},this.onSessionProposeResponse=async(e,t)=>{let{id:r}=t;if(sN(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let n=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:n});let s=n.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});let o=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});let a=await this.client.core.crypto.generateSharedKey(s,o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a});let c=await this.client.core.relayer.subscribe(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:e})}else sT(t)&&(await this.client.proposal.delete(r,t5("USER_DISCONNECTED")),this.events.emit(tz("session_connect"),{error:t.error}))},this.onSessionSettleRequest=async(e,t)=>{let{id:r,params:i}=t;try{this.isValidSessionSettleRequest(i);let{relay:r,controller:n,expiry:s,namespaces:o,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,pairingTopic:l}=t.params,h=aF({topic:e,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:l,requiredNamespaces:a,optionalNamespaces:c,controller:n.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:n.publicKey,metadata:n.metadata}},u&&{sessionProperties:u});await this.sendResult({id:t.id,topic:e,result:!0}),this.events.emit(tz("session_connect"),{session:h}),this.cleanupDuplicatePairings(h)}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionSettleResponse=async(e,t)=>{let{id:r}=t;sN(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(tz("session_approve",r),{})):sT(t)&&(await this.client.session.delete(e,t5("USER_DISCONNECTED")),this.events.emit(tz("session_approve",r),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{let{params:r,id:i}=t;try{let t=`${e}_session_update`,n=rd.get(t);if(n&&this.isRequestOutOfSync(n,i))return void this.client.logger.info(`Discarding out of sync request - ${i}`);this.isValidUpdate(aF({topic:e},r)),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:i,topic:e,result:!0}),this.client.events.emit("session_update",{id:i,topic:e,params:r}),rd.set(t,i)}catch(t){await this.sendError(i,e,t),this.client.logger.error(t)}},this.isRequestOutOfSync=(e,t)=>parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,t)=>{let{id:r}=t;sN(t)?this.events.emit(tz("session_update",r),{}):sT(t)&&this.events.emit(tz("session_update",r),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,tk(aR)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionExtendResponse=(e,t)=>{let{id:r}=t;sN(t)?this.events.emit(tz("session_extend",r),{}):sT(t)&&this.events.emit(tz("session_extend",r),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{sN(t)?this.events.emit(tz("session_ping",r),{}):sT(t)&&this.events.emit(tz("session_ping",r),{error:t.error})},500)},this.onSessionDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(oB.publish,async()=>{t(await this.deleteSession(e))})}),this.sendResult({id:r,topic:e,result:!0})]),this.client.events.emit("session_delete",{id:r,topic:e})}catch(e){this.client.logger.error(e)}},this.onSessionRequest=async(e,t)=>{let{id:r,params:i}=t;try{this.isValidRequest(aF({topic:e},i));let t=ty(JSON.stringify(sw("wc_sessionRequest",i,r))),n=this.client.session.get(e),s=await this.getVerifyContext(t,n.peer.metadata),o={id:r,topic:e,params:i,verifyContext:s};await this.setPendingSessionRequest(o),this.addSessionRequestToSessionRequestQueue(o),this.processSessionRequestQueue()}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionRequestResponse=(e,t)=>{let{id:r}=t;sN(t)?this.events.emit(tz("session_request",r),{result:t.result}):sT(t)&&this.events.emit(tz("session_request",r),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{let{id:r,params:i}=t;try{let t=`${e}_session_event_${i.event.name}`,n=rd.get(t);if(n&&this.isRequestOutOfSync(n,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(aF({topic:e},i)),this.client.events.emit("session_event",{id:r,topic:e,params:i}),rd.set(t,r)}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=aj.idle,this.processSessionRequestQueue()},(0,tn.toMiliseconds)(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===aj.active)return void this.client.logger.info("session request queue is already active.");let e=this.sessionRequestQueue.queue[0];if(!e)return void this.client.logger.info("session request queue is empty.");try{this.sessionRequestQueue.state=aj.active,this.client.events.emit("session_request",e)}catch(e){this.client.logger.error(e)}},this.onPairingCreated=e=>{if(e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest(e.topic,sw("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id))},this.isValidConnect=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:n,relays:s}=e;if(t9(t)||await this.isValidPairingTopic(t),!function(e,t){let r=!1;return t&&!e?r=!0:e&&t6(e)&&e.length&&e.forEach(e=>{r=rs(e)}),r}(s,!0)){let{message:e}=t8("MISSING_OR_INVALID",`connect() relays: ${s}`);throw Error(e)}t9(r)||0===t4(r)||this.validateNamespaces(r,"requiredNamespaces"),t9(i)||0===t4(i)||this.validateNamespaces(i,"optionalNamespaces"),t9(n)||this.validateSessionProps(n,"sessionProperties")},this.validateNamespaces=(e,t)=>{let r=function(e,t,r){let i=null;if(e&&t4(e)){let n,s=ri(e,t);s&&(i=s);let o=(n=null,Object.entries(e).forEach(([e,i])=>{var s,o;let a;if(n)return;let c=(s=tl(e,i),o=`${t} ${r}`,a=null,t6(s)&&s.length?s.forEach(e=>{a||rt(e)||(a=t5("UNSUPPORTED_CHAINS",`${o}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):rt(e)||(a=t5("UNSUPPORTED_CHAINS",`${o}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a);c&&(n=c)}),n);o&&(i=o)}else i=t8("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return i}(e,"connect()",t);if(r)throw Error(r.message)},this.isValidApprove=async e=>{if(!ro(e))throw Error(t8("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:i,sessionProperties:n}=e;await this.isValidProposalId(t);let s=this.client.proposal.get(t),o=rn(r,"approve()");if(o)throw Error(o.message);let a=rc(s.requiredNamespaces,r,"approve()");if(a)throw Error(a.message);if(!t7(i,!0)){let{message:e}=t8("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw Error(e)}t9(n)||this.validateSessionProps(n,"sessionProperties")},this.isValidReject=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!re(e.code,!1)||!e.message||!t7(e.message,!1))}(r)){let{message:e}=t8("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidSessionSettleRequest=e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:t,controller:r,namespaces:i,expiry:n}=e;if(!rs(t)){let{message:e}=t8("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let s=function(e,t){let r=null;return t7(e?.publicKey,!1)||(r=t8("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}(r,"onSessionSettleRequest()");if(s)throw Error(s.message);let o=rn(i,"onSessionSettleRequest()");if(o)throw Error(o.message);if(t$(n)){let{message:e}=t8("EXPIRED","onSessionSettleRequest()");throw Error(e)}},this.isValidUpdate=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;await this.isValidSessionTopic(t);let i=this.client.session.get(t),n=rn(r,"update()");if(n)throw Error(n.message);let s=rc(i.requiredNamespaces,r,"update()");if(s)throw Error(s.message)},this.isValidExtend=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:t,request:r,chainId:i,expiry:n}=e;await this.isValidSessionTopic(t);let{namespaces:s}=this.client.session.get(t);if(!ra(s,i)){let{message:e}=t8("MISSING_OR_INVALID",`request() chainId: ${i}`);throw Error(e)}if(!function(e){return!(t9(e)||!t7(e.method,!1))}(r)){let{message:e}=t8("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw Error(e)}if(!function(e,t,r){return!!t7(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{tX(e.accounts).includes(t)&&r.push(...e.methods)}),r})(e,t).includes(r)}(s,i,r.method)){let{message:e}=t8("MISSING_OR_INVALID",`request() method: ${r.method}`);throw Error(e)}if(n&&!function(e,t){return re(e,!1)&&e<=t.max&&e>=t.min}(n,aT)){let{message:e}=t8("MISSING_OR_INVALID",`request() expiry: ${n}. Expiry must be a number (in seconds) between ${aT.min} and ${aT.max}`);throw Error(e)}},this.isValidRespond=async e=>{var t;if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:i}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!function(e){return!(t9(e)||t9(e.result)&&t9(e.error)||!re(e.id,!1)||!t7(e.jsonrpc,!1))}(i)){let{message:e}=t8("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw Error(e)}},this.isValidPing=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:t,event:r,chainId:i}=e;await this.isValidSessionTopic(t);let{namespaces:n}=this.client.session.get(t);if(!ra(n,i)){let{message:e}=t8("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw Error(e)}if(!function(e){return!(t9(e)||!t7(e.name,!1))}(r)||!function(e,t,r){return!!t7(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{tX(e.accounts).includes(t)&&r.push(...e.events)}),r})(e,t).includes(r)}(n,i,r.name)){let{message:e}=t8("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidDisconnect=async e=>{if(!ro(e)){let{message:t}=t8("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.getVerifyContext=async(e,t)=>{let r={verified:{verifyUrl:t.verifyUrl||oW,validation:"UNKNOWN",origin:t.url||""}};try{let i=await this.client.core.verify.resolve({attestationId:e,verifyUrl:t.verifyUrl});i&&(r.verified.origin=i.origin,r.verified.isScam=i.isScam,r.verified.validation=i.origin===new URL(t.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.info(e)}return this.client.logger.info(`Verify context: ${JSON.stringify(r)}`),r},this.validateSessionProps=(e,t)=>{Object.values(e).forEach(e=>{if(!t7(e,!1)){let{message:r}=t8("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`);throw Error(r)}})}}async isInitialized(){if(!this.initialized){let{message:e}=t8("NOT_INITIALIZED",this.name);throw Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(oB.message,async e=>{let{topic:t,message:r}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(r)))return;let i=await this.client.core.crypto.decode(t,r);try{sC(i)?(this.client.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):sR(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.client.core.history.delete(t,i.id)):this.onRelayEventUnknownPayload({topic:t,payload:i})}catch(e){this.client.logger.error(e)}})}registerExpirerEvents(){this.client.core.expirer.on(oV.expired,async e=>{let{topic:t,id:r}=tM(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,t8("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(oF.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!t7(e,!1)){let{message:t}=t8("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=t8("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(t$(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=t8("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!t7(e,!1)){let{message:t}=t8("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=t8("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(t$(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:t}=t8("EXPIRED",`session topic: ${e}`);throw Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(t7(e,!1)){let{message:t}=t8("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=t8("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=t8("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=t8("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(t$(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:t}=t8("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class aK extends ad{constructor(e,t){super(e,t,"proposal",aO),this.core=e,this.logger=t}}class aW extends ad{constructor(e,t){super(e,t,"session",aO),this.core=e,this.logger=t}}class aG extends ad{constructor(e,t){super(e,t,"request",aO,e=>e.id),this.core=e,this.logger=t}}class aY extends ii{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=aP.name,this.events=new E.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}},this.update=async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}},this.request=async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}},this.find=e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.name=e?.name||aP.name,this.metadata=e?.metadata||(0,to.g)()||{name:"",description:"",url:"",icons:[""]};let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:rF()(rX({level:e?.logger||aP.logger}));this.core=e?.core||new aS(e),this.logger=r1(t,this.name),this.session=new aW(this.core,this.logger),this.proposal=new aK(this.core,this.logger),this.pendingRequest=new aG(this.core,this.logger),this.engine=new aV(this)}static async init(e){let t=new aY(e);return await t.initialize(),t}get context(){return r0(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var aJ=r(2749),aQ=r.n(aJ),aZ=Object.defineProperty,aX=Object.defineProperties,a0=Object.getOwnPropertyDescriptors,a1=Object.getOwnPropertySymbols,a2=Object.prototype.hasOwnProperty,a3=Object.prototype.propertyIsEnumerable,a8=(e,t,r)=>t in e?aZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a5=(e,t)=>{for(var r in t||(t={}))a2.call(t,r)&&a8(e,r,t[r]);if(a1)for(var r of a1(t))a3.call(t,r)&&a8(e,r,t[r]);return e},a6=(e,t)=>aX(e,a0(t));let a4={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class a9{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new E.EventEmitter,this.isAvailable=!1,this.registering=!1,!sO(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let t=rN(e),r=await (await aQ()(this.url,a6(a5({},a4),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!sO(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=rN({id:1,jsonrpc:"2.0",method:"test",params:[]});await aQ()(e,a6(a5({},a4),{body:t}))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?rR(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),i=sE(e,r.message||r.toString());this.events.emit("payload",i)}parseError(e,t=this.url){return sy(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}class a7 extends sS{constructor(e){super(e),this.events=new E.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(sw(e.method,e.params||[],e.id||sm().toString()),t)}async requestStrict(e,t){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(e){i(e)}this.events.on(`${e.id}`,e=>{sT(e)?i(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){i(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),sR(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let ce="error",ct="wc@2:universal_provider:",cr={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var ci="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},cn={exports:{}};!function(e,t){(function(){var r,i="Expected a function",n="__lodash_hash_undefined__",s="__lodash_placeholder__",o=1/0,a=0/0,c=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",h="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",y="[object Map]",v="[object Number]",b="[object Object]",m="[object Promise]",w="[object RegExp]",_="[object Set]",E="[object String]",I="[object Symbol]",x="[object WeakMap]",S="[object ArrayBuffer]",D="[object DataView]",O="[object Float32Array]",P="[object Float64Array]",A="[object Int8Array]",C="[object Int16Array]",R="[object Int32Array]",N="[object Uint8Array]",T="[object Uint8ClampedArray]",j="[object Uint16Array]",U="[object Uint32Array]",L=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,k=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,z=RegExp(k.source),q=RegExp($.source),F=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,J=RegExp(Y.source),Q=/^\s+/,Z=/\s/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ee=/\{\n\/\* \[wrapped with (.+)\] \*/,et=/,? & /,er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ei=/[()=,{}\[\]\/\s]/,en=/\\(\\)?/g,es=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eo=/\w*$/,ea=/^[-+]0x[0-9a-f]+$/i,ec=/^0b[01]+$/i,eu=/^\[object .+?Constructor\]$/,el=/^0o[0-7]+$/i,eh=/^(?:0|[1-9]\d*)$/,ef=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ed=/($^)/,ep=/['\n\r\u2028\u2029\\]/g,eg="\ud800-\udfff",ey="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ev="\\u2700-\\u27bf",eb="a-z\\xdf-\\xf6\\xf8-\\xff",em="A-Z\\xc0-\\xd6\\xd8-\\xde",ew="\\ufe0e\\ufe0f",e_="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eE="['’]",eI="["+e_+"]",ex="["+ey+"]",eS="["+eb+"]",eD="[^"+eg+e_+"\\d+"+ev+eb+em+"]",eO="\ud83c[\udffb-\udfff]",eP="[^"+eg+"]",eA="(?:\ud83c[\udde6-\uddff]){2}",eC="[\ud800-\udbff][\udc00-\udfff]",eR="["+em+"]",eN="\\u200d",eT="(?:"+eS+"|"+eD+")",ej="(?:"+eR+"|"+eD+")",eU="(?:"+eE+"(?:d|ll|m|re|s|t|ve))?",eL="(?:"+eE+"(?:D|LL|M|RE|S|T|VE))?",eB="(?:"+ex+"|"+eO+")?",eM="["+ew+"]?",ek="(?:"+eN+"(?:"+[eP,eA,eC].join("|")+")"+eM+eB+")*",e$=eM+eB+ek,ez="(?:"+["["+ev+"]",eA,eC].join("|")+")"+e$,eq="(?:"+[eP+ex+"?",ex,eA,eC,"["+eg+"]"].join("|")+")",eF=RegExp(eE,"g"),eH=RegExp(ex,"g"),eV=RegExp(eO+"(?="+eO+")|"+eq+e$,"g"),eK=RegExp([eR+"?"+eS+"+"+eU+"(?="+[eI,eR,"$"].join("|")+")",ej+"+"+eL+"(?="+[eI,eR+eT,"$"].join("|")+")",eR+"?"+eT+"+"+eU,eR+"+"+eL,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+",ez].join("|"),"g"),eW=RegExp("["+eN+eg+ey+ew+"]"),eG=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eY=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eJ=-1,eQ={};eQ[O]=eQ[P]=eQ[A]=eQ[C]=eQ[R]=eQ[N]=eQ[T]=eQ[j]=eQ[U]=!0,eQ[u]=eQ[l]=eQ[S]=eQ[h]=eQ[D]=eQ[f]=eQ[d]=eQ[p]=eQ[y]=eQ[v]=eQ[b]=eQ[w]=eQ[_]=eQ[E]=eQ[x]=!1;var eZ={};eZ[u]=eZ[l]=eZ[S]=eZ[D]=eZ[h]=eZ[f]=eZ[O]=eZ[P]=eZ[A]=eZ[C]=eZ[R]=eZ[y]=eZ[v]=eZ[b]=eZ[w]=eZ[_]=eZ[E]=eZ[I]=eZ[N]=eZ[T]=eZ[j]=eZ[U]=!0,eZ[d]=eZ[p]=eZ[x]=!1;var eX={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e0=parseFloat,e1=parseInt,e2="object"==typeof ci&&ci&&ci.Object===Object&&ci,e3="object"==typeof self&&self&&self.Object===Object&&self,e8=e2||e3||Function("return this")(),e5=t&&!t.nodeType&&t,e6=e5&&e&&!e.nodeType&&e,e4=e6&&e6.exports===e5,e9=e4&&e2.process,e7=function(){try{return e6&&e6.require&&e6.require("util").types||e9&&e9.binding&&e9.binding("util")}catch{}}(),te=e7&&e7.isArrayBuffer,tt=e7&&e7.isDate,tr=e7&&e7.isMap,ti=e7&&e7.isRegExp,tn=e7&&e7.isSet,ts=e7&&e7.isTypedArray;function to(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function ta(e,t,r,i){for(var n=-1,s=null==e?0:e.length;++n<s;){var o=e[n];t(i,o,r(o),e)}return i}function tc(e,t){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==t(e[r],r,e););return e}function tu(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}function tl(e,t){for(var r=-1,i=null==e?0:e.length,n=0,s=[];++r<i;){var o=e[r];t(o,r,e)&&(s[n++]=o)}return s}function th(e,t){return!!(null==e?0:e.length)&&t_(e,t,0)>-1}function tf(e,t,r){for(var i=-1,n=null==e?0:e.length;++i<n;)if(r(t,e[i]))return!0;return!1}function td(e,t){for(var r=-1,i=null==e?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}function tp(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}function tg(e,t,r,i){var n=-1,s=null==e?0:e.length;for(i&&s&&(r=e[++n]);++n<s;)r=t(r,e[n],n,e);return r}function ty(e,t,r,i){var n=null==e?0:e.length;for(i&&n&&(r=e[--n]);n--;)r=t(r,e[n],n,e);return r}function tv(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var tb=tS("length");function tm(e,t,r){var i;return r(e,function(e,r,n){if(t(e,r,n))return i=r,!1}),i}function tw(e,t,r,i){for(var n=e.length,s=r+(i?1:-1);i?s--:++s<n;)if(t(e[s],s,e))return s;return -1}function t_(e,t,r){return t==t?function(e,t,r){for(var i=r-1,n=e.length;++i<n;)if(e[i]===t)return i;return -1}(e,t,r):tw(e,tI,r)}function tE(e,t,r,i){for(var n=r-1,s=e.length;++n<s;)if(i(e[n],t))return n;return -1}function tI(e){return e!=e}function tx(e,t){var r=null==e?0:e.length;return r?tP(e,t)/r:a}function tS(e){return function(t){return null==t?r:t[e]}}function tD(e){return function(t){return null==e?r:e[t]}}function tO(e,t,r,i,n){return n(e,function(e,n,s){r=i?(i=!1,e):t(r,e,n,s)}),r}function tP(e,t){for(var i,n=-1,s=e.length;++n<s;){var o=t(e[n]);o!==r&&(i=i===r?o:i+o)}return i}function tA(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}function tC(e){return e&&e.slice(0,tK(e)+1).replace(Q,"")}function tR(e){return function(t){return e(t)}}function tN(e,t){return td(t,function(t){return e[t]})}function tT(e,t){return e.has(t)}function tj(e,t){for(var r=-1,i=e.length;++r<i&&t_(t,e[r],0)>-1;);return r}function tU(e,t){for(var r=e.length;r--&&t_(t,e[r],0)>-1;);return r}var tL=tD({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tB=tD({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tM(e){return"\\"+eX[e]}function tk(e){return eW.test(e)}function t$(e){var t=-1,r=Array(e.size);return e.forEach(function(e,i){r[++t]=[i,e]}),r}function tz(e,t){return function(r){return e(t(r))}}function tq(e,t){for(var r=-1,i=e.length,n=0,o=[];++r<i;){var a=e[r];(a===t||a===s)&&(e[r]=s,o[n++]=r)}return o}function tF(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function tH(e){return tk(e)?function(e){for(var t=eV.lastIndex=0;eV.test(e);)++t;return t}(e):tb(e)}function tV(e){return tk(e)?e.match(eV)||[]:e.split("")}function tK(e){for(var t=e.length;t--&&Z.test(e.charAt(t)););return t}var tW=tD({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tG=function e(t){var Z,eg,ey,ev,eb=(t=null==t?e8:tG.defaults(e8.Object(),t,tG.pick(e8,eY))).Array,em=t.Date,ew=t.Error,e_=t.Function,eE=t.Math,eI=t.Object,ex=t.RegExp,eS=t.String,eD=t.TypeError,eO=eb.prototype,eP=e_.prototype,eA=eI.prototype,eC=t["__core-js_shared__"],eR=eP.toString,eN=eA.hasOwnProperty,eT=0,ej=(Z=/[^.]+$/.exec(eC&&eC.keys&&eC.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",eU=eA.toString,eL=eR.call(eI),eB=e8._,eM=ex("^"+eR.call(eN).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ek=e4?t.Buffer:r,e$=t.Symbol,ez=t.Uint8Array,eq=ek?ek.allocUnsafe:r,eV=tz(eI.getPrototypeOf,eI),eW=eI.create,eX=eA.propertyIsEnumerable,e2=eO.splice,e3=e$?e$.isConcatSpreadable:r,e5=e$?e$.iterator:r,e6=e$?e$.toStringTag:r,e9=function(){try{var e=np(eI,"defineProperty");return e({},"",{}),e}catch{}}(),e7=t.clearTimeout!==e8.clearTimeout&&t.clearTimeout,tb=em&&em.now!==e8.Date.now&&em.now,tD=t.setTimeout!==e8.setTimeout&&t.setTimeout,tY=eE.ceil,tJ=eE.floor,tQ=eI.getOwnPropertySymbols,tZ=ek?ek.isBuffer:r,tX=t.isFinite,t0=eO.join,t1=tz(eI.keys,eI),t2=eE.max,t3=eE.min,t8=em.now,t5=t.parseInt,t6=eE.random,t4=eO.reverse,t9=np(t,"DataView"),t7=np(t,"Map"),re=np(t,"Promise"),rt=np(t,"Set"),rr=np(t,"WeakMap"),ri=np(eI,"create"),rn=rr&&new rr,rs={},ro=nk(t9),ra=nk(t7),rc=nk(re),ru=nk(rt),rl=nk(rr),rh=e$?e$.prototype:r,rf=rh?rh.valueOf:r,rd=rh?rh.toString:r;function rp(e){if(sG(e)&&!sB(e)&&!(e instanceof rb)){if(e instanceof rv)return e;if(eN.call(e,"__wrapped__"))return n$(e)}return new rv(e)}var rg=function(){function e(){}return function(t){if(!sW(t))return{};if(eW)return eW(t);e.prototype=t;var i=new e;return e.prototype=r,i}}();function ry(){}function rv(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function rb(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=0xffffffff,this.__views__=[]}function rm(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function rw(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function r_(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function rE(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new r_;++t<r;)this.add(e[t])}function rI(e){var t=this.__data__=new rw(e);this.size=t.size}function rx(e,t){var r=sB(e),i=!r&&sL(e),n=!r&&!i&&sz(e),s=!r&&!i&&!n&&s2(e),o=r||i||n||s,a=o?tA(e.length,eS):[],c=a.length;for(var u in e)(t||eN.call(e,u))&&!(o&&("length"==u||n&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||n_(u,c)))&&a.push(u);return a}function rS(e){var t=e.length;return t?e[il(0,t-1)]:r}rp.templateSettings={escape:F,evaluate:H,interpolate:V,variable:"",imports:{_:rp}},rp.prototype=ry.prototype,rp.prototype.constructor=rp,rv.prototype=rg(ry.prototype),rv.prototype.constructor=rv,rb.prototype=rg(ry.prototype),rb.prototype.constructor=rb,rm.prototype.clear=function(){this.__data__=ri?ri(null):{},this.size=0},rm.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t},rm.prototype.get=function(e){var t=this.__data__;if(ri){var i=t[e];return i===n?r:i}return eN.call(t,e)?t[e]:r},rm.prototype.has=function(e){var t=this.__data__;return ri?t[e]!==r:eN.call(t,e)},rm.prototype.set=function(e,t){var i=this.__data__;return this.size+=+!this.has(e),i[e]=ri&&t===r?n:t,this},rw.prototype.clear=function(){this.__data__=[],this.size=0},rw.prototype.delete=function(e){var t=this.__data__,r=rP(t,e);return!(r<0)&&(r==t.length-1?t.pop():e2.call(t,r,1),--this.size,!0)},rw.prototype.get=function(e){var t=this.__data__,i=rP(t,e);return i<0?r:t[i][1]},rw.prototype.has=function(e){return rP(this.__data__,e)>-1},rw.prototype.set=function(e,t){var r=this.__data__,i=rP(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this},r_.prototype.clear=function(){this.size=0,this.__data__={hash:new rm,map:new(t7||rw),string:new rm}},r_.prototype.delete=function(e){var t=nf(this,e).delete(e);return this.size-=!!t,t},r_.prototype.get=function(e){return nf(this,e).get(e)},r_.prototype.has=function(e){return nf(this,e).has(e)},r_.prototype.set=function(e,t){var r=nf(this,e),i=r.size;return r.set(e,t),this.size+=+(r.size!=i),this},rE.prototype.add=rE.prototype.push=function(e){return this.__data__.set(e,n),this},rE.prototype.has=function(e){return this.__data__.has(e)};function rD(e,t,i){(i===r||sT(e[t],i))&&(i!==r||t in e)||rR(e,t,i)}function rO(e,t,i){var n=e[t];eN.call(e,t)&&sT(n,i)&&(i!==r||t in e)||rR(e,t,i)}function rP(e,t){for(var r=e.length;r--;)if(sT(e[r][0],t))return r;return -1}function rA(e,t,r,i){return rM(e,function(e,n,s){t(i,e,r(e),s)}),i}function rC(e,t){return e&&iF(t,op(t),e)}function rR(e,t,r){"__proto__"==t&&e9?e9(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function rN(e,t){for(var i=-1,n=t.length,s=eb(n),o=null==e;++i<n;)s[i]=o?r:ou(e,t[i]);return s}function rT(e,t,i){return e==e&&(i!==r&&(e=e<=i?e:i),t!==r&&(e=e>=t?e:t)),e}function rj(e,t,i,n,s,o){var a,c=1&t,l=2&t,d=4&t;if(i&&(a=s?i(e,n,s,o):i(e)),a!==r)return a;if(!sW(e))return e;var m=sB(e);if(m){if(L=(x=e).length,B=new x.constructor(L),L&&"string"==typeof x[0]&&eN.call(x,"index")&&(B.index=x.index,B.input=x.input),a=B,!c)return iq(e,a)}else{var x,L,B,M,k,$,z,q,F=nv(e),H=F==p||F==g;if(sz(e))return iL(e,c);if(F==b||F==u||H&&!s){if(a=l||H?{}:nm(e),!c){return l?(M=e,k=(q=a)&&iF(e,og(e),q),iF(M,ny(M),k)):($=e,z=rC(a,e),iF($,ng($),z))}}else{if(!eZ[F])return s?e:{};a=function(e,t,r){var i,n,s=e.constructor;switch(t){case S:return iB(e);case h:case f:return new s(+e);case D:return i=r?iB(e.buffer):e.buffer,new e.constructor(i,e.byteOffset,e.byteLength);case O:case P:case A:case C:case R:case N:case T:case j:case U:return iM(e,r);case y:return new s;case v:case E:return new s(e);case w:return(n=new e.constructor(e.source,eo.exec(e))).lastIndex=e.lastIndex,n;case _:return new s;case I:return rf?eI(rf.call(e)):{}}}(e,F,c)}}o||(o=new rI);var V=o.get(e);if(V)return V;o.set(e,a),sX(e)?e.forEach(function(r){a.add(rj(r,t,i,r,e,o))}):sY(e)&&e.forEach(function(r,n){a.set(n,rj(r,t,i,n,e,o))});var K=d?l?na:no:l?og:op,W=m?r:K(e);return tc(W||e,function(r,n){W&&(r=e[n=r]),rO(a,n,rj(r,t,i,n,e,o))}),a}function rU(e,t,i){var n=i.length;if(null==e)return!n;for(e=eI(e);n--;){var s=i[n],o=t[s],a=e[s];if(a===r&&!(s in e)||!o(a))return!1}return!0}function rL(e,t,n){if("function"!=typeof e)throw new eD(i);return nN(function(){e.apply(r,n)},t)}function rB(e,t,r,i){var n=-1,s=th,o=!0,a=e.length,c=[],u=t.length;if(!a)return c;r&&(t=td(t,tR(r))),i?(s=tf,o=!1):t.length>=200&&(s=tT,o=!1,t=new rE(t));e:for(;++n<a;){var l=e[n],h=null==r?l:r(l);if(l=i||0!==l?l:0,o&&h==h){for(var f=u;f--;)if(t[f]===h)continue e;c.push(l)}else s(t,h,i)||c.push(l)}return c}rI.prototype.clear=function(){this.__data__=new rw,this.size=0},rI.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},rI.prototype.get=function(e){return this.__data__.get(e)},rI.prototype.has=function(e){return this.__data__.has(e)},rI.prototype.set=function(e,t){var r=this.__data__;if(r instanceof rw){var i=r.__data__;if(!t7||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new r_(i)}return r.set(e,t),this.size=r.size,this};var rM=iK(rK),rk=iK(rW,!0);function r$(e,t){var r=!0;return rM(e,function(e,i,n){return r=!!t(e,i,n)}),r}function rz(e,t,i){for(var n=-1,s=e.length;++n<s;){var o=e[n],a=t(o);if(null!=a&&(c===r?a==a&&!s1(a):i(a,c)))var c=a,u=o}return u}function rq(e,t){var r=[];return rM(e,function(e,i,n){t(e,i,n)&&r.push(e)}),r}function rF(e,t,r,i,n){var s=-1,o=e.length;for(r||(r=nw),n||(n=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?rF(a,t-1,r,i,n):tp(n,a):i||(n[n.length]=a)}return n}var rH=iW(),rV=iW(!0);function rK(e,t){return e&&rH(e,t,op)}function rW(e,t){return e&&rV(e,t,op)}function rG(e,t){return tl(t,function(t){return sH(e[t])})}function rY(e,t){t=iT(t,e);for(var i=0,n=t.length;null!=e&&i<n;)e=e[nM(t[i++])];return i&&i==n?e:r}function rJ(e,t,r){var i=t(e);return sB(e)?i:tp(i,r(e))}function rQ(e){var t;return null==e?e===r?"[object Undefined]":"[object Null]":e6&&e6 in eI(e)?function(e){var t=eN.call(e,e6),i=e[e6];try{e[e6]=r;var n=!0}catch{}var s=eU.call(e);return n&&(t?e[e6]=i:delete e[e6]),s}(e):(t=e,eU.call(t))}function rZ(e,t){return e>t}function rX(e,t){return null!=e&&eN.call(e,t)}function r0(e,t){return null!=e&&t in eI(e)}function r1(e,t,i){for(var n=i?tf:th,s=e[0].length,o=e.length,a=o,c=eb(o),u=1/0,l=[];a--;){var h=e[a];a&&t&&(h=td(h,tR(t))),u=t3(h.length,u),c[a]=!i&&(t||s>=120&&h.length>=120)?new rE(a&&h):r}h=e[0];var f=-1,d=c[0];e:for(;++f<s&&l.length<u;){var p=h[f],g=t?t(p):p;if(p=i||0!==p?p:0,!(d?tT(d,g):n(l,g,i))){for(a=o;--a;){var y=c[a];if(!(y?tT(y,g):n(e[a],g,i)))continue e}d&&d.push(g),l.push(p)}}return l}function r2(e,t,i){t=iT(t,e);var n=null==(e=nA(e,t))?e:e[nM(nQ(t))];return null==n?r:to(n,e,i)}function r3(e){return sG(e)&&rQ(e)==u}function r8(e,t,i,n,s){return e===t||(null!=e&&null!=t&&(sG(e)||sG(t))?function(e,t,i,n,s,o){var a=sB(e),c=sB(t),p=a?l:nv(e),g=c?l:nv(t);p=p==u?b:p,g=g==u?b:g;var m=p==b,x=g==b,O=p==g;if(O&&sz(e)){if(!sz(t))return!1;a=!0,m=!1}if(O&&!m)return o||(o=new rI),a||s2(e)?nn(e,t,i,n,s,o):function(e,t,r,i,n,s,o){switch(r){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new ez(e),new ez(t)));case h:case f:case v:return sT(+e,+t);case d:return e.name==t.name&&e.message==t.message;case w:case E:return e==t+"";case y:var a=t$;case _:var c=1&i;if(a||(a=tF),e.size!=t.size&&!c)break;var u=o.get(e);if(u)return u==t;i|=2,o.set(e,t);var l=nn(a(e),a(t),i,n,s,o);return o.delete(e),l;case I:if(rf)return rf.call(e)==rf.call(t)}return!1}(e,t,p,i,n,s,o);if(!(1&i)){var P=m&&eN.call(e,"__wrapped__"),A=x&&eN.call(t,"__wrapped__");if(P||A){var C=P?e.value():e,R=A?t.value():t;return o||(o=new rI),s(C,R,i,n,o)}}return!!O&&(o||(o=new rI),function(e,t,i,n,s,o){var a=1&i,c=no(e),u=c.length;if(u!=no(t).length&&!a)return!1;for(var l=u;l--;){var h=c[l];if(!(a?h in t:eN.call(t,h)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);for(var g=a;++l<u;){var y=e[h=c[l]],v=t[h];if(n)var b=a?n(v,y,h,t,e,o):n(y,v,h,e,t,o);if(!(b===r?y===v||s(y,v,i,n,o):b)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var m=e.constructor,w=t.constructor;m!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof w&&w instanceof w)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,i,n,s,o))}(e,t,i,n,r8,s):e!=e&&t!=t)}function r5(e,t,i,n){var s=i.length,o=s,a=!n;if(null==e)return!o;for(e=eI(e);s--;){var c=i[s];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var u=(c=i[s])[0],l=e[u],h=c[1];if(a&&c[2]){if(l===r&&!(u in e))return!1}else{var f=new rI;if(n)var d=n(l,h,u,e,t,f);if(!(d===r?r8(h,l,3,n,f):d))return!1}}return!0}function r6(e){var t;return!(!sW(e)||(t=e,ej&&ej in t))&&(sH(e)?eM:eu).test(nk(e))}function r4(e){return"function"==typeof e?e:null==e?o$:"object"==typeof e?sB(e)?ir(e[0],e[1]):it(e):oY(e)}function r9(e){if(!nD(e))return t1(e);var t=[];for(var r in eI(e))eN.call(e,r)&&"constructor"!=r&&t.push(r);return t}function r7(e,t){return e<t}function ie(e,t){var r=-1,i=sk(e)?eb(e.length):[];return rM(e,function(e,n,s){i[++r]=t(e,n,s)}),i}function it(e){var t=nd(e);return 1==t.length&&t[0][2]?nO(t[0][0],t[0][1]):function(r){return r===e||r5(r,e,t)}}function ir(e,t){var i;return nI(e)&&(i=t)==i&&!sW(i)?nO(nM(e),t):function(i){var n=ou(i,e);return n===r&&n===t?ol(i,e):r8(t,n,3)}}function ii(e,t,i,n,s){e!==t&&rH(t,function(o,a){if(s||(s=new rI),sW(o))!function(e,t,i,n,s,o,a){var c=nC(e,i),u=nC(t,i),l=a.get(u);if(l)return rD(e,i,l);var h=o?o(c,u,i+"",e,t,a):r,f=h===r;if(f){var d=sB(u),p=!d&&sz(u),g=!d&&!p&&s2(u);h=u,d||p||g?sB(c)?h=c:s$(c)?h=iq(c):p?(f=!1,h=iL(u,!0)):g?(f=!1,h=iM(u,!0)):h=[]:sQ(u)||sL(u)?(h=c,sL(c)?h=oe(c):(!sW(c)||sH(c))&&(h=nm(u))):f=!1}f&&(a.set(u,h),s(h,u,n,o,a),a.delete(u)),rD(e,i,h)}(e,t,a,i,ii,n,s);else{var c=n?n(nC(e,a),o,a+"",e,t,s):r;c===r&&(c=o),rD(e,a,c)}},og)}function is(e,t){var i=e.length;if(i)return n_(t+=t<0?i:0,i)?e[t]:r}function io(e,t,r){t=t.length?td(t,function(e){return sB(e)?function(t){return rY(t,1===e.length?e[0]:e)}:e}):[o$];var i=-1;t=td(t,tR(nh()));var n=ie(e,function(e,r,n){return{criteria:td(t,function(t){return t(e)}),index:++i,value:e}}),s=n.length;for(n.sort(function(e,t){return function(e,t,r){for(var i=-1,n=e.criteria,s=t.criteria,o=n.length,a=r.length;++i<o;){var c=ik(n[i],s[i]);if(c){if(i>=a)return c;return c*("desc"==r[i]?-1:1)}}return e.index-t.index}(e,t,r)});s--;)n[s]=n[s].value;return n}function ia(e,t,r){for(var i=-1,n=t.length,s={};++i<n;){var o=t[i],a=rY(e,o);r(a,o)&&ip(s,iT(o,e),a)}return s}function ic(e,t,r,i){var n=i?tE:t_,s=-1,o=t.length,a=e;for(e===t&&(t=iq(t)),r&&(a=td(e,tR(r)));++s<o;)for(var c=0,u=t[s],l=r?r(u):u;(c=n(a,l,c,i))>-1;)a!==e&&e2.call(a,c,1),e2.call(e,c,1);return e}function iu(e,t){for(var r=e?t.length:0,i=r-1;r--;){var n=t[r];if(r==i||n!==s){var s=n;n_(n)?e2.call(e,n,1):iS(e,n)}}return e}function il(e,t){return e+tJ(t6()*(t-e+1))}function ih(e,t){var r="";if(!e||t<1||t>0x1fffffffffffff)return r;do t%2&&(r+=e),(t=tJ(t/2))&&(e+=e);while(t);return r}function id(e,t){return nT(nP(e,t,o$),e+"")}function ip(e,t,i,n){if(!sW(e))return e;t=iT(t,e);for(var s=-1,o=t.length,a=o-1,c=e;null!=c&&++s<o;){var u=nM(t[s]),l=i;if("__proto__"===u||"constructor"===u||"prototype"===u)break;if(s!=a){var h=c[u];(l=n?n(h,u,c):r)===r&&(l=sW(h)?h:n_(t[s+1])?[]:{})}rO(c,u,l),c=c[u]}return e}var ig=rn?function(e,t){return rn.set(e,t),e}:o$,iy=e9?function(e,t){return e9(e,"toString",{configurable:!0,enumerable:!1,value:oB(t),writable:!0})}:o$;function iv(e,t,r){var i=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(r=r>n?n:r)<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var s=eb(n);++i<n;)s[i]=e[i+t];return s}function ib(e,t){var r;return rM(e,function(e,i,n){return!(r=t(e,i,n))}),!!r}function im(e,t,r){var i=0,n=null==e?i:e.length;if("number"==typeof t&&t==t&&n<=0x7fffffff){for(;i<n;){var s=i+n>>>1,o=e[s];null!==o&&!s1(o)&&(r?o<=t:o<t)?i=s+1:n=s}return n}return iw(e,t,o$,r)}function iw(e,t,i,n){var s=0,o=null==e?0:e.length;if(0===o)return 0;t=i(t);for(var a=t!=t,c=null===t,u=s1(t),l=t===r;s<o;){var h=tJ((s+o)/2),f=i(e[h]),d=f!==r,p=null===f,g=f==f,y=s1(f);if(a)var v=n||g;else v=l?g&&(n||d):c?g&&d&&(n||!p):u?g&&d&&!p&&(n||!y):!p&&!y&&(n?f<=t:f<t);v?s=h+1:o=h}return t3(o,0xfffffffe)}function i_(e,t){for(var r=-1,i=e.length,n=0,s=[];++r<i;){var o=e[r],a=t?t(o):o;if(!r||!sT(a,c)){var c=a;s[n++]=0===o?0:o}}return s}function iE(e){return"number"==typeof e?e:s1(e)?a:+e}function iI(e){if("string"==typeof e)return e;if(sB(e))return td(e,iI)+"";if(s1(e))return rd?rd.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}function ix(e,t,r){var i=-1,n=th,s=e.length,o=!0,a=[],c=a;if(r)o=!1,n=tf;else if(s>=200){var u=t?null:i9(e);if(u)return tF(u);o=!1,n=tT,c=new rE}else c=t?[]:a;e:for(;++i<s;){var l=e[i],h=t?t(l):l;if(l=r||0!==l?l:0,o&&h==h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),a.push(l)}else n(c,h,r)||(c!==a&&c.push(h),a.push(l))}return a}function iS(e,t){return t=iT(t,e),null==(e=nA(e,t))||delete e[nM(nQ(t))]}function iD(e,t,r,i){return ip(e,t,r(rY(e,t)),i)}function iO(e,t,r,i){for(var n=e.length,s=i?n:-1;(i?s--:++s<n)&&t(e[s],s,e););return r?iv(e,i?0:s,i?s+1:n):iv(e,i?s+1:0,i?n:s)}function iP(e,t){var r=e;return r instanceof rb&&(r=r.value()),tg(t,function(e,t){return t.func.apply(t.thisArg,tp([e],t.args))},r)}function iA(e,t,r){var i=e.length;if(i<2)return i?ix(e[0]):[];for(var n=-1,s=eb(i);++n<i;)for(var o=e[n],a=-1;++a<i;)a!=n&&(s[n]=rB(s[n]||o,e[a],t,r));return ix(rF(s,1),t,r)}function iC(e,t,i){for(var n=-1,s=e.length,o=t.length,a={};++n<s;){var c=n<o?t[n]:r;i(a,e[n],c)}return a}function iR(e){return s$(e)?e:[]}function iN(e){return"function"==typeof e?e:o$}function iT(e,t){return sB(e)?e:nI(e,t)?[e]:nB(ot(e))}function ij(e,t,i){var n=e.length;return i=i===r?n:i,!t&&i>=n?e:iv(e,t,i)}var iU=e7||function(e){return e8.clearTimeout(e)};function iL(e,t){if(t)return e.slice();var r=e.length,i=eq?eq(r):new e.constructor(r);return e.copy(i),i}function iB(e){var t=new e.constructor(e.byteLength);return new ez(t).set(new ez(e)),t}function iM(e,t){var r=t?iB(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function ik(e,t){if(e!==t){var i=e!==r,n=null===e,s=e==e,o=s1(e),a=t!==r,c=null===t,u=t==t,l=s1(t);if(!c&&!l&&!o&&e>t||o&&a&&u&&!c&&!l||n&&a&&u||!i&&u||!s)return 1;if(!n&&!o&&!l&&e<t||l&&i&&s&&!n&&!o||c&&i&&s||!a&&s||!u)return -1}return 0}function i$(e,t,r,i){for(var n=-1,s=e.length,o=r.length,a=-1,c=t.length,u=t2(s-o,0),l=eb(c+u),h=!i;++a<c;)l[a]=t[a];for(;++n<o;)(h||n<s)&&(l[r[n]]=e[n]);for(;u--;)l[a++]=e[n++];return l}function iz(e,t,r,i){for(var n=-1,s=e.length,o=-1,a=r.length,c=-1,u=t.length,l=t2(s-a,0),h=eb(l+u),f=!i;++n<l;)h[n]=e[n];for(var d=n;++c<u;)h[d+c]=t[c];for(;++o<a;)(f||n<s)&&(h[d+r[o]]=e[n++]);return h}function iq(e,t){var r=-1,i=e.length;for(t||(t=eb(i));++r<i;)t[r]=e[r];return t}function iF(e,t,i,n){var s=!i;i||(i={});for(var o=-1,a=t.length;++o<a;){var c=t[o],u=n?n(i[c],e[c],c,i,e):r;u===r&&(u=e[c]),s?rR(i,c,u):rO(i,c,u)}return i}function iH(e,t){return function(r,i){var n=sB(r)?ta:rA,s=t?t():{};return n(r,e,nh(i,2),s)}}function iV(e){return id(function(t,i){var n=-1,s=i.length,o=s>1?i[s-1]:r,a=s>2?i[2]:r;for(o=e.length>3&&"function"==typeof o?(s--,o):r,a&&nE(i[0],i[1],a)&&(o=s<3?r:o,s=1),t=eI(t);++n<s;){var c=i[n];c&&e(t,c,n,o)}return t})}function iK(e,t){return function(r,i){if(null==r)return r;if(!sk(r))return e(r,i);for(var n=r.length,s=t?n:-1,o=eI(r);(t?s--:++s<n)&&!1!==i(o[s],s,o););return r}}function iW(e){return function(t,r,i){for(var n=-1,s=eI(t),o=i(t),a=o.length;a--;){var c=o[e?a:++n];if(!1===r(s[c],c,s))break}return t}}function iG(e){return function(t){var i=tk(t=ot(t))?tV(t):r,n=i?i[0]:t.charAt(0),s=i?ij(i,1).join(""):t.slice(1);return n[e]()+s}}function iY(e){return function(t){return tg(oj(oD(t).replace(eF,"")),e,"")}}function iJ(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=rg(e.prototype),i=e.apply(r,t);return sW(i)?i:r}}function iQ(e){return function(t,i,n){var s=eI(t);if(!sk(t)){var o=nh(i,3);t=op(t),i=function(e){return o(s[e],e,s)}}var a=e(t,i,n);return a>-1?s[o?t[a]:a]:r}}function iZ(e){return ns(function(t){var n=t.length,s=n,o=rv.prototype.thru;for(e&&t.reverse();s--;){var a=t[s];if("function"!=typeof a)throw new eD(i);if(o&&!c&&"wrapper"==nu(a))var c=new rv([],!0)}for(s=c?s:n;++s<n;){var u=nu(a=t[s]),l="wrapper"==u?nc(a):r;c=l&&nx(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[nu(l[0])].apply(c,l[3]):1==a.length&&nx(a)?c[u]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&sB(r))return c.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}})}function iX(e,t,i,n,s,o,a,c,u,l){var h=128&t,f=1&t,d=2&t,p=24&t,g=512&t,y=d?r:iJ(e);function v(){for(var b=arguments.length,m=eb(b),w=b;w--;)m[w]=arguments[w];if(p)var _=nl(v),E=function(e,t){for(var r=e.length,i=0;r--;)e[r]===t&&++i;return i}(m,_);if(n&&(m=i$(m,n,s,p)),o&&(m=iz(m,o,a,p)),b-=E,p&&b<l){var I=tq(m,_);return i6(e,t,iX,v.placeholder,i,m,I,c,u,l-b)}var x=f?i:this,S=d?x[e]:e;return b=m.length,c?m=function(e,t){for(var i=e.length,n=t3(t.length,i),s=iq(e);n--;){var o=t[n];e[n]=n_(o,i)?s[o]:r}return e}(m,c):g&&b>1&&m.reverse(),h&&u<b&&(m.length=u),this&&this!==e8&&this instanceof v&&(S=y||iJ(S)),S.apply(x,m)}return v}function i0(e,t){return function(r,i){var n,s;return n=t(i),s={},rK(r,function(t,r,i){e(s,n(t),r,i)}),s}}function i1(e,t){return function(i,n){var s;if(i===r&&n===r)return t;if(i!==r&&(s=i),n!==r){if(s===r)return n;"string"==typeof i||"string"==typeof n?(i=iI(i),n=iI(n)):(i=iE(i),n=iE(n)),s=e(i,n)}return s}}function i2(e){return ns(function(t){return t=td(t,tR(nh())),id(function(r){var i=this;return e(t,function(e){return to(e,i,r)})})})}function i3(e,t){var i=(t=t===r?" ":iI(t)).length;if(i<2)return i?ih(t,e):t;var n=ih(t,tY(e/tH(t)));return tk(t)?ij(tV(n),0,e).join(""):n.slice(0,e)}function i8(e){return function(t,i,n){return n&&"number"!=typeof n&&nE(t,i,n)&&(i=n=r),t=s6(t),i===r?(i=t,t=0):i=s6(i),n=n===r?t<i?1:-1:s6(n),function(e,t,r,i){for(var n=-1,s=t2(tY((t-e)/(r||1)),0),o=eb(s);s--;)o[i?s:++n]=e,e+=r;return o}(t,i,n,e)}}function i5(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=s7(t),r=s7(r)),e(t,r)}}function i6(e,t,i,n,s,o,a,c,u,l){var h=8&t,f=h?a:r,d=h?r:a,p=h?o:r,g=h?r:o;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var y=[e,t,s,p,f,g,d,c,u,l],v=i.apply(r,y);return nx(e)&&nR(v,y),v.placeholder=n,nj(v,e,t)}function i4(e){var t=eE[e];return function(e,r){if(e=s7(e),(r=null==r?0:t3(s4(r),292))&&tX(e)){var i=(ot(e)+"e").split("e");return+((i=(ot(t(i[0]+"e"+(+i[1]+r)))+"e").split("e"))[0]+"e"+(i[1]-r))}return t(e)}}var i9=rt&&1/tF(new rt([,-0]))[1]==o?function(e){return new rt(e)}:oV;function i7(e){return function(t){var r,i,n=nv(t);return n==y?t$(t):n==_?(r=-1,i=Array(t.size),t.forEach(function(e){i[++r]=[e,e]}),i):td(e(t),function(e){return[e,t[e]]})}}function ne(e,t,n,o,a,c,u,l){var h=2&t;if(!h&&"function"!=typeof e)throw new eD(i);var f=o?o.length:0;if(f||(t&=-97,o=a=r),u=u===r?u:t2(s4(u),0),l=l===r?l:s4(l),f-=a?a.length:0,64&t){var d=o,p=a;o=a=r}var g=h?r:nc(e),y=[e,t,n,o,a,d,p,c,u,l];if(g&&function(e,t){var r=e[1],i=t[1],n=r|i,o=n<131,a=128==i&&8==r||128==i&&256==r&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==r;if(o||a){1&i&&(e[2]=t[2],n|=1&r?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?i$(u,c,t[4]):c,e[4]=u?tq(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?iz(u,c,t[6]):c,e[6]=u?tq(e[5],s):t[6]),(c=t[7])&&(e[7]=c),128&i&&(e[8]=null==e[8]?t[8]:t3(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=n}}(y,g),e=y[0],t=y[1],n=y[2],o=y[3],a=y[4],(l=y[9]=y[9]===r?h?0:e.length:t2(y[9]-f,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?P=function(e,t,i){var n=iJ(e);function s(){for(var o=arguments.length,a=eb(o),c=o,u=nl(s);c--;)a[c]=arguments[c];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:tq(a,u);return(o-=l.length)<i?i6(e,t,iX,s.placeholder,r,a,l,r,r,i-o):to(this&&this!==e8&&this instanceof s?n:e,this,a)}return s}(e,t,l):32!=t&&33!=t||a.length?P=iX.apply(r,y):(v=e,b=t,m=n,w=o,_=1&b,E=iJ(v),P=function e(){for(var t=-1,r=arguments.length,i=-1,n=w.length,s=eb(n+r),o=this&&this!==e8&&this instanceof e?E:v;++i<n;)s[i]=w[i];for(;r--;)s[i++]=arguments[++t];return to(o,_?m:this,s)});else var v,b,m,w,_,E,I,x,S,D,O,P=(I=e,x=t,S=n,D=1&x,O=iJ(I),function e(){return(this&&this!==e8&&this instanceof e?O:I).apply(D?S:this,arguments)});return nj((g?ig:nR)(P,y),e,t)}function nt(e,t,i,n){return e===r||sT(e,eA[i])&&!eN.call(n,i)?t:e}function nr(e,t,i,n,s,o){return sW(e)&&sW(t)&&(o.set(t,e),ii(e,t,r,nr,o),o.delete(t)),e}function ni(e){return sQ(e)?r:e}function nn(e,t,i,n,s,o){var a=1&i,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=o.get(e),h=o.get(t);if(l&&h)return l==t&&h==e;var f=-1,d=!0,p=2&i?new rE:r;for(o.set(e,t),o.set(t,e);++f<c;){var g=e[f],y=t[f];if(n)var v=a?n(y,g,f,t,e,o):n(g,y,f,e,t,o);if(v!==r){if(v)continue;d=!1;break}if(p){if(!tv(t,function(e,t){if(!tT(p,t)&&(g===e||s(g,e,i,n,o)))return p.push(t)})){d=!1;break}}else if(!(g===y||s(g,y,i,n,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function ns(e){return nT(nP(e,r,nK),e+"")}function no(e){return rJ(e,op,ng)}function na(e){return rJ(e,og,ny)}var nc=rn?function(e){return rn.get(e)}:oV;function nu(e){for(var t=e.name+"",r=rs[t],i=eN.call(rs,t)?r.length:0;i--;){var n=r[i],s=n.func;if(null==s||s==e)return n.name}return t}function nl(e){return(eN.call(rp,"placeholder")?rp:e).placeholder}function nh(){var e=rp.iteratee||oz;return e=e===oz?r4:e,arguments.length?e(arguments[0],arguments[1]):e}function nf(e,t){var r,i,n=e.__data__;return("string"==(i=typeof(r=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?n["string"==typeof t?"string":"hash"]:n.map}function nd(e){for(var t=op(e),r=t.length;r--;){var i,n=t[r],s=e[n];t[r]=[n,s,(i=s)==i&&!sW(i)]}return t}function np(e,t){var i=null==e?r:e[t];return r6(i)?i:r}var ng=tQ?function(e){return null==e?[]:tl(tQ(e=eI(e)),function(t){return eX.call(e,t)})}:oZ,ny=tQ?function(e){for(var t=[];e;)tp(t,ng(e)),e=eV(e);return t}:oZ,nv=rQ;function nb(e,t,r){t=iT(t,e);for(var i=-1,n=t.length,s=!1;++i<n;){var o=nM(t[i]);if(!(s=null!=e&&r(e,o)))break;e=e[o]}return s||++i!=n?s:!!(n=null==e?0:e.length)&&sK(n)&&n_(o,n)&&(sB(e)||sL(e))}function nm(e){return"function"!=typeof e.constructor||nD(e)?{}:rg(eV(e))}function nw(e){return sB(e)||sL(e)||!!(e3&&e&&e[e3])}function n_(e,t){var r=typeof e;return!!(t=t??0x1fffffffffffff)&&("number"==r||"symbol"!=r&&eh.test(e))&&e>-1&&e%1==0&&e<t}function nE(e,t,r){if(!sW(r))return!1;var i=typeof t;return("number"==i?!!(sk(r)&&n_(t,r.length)):"string"==i&&t in r)&&sT(r[t],e)}function nI(e,t){if(sB(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||s1(e))||W.test(e)||!K.test(e)||null!=t&&e in eI(t)}function nx(e){var t=nu(e),r=rp[t];if("function"!=typeof r||!(t in rb.prototype))return!1;if(e===r)return!0;var i=nc(r);return!!i&&e===i[0]}(t9&&nv(new t9(new ArrayBuffer(1)))!=D||t7&&nv(new t7)!=y||re&&nv(re.resolve())!=m||rt&&nv(new rt)!=_||rr&&nv(new rr)!=x)&&(nv=function(e){var t=rQ(e),i=t==b?e.constructor:r,n=i?nk(i):"";if(n)switch(n){case ro:return D;case ra:return y;case rc:return m;case ru:return _;case rl:return x}return t});var nS=eC?sH:oX;function nD(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eA)}function nO(e,t){return function(i){return null!=i&&i[e]===t&&(t!==r||e in eI(i))}}function nP(e,t,i){return t=t2(t===r?e.length-1:t,0),function(){for(var r=arguments,n=-1,s=t2(r.length-t,0),o=eb(s);++n<s;)o[n]=r[t+n];n=-1;for(var a=eb(t+1);++n<t;)a[n]=r[n];return a[t]=i(o),to(e,this,a)}}function nA(e,t){return t.length<2?e:rY(e,iv(t,0,-1))}function nC(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var nR=nU(ig),nN=tD||function(e,t){return e8.setTimeout(e,t)},nT=nU(iy);function nj(e,t,r){var i,n,s,o=t+"";return nT(e,function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(X,`{
/* [wrapped with `+t+`] */
`)}(o,(i=(s=o.match(ee))?s[1].split(et):[],n=r,tc(c,function(e){var t="_."+e[0];n&e[1]&&!th(i,t)&&i.push(t)}),i.sort())))}function nU(e){var t=0,i=0;return function(){var n=t8(),s=16-(n-i);if(i=n,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function nL(e,t){var i=-1,n=e.length,s=n-1;for(t=t===r?n:t;++i<t;){var o=il(i,s),a=e[o];e[o]=e[i],e[i]=a}return e.length=t,e}var nB=(ey=(eg=sO(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(G,function(e,r,i,n){t.push(i?n.replace(en,"$1"):r||e)}),t},function(e){return 500===ey.size&&ey.clear(),e})).cache,eg);function nM(e){if("string"==typeof e||s1(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function nk(e){if(null!=e){try{return eR.call(e)}catch{}try{return e+""}catch{}}return""}function n$(e){if(e instanceof rb)return e.clone();var t=new rv(e.__wrapped__,e.__chain__);return t.__actions__=iq(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var nz=id(function(e,t){return s$(e)?rB(e,rF(t,1,s$,!0)):[]}),nq=id(function(e,t){var i=nQ(t);return s$(i)&&(i=r),s$(e)?rB(e,rF(t,1,s$,!0),nh(i,2)):[]}),nF=id(function(e,t){var i=nQ(t);return s$(i)&&(i=r),s$(e)?rB(e,rF(t,1,s$,!0),r,i):[]});function nH(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var n=null==r?0:s4(r);return n<0&&(n=t2(i+n,0)),tw(e,nh(t,3),n)}function nV(e,t,i){var n=null==e?0:e.length;if(!n)return -1;var s=n-1;return i!==r&&(s=s4(i),s=i<0?t2(n+s,0):t3(s,n-1)),tw(e,nh(t,3),s,!0)}function nK(e){return(null==e?0:e.length)?rF(e,1):[]}function nW(e){return e&&e.length?e[0]:r}var nG=id(function(e){var t=td(e,iR);return t.length&&t[0]===e[0]?r1(t):[]}),nY=id(function(e){var t=nQ(e),i=td(e,iR);return t===nQ(i)?t=r:i.pop(),i.length&&i[0]===e[0]?r1(i,nh(t,2)):[]}),nJ=id(function(e){var t=nQ(e),i=td(e,iR);return(t="function"==typeof t?t:r)&&i.pop(),i.length&&i[0]===e[0]?r1(i,r,t):[]});function nQ(e){var t=null==e?0:e.length;return t?e[t-1]:r}var nZ=id(nX);function nX(e,t){return e&&e.length&&t&&t.length?ic(e,t):e}var n0=ns(function(e,t){var r=null==e?0:e.length,i=rN(e,t);return iu(e,td(t,function(e){return n_(e,r)?+e:e}).sort(ik)),i});function n1(e){return null==e?e:t4.call(e)}var n2=id(function(e){return ix(rF(e,1,s$,!0))}),n3=id(function(e){var t=nQ(e);return s$(t)&&(t=r),ix(rF(e,1,s$,!0),nh(t,2))}),n8=id(function(e){var t=nQ(e);return t="function"==typeof t?t:r,ix(rF(e,1,s$,!0),r,t)});function n5(e){if(!(e&&e.length))return[];var t=0;return e=tl(e,function(e){if(s$(e))return t=t2(e.length,t),!0}),tA(t,function(t){return td(e,tS(t))})}function n6(e,t){if(!(e&&e.length))return[];var i=n5(e);return null==t?i:td(i,function(e){return to(t,r,e)})}var n4=id(function(e,t){return s$(e)?rB(e,t):[]}),n9=id(function(e){return iA(tl(e,s$))}),n7=id(function(e){var t=nQ(e);return s$(t)&&(t=r),iA(tl(e,s$),nh(t,2))}),se=id(function(e){var t=nQ(e);return t="function"==typeof t?t:r,iA(tl(e,s$),r,t)}),st=id(n5),sr=id(function(e){var t=e.length,i=t>1?e[t-1]:r;return i="function"==typeof i?(e.pop(),i):r,n6(e,i)});function si(e){var t=rp(e);return t.__chain__=!0,t}function sn(e,t){return t(e)}var ss=ns(function(e){var t=e.length,i=t?e[0]:0,n=this.__wrapped__,s=function(t){return rN(t,e)};return!(t>1)&&!this.__actions__.length&&n instanceof rb&&n_(i)?((n=n.slice(i,+i+ +!!t)).__actions__.push({func:sn,args:[s],thisArg:r}),new rv(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(s)}),so=iH(function(e,t,r){eN.call(e,r)?++e[r]:rR(e,r,1)}),sa=iQ(nH),sc=iQ(nV);function su(e,t){return(sB(e)?tc:rM)(e,nh(t,3))}function sl(e,t){return(sB(e)?function(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}:rk)(e,nh(t,3))}var sh=iH(function(e,t,r){eN.call(e,r)?e[r].push(t):rR(e,r,[t])}),sf=id(function(e,t,r){var i=-1,n="function"==typeof t,s=sk(e)?eb(e.length):[];return rM(e,function(e){s[++i]=n?to(t,e,r):r2(e,t,r)}),s}),sd=iH(function(e,t,r){rR(e,r,t)});function sp(e,t){return(sB(e)?td:ie)(e,nh(t,3))}var sg=iH(function(e,t,r){e[+!r].push(t)},function(){return[[],[]]}),sy=id(function(e,t){if(null==e)return[];var r=t.length;return r>1&&nE(e,t[0],t[1])?t=[]:r>2&&nE(t[0],t[1],t[2])&&(t=[t[0]]),io(e,rF(t,1),[])}),sv=tb||function(){return e8.Date.now()};function sb(e,t,i){return t=i?r:t,t=e&&null==t?e.length:t,ne(e,128,r,r,r,r,t)}function sm(e,t){var n;if("function"!=typeof t)throw new eD(i);return e=s4(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var sw=id(function(e,t,r){var i=1;if(r.length){var n=tq(r,nl(sw));i|=32}return ne(e,i,t,r,n)}),s_=id(function(e,t,r){var i=3;if(r.length){var n=tq(r,nl(s_));i|=32}return ne(t,i,e,r,n)});function sE(e,t,i){t=i?r:t;var n=ne(e,8,r,r,r,r,r,t);return n.placeholder=sE.placeholder,n}function sI(e,t,i){t=i?r:t;var n=ne(e,16,r,r,r,r,r,t);return n.placeholder=sI.placeholder,n}function sx(e,t,n){var s,o,a,c,u,l,h=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new eD(i);function g(t){var i=s,n=o;return s=o=r,h=t,c=e.apply(n,i)}function y(e){var i=e-l,n=e-h;return l===r||i>=t||i<0||d&&n>=a}function v(){var e,r,i,n=sv();if(y(n))return b(n);u=nN(v,(e=n-l,r=n-h,i=t-e,d?t3(i,a-r):i))}function b(e){return u=r,p&&s?g(e):(s=o=r,c)}function m(){var e,i=sv(),n=y(i);if(s=arguments,o=this,l=i,n){if(u===r)return h=e=l,u=nN(v,t),f?g(e):c;if(d)return iU(u),u=nN(v,t),g(l)}return u===r&&(u=nN(v,t)),c}return t=s7(t)||0,sW(n)&&(f=!!n.leading,a=(d="maxWait"in n)?t2(s7(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),m.cancel=function(){u!==r&&iU(u),h=0,s=l=o=u=r},m.flush=function(){return u===r?c:b(sv())},m}var sS=id(function(e,t){return rL(e,1,t)}),sD=id(function(e,t,r){return rL(e,s7(t)||0,r)});function sO(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eD(i);var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var o=e.apply(this,i);return r.cache=s.set(n,o)||s,o};return r.cache=new(sO.Cache||r_),r}function sP(e){if("function"!=typeof e)throw new eD(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}sO.Cache=r_;var sA=id(function(e,t){var r=(t=1==t.length&&sB(t[0])?td(t[0],tR(nh())):td(rF(t,1),tR(nh()))).length;return id(function(i){for(var n=-1,s=t3(i.length,r);++n<s;)i[n]=t[n].call(this,i[n]);return to(e,this,i)})}),sC=id(function(e,t){var i=tq(t,nl(sC));return ne(e,32,r,t,i)}),sR=id(function(e,t){var i=tq(t,nl(sR));return ne(e,64,r,t,i)}),sN=ns(function(e,t){return ne(e,256,r,r,r,t)});function sT(e,t){return e===t||e!=e&&t!=t}var sj=i5(rZ),sU=i5(function(e,t){return e>=t}),sL=r3(function(){return arguments}())?r3:function(e){return sG(e)&&eN.call(e,"callee")&&!eX.call(e,"callee")},sB=eb.isArray,sM=te?tR(te):function(e){return sG(e)&&rQ(e)==S};function sk(e){return null!=e&&sK(e.length)&&!sH(e)}function s$(e){return sG(e)&&sk(e)}var sz=tZ||oX,sq=tt?tR(tt):function(e){return sG(e)&&rQ(e)==f};function sF(e){if(!sG(e))return!1;var t=rQ(e);return t==d||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!sQ(e)}function sH(e){if(!sW(e))return!1;var t=rQ(e);return t==p||t==g||"[object AsyncFunction]"==t||"[object Proxy]"==t}function sV(e){return"number"==typeof e&&e==s4(e)}function sK(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}function sW(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function sG(e){return null!=e&&"object"==typeof e}var sY=tr?tR(tr):function(e){return sG(e)&&nv(e)==y};function sJ(e){return"number"==typeof e||sG(e)&&rQ(e)==v}function sQ(e){if(!sG(e)||rQ(e)!=b)return!1;var t=eV(e);if(null===t)return!0;var r=eN.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&eR.call(r)==eL}var sZ=ti?tR(ti):function(e){return sG(e)&&rQ(e)==w},sX=tn?tR(tn):function(e){return sG(e)&&nv(e)==_};function s0(e){return"string"==typeof e||!sB(e)&&sG(e)&&rQ(e)==E}function s1(e){return"symbol"==typeof e||sG(e)&&rQ(e)==I}var s2=ts?tR(ts):function(e){return sG(e)&&sK(e.length)&&!!eQ[rQ(e)]},s3=i5(r7),s8=i5(function(e,t){return e<=t});function s5(e){if(!e)return[];if(sk(e))return s0(e)?tV(e):iq(e);if(e5&&e[e5]){for(var t,r=e[e5](),i=[];!(t=r.next()).done;)i.push(t.value);return i}var n=nv(e);return(n==y?t$:n==_?tF:oI)(e)}function s6(e){return e?(e=s7(e))===o||e===-o?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function s4(e){var t=s6(e),r=t%1;return t==t?r?t-r:t:0}function s9(e){return e?rT(s4(e),0,0xffffffff):0}function s7(e){if("number"==typeof e)return e;if(s1(e))return a;if(sW(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=sW(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tC(e);var r=ec.test(e);return r||el.test(e)?e1(e.slice(2),r?2:8):ea.test(e)?a:+e}function oe(e){return iF(e,og(e))}function ot(e){return null==e?"":iI(e)}var or=iV(function(e,t){if(nD(t)||sk(t))return void iF(t,op(t),e);for(var r in t)eN.call(t,r)&&rO(e,r,t[r])}),oi=iV(function(e,t){iF(t,og(t),e)}),on=iV(function(e,t,r,i){iF(t,og(t),e,i)}),os=iV(function(e,t,r,i){iF(t,op(t),e,i)}),oo=ns(rN),oa=id(function(e,t){e=eI(e);var i=-1,n=t.length,s=n>2?t[2]:r;for(s&&nE(t[0],t[1],s)&&(n=1);++i<n;)for(var o=t[i],a=og(o),c=-1,u=a.length;++c<u;){var l=a[c],h=e[l];(h===r||sT(h,eA[l])&&!eN.call(e,l))&&(e[l]=o[l])}return e}),oc=id(function(e){return e.push(r,nr),to(ov,r,e)});function ou(e,t,i){var n=null==e?r:rY(e,t);return n===r?i:n}function ol(e,t){return null!=e&&nb(e,t,r0)}var oh=i0(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eU.call(t)),e[t]=r},oB(o$)),of=i0(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eU.call(t)),eN.call(e,t)?e[t].push(r):e[t]=[r]},nh),od=id(r2);function op(e){return sk(e)?rx(e):r9(e)}function og(e){return sk(e)?rx(e,!0):function(e){if(!sW(e)){var t=e,r=[];if(null!=t)for(var i in eI(t))r.push(i);return r}var n=nD(e),s=[];for(var o in e)"constructor"==o&&(n||!eN.call(e,o))||s.push(o);return s}(e)}var oy=iV(function(e,t,r){ii(e,t,r)}),ov=iV(function(e,t,r,i){ii(e,t,r,i)}),ob=ns(function(e,t){var r={};if(null==e)return r;var i=!1;t=td(t,function(t){return t=iT(t,e),i||(i=t.length>1),t}),iF(e,na(e),r),i&&(r=rj(r,7,ni));for(var n=t.length;n--;)iS(r,t[n]);return r}),om=ns(function(e,t){return null==e?{}:ia(e,t,function(t,r){return ol(e,r)})});function ow(e,t){if(null==e)return{};var r=td(na(e),function(e){return[e]});return t=nh(t),ia(e,r,function(e,r){return t(e,r[0])})}var o_=i7(op),oE=i7(og);function oI(e){return null==e?[]:tN(e,op(e))}var ox=iY(function(e,t,r){return t=t.toLowerCase(),e+(r?oS(t):t)});function oS(e){return oT(ot(e).toLowerCase())}function oD(e){return(e=ot(e))&&e.replace(ef,tL).replace(eH,"")}var oO=iY(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),oP=iY(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),oA=iG("toLowerCase"),oC=iY(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),oR=iY(function(e,t,r){return e+(r?" ":"")+oT(t)}),oN=iY(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),oT=iG("toUpperCase");function oj(e,t,i){var n;return e=ot(e),(t=i?r:t)===r?(n=e,eG.test(n))?e.match(eK)||[]:e.match(er)||[]:e.match(t)||[]}var oU=id(function(e,t){try{return to(e,r,t)}catch(e){return sF(e)?e:new ew(e)}}),oL=ns(function(e,t){return tc(t,function(t){rR(e,t=nM(t),sw(e[t],e))}),e});function oB(e){return function(){return e}}var oM=iZ(),ok=iZ(!0);function o$(e){return e}function oz(e){return r4("function"==typeof e?e:rj(e,1))}var oq=id(function(e,t){return function(r){return r2(r,e,t)}}),oF=id(function(e,t){return function(r){return r2(e,r,t)}});function oH(e,t,r){var i=op(t),n=rG(t,i);null!=r||sW(t)&&(n.length||!i.length)||(r=t,t=e,e=this,n=rG(t,op(t)));var s=!(sW(r)&&"chain"in r)||!!r.chain,o=sH(e);return tc(n,function(r){var i=t[r];e[r]=i,o&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__);return(r.__actions__=iq(this.__actions__)).push({func:i,args:arguments,thisArg:e}),r.__chain__=t,r}return i.apply(e,tp([this.value()],arguments))})}),e}function oV(){}var oK=i2(td),oW=i2(tu),oG=i2(tv);function oY(e){return nI(e)?tS(nM(e)):function(t){return rY(t,e)}}var oJ=i8(),oQ=i8(!0);function oZ(){return[]}function oX(){return!1}var o0=i1(function(e,t){return e+t},0),o1=i4("ceil"),o2=i1(function(e,t){return e/t},1),o3=i4("floor"),o8=i1(function(e,t){return e*t},1),o5=i4("round"),o6=i1(function(e,t){return e-t},0);return rp.after=function(e,t){if("function"!=typeof t)throw new eD(i);return e=s4(e),function(){if(--e<1)return t.apply(this,arguments)}},rp.ary=sb,rp.assign=or,rp.assignIn=oi,rp.assignInWith=on,rp.assignWith=os,rp.at=oo,rp.before=sm,rp.bind=sw,rp.bindAll=oL,rp.bindKey=s_,rp.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return sB(e)?e:[e]},rp.chain=si,rp.chunk=function(e,t,i){t=(i?nE(e,t,i):t===r)?1:t2(s4(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var s=0,o=0,a=eb(tY(n/t));s<n;)a[o++]=iv(e,s,s+=t);return a},rp.compact=function(e){for(var t=-1,r=null==e?0:e.length,i=0,n=[];++t<r;){var s=e[t];s&&(n[i++]=s)}return n},rp.concat=function(){var e=arguments.length;if(!e)return[];for(var t=eb(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return tp(sB(r)?iq(r):[r],rF(t,1))},rp.cond=function(e){var t=null==e?0:e.length,r=nh();return e=t?td(e,function(e){if("function"!=typeof e[1])throw new eD(i);return[r(e[0]),e[1]]}):[],id(function(r){for(var i=-1;++i<t;){var n=e[i];if(to(n[0],this,r))return to(n[1],this,r)}})},rp.conforms=function(e){var t,r;return r=op(t=rj(e,1)),function(e){return rU(e,t,r)}},rp.constant=oB,rp.countBy=so,rp.create=function(e,t){var r=rg(e);return null==t?r:rC(r,t)},rp.curry=sE,rp.curryRight=sI,rp.debounce=sx,rp.defaults=oa,rp.defaultsDeep=oc,rp.defer=sS,rp.delay=sD,rp.difference=nz,rp.differenceBy=nq,rp.differenceWith=nF,rp.drop=function(e,t,i){var n=null==e?0:e.length;return n?iv(e,(t=i||t===r?1:s4(t))<0?0:t,n):[]},rp.dropRight=function(e,t,i){var n=null==e?0:e.length;return n?iv(e,0,(t=n-(t=i||t===r?1:s4(t)))<0?0:t):[]},rp.dropRightWhile=function(e,t){return e&&e.length?iO(e,nh(t,3),!0,!0):[]},rp.dropWhile=function(e,t){return e&&e.length?iO(e,nh(t,3),!0):[]},rp.fill=function(e,t,i,n){var s=null==e?0:e.length;return s?(i&&"number"!=typeof i&&nE(e,t,i)&&(i=0,n=s),function(e,t,i,n){var s=e.length;for((i=s4(i))<0&&(i=-i>s?0:s+i),(n=n===r||n>s?s:s4(n))<0&&(n+=s),n=i>n?0:s9(n);i<n;)e[i++]=t;return e}(e,t,i,n)):[]},rp.filter=function(e,t){return(sB(e)?tl:rq)(e,nh(t,3))},rp.flatMap=function(e,t){return rF(sp(e,t),1)},rp.flatMapDeep=function(e,t){return rF(sp(e,t),o)},rp.flatMapDepth=function(e,t,i){return i=i===r?1:s4(i),rF(sp(e,t),i)},rp.flatten=nK,rp.flattenDeep=function(e){return(null==e?0:e.length)?rF(e,o):[]},rp.flattenDepth=function(e,t){return(null==e?0:e.length)?rF(e,t=t===r?1:s4(t)):[]},rp.flip=function(e){return ne(e,512)},rp.flow=oM,rp.flowRight=ok,rp.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,i={};++t<r;){var n=e[t];i[n[0]]=n[1]}return i},rp.functions=function(e){return null==e?[]:rG(e,op(e))},rp.functionsIn=function(e){return null==e?[]:rG(e,og(e))},rp.groupBy=sh,rp.initial=function(e){return(null==e?0:e.length)?iv(e,0,-1):[]},rp.intersection=nG,rp.intersectionBy=nY,rp.intersectionWith=nJ,rp.invert=oh,rp.invertBy=of,rp.invokeMap=sf,rp.iteratee=oz,rp.keyBy=sd,rp.keys=op,rp.keysIn=og,rp.map=sp,rp.mapKeys=function(e,t){var r={};return t=nh(t,3),rK(e,function(e,i,n){rR(r,t(e,i,n),e)}),r},rp.mapValues=function(e,t){var r={};return t=nh(t,3),rK(e,function(e,i,n){rR(r,i,t(e,i,n))}),r},rp.matches=function(e){return it(rj(e,1))},rp.matchesProperty=function(e,t){return ir(e,rj(t,1))},rp.memoize=sO,rp.merge=oy,rp.mergeWith=ov,rp.method=oq,rp.methodOf=oF,rp.mixin=oH,rp.negate=sP,rp.nthArg=function(e){return e=s4(e),id(function(t){return is(t,e)})},rp.omit=ob,rp.omitBy=function(e,t){return ow(e,sP(nh(t)))},rp.once=function(e){return sm(2,e)},rp.orderBy=function(e,t,i,n){return null==e?[]:(sB(t)||(t=null==t?[]:[t]),sB(i=n?r:i)||(i=null==i?[]:[i]),io(e,t,i))},rp.over=oK,rp.overArgs=sA,rp.overEvery=oW,rp.overSome=oG,rp.partial=sC,rp.partialRight=sR,rp.partition=sg,rp.pick=om,rp.pickBy=ow,rp.property=oY,rp.propertyOf=function(e){return function(t){return null==e?r:rY(e,t)}},rp.pull=nZ,rp.pullAll=nX,rp.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?ic(e,t,nh(r,2)):e},rp.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?ic(e,t,r,i):e},rp.pullAt=n0,rp.range=oJ,rp.rangeRight=oQ,rp.rearg=sN,rp.reject=function(e,t){return(sB(e)?tl:rq)(e,sP(nh(t,3)))},rp.remove=function(e,t){var r=[];if(!(e&&e.length))return r;var i=-1,n=[],s=e.length;for(t=nh(t,3);++i<s;){var o=e[i];t(o,i,e)&&(r.push(o),n.push(i))}return iu(e,n),r},rp.rest=function(e,t){if("function"!=typeof e)throw new eD(i);return id(e,t=t===r?t:s4(t))},rp.reverse=n1,rp.sampleSize=function(e,t,i){return t=(i?nE(e,t,i):t===r)?1:s4(t),(sB(e)?function(e,t){return nL(iq(e),rT(t,0,e.length))}:function(e,t){var r=oI(e);return nL(r,rT(t,0,r.length))})(e,t)},rp.set=function(e,t,r){return null==e?e:ip(e,t,r)},rp.setWith=function(e,t,i,n){return n="function"==typeof n?n:r,null==e?e:ip(e,t,i,n)},rp.shuffle=function(e){return(sB(e)?function(e){return nL(iq(e))}:function(e){return nL(oI(e))})(e)},rp.slice=function(e,t,i){var n=null==e?0:e.length;return n?(i&&"number"!=typeof i&&nE(e,t,i)?(t=0,i=n):(t=null==t?0:s4(t),i=i===r?n:s4(i)),iv(e,t,i)):[]},rp.sortBy=sy,rp.sortedUniq=function(e){return e&&e.length?i_(e):[]},rp.sortedUniqBy=function(e,t){return e&&e.length?i_(e,nh(t,2)):[]},rp.split=function(e,t,i){return i&&"number"!=typeof i&&nE(e,t,i)&&(t=i=r),(i=i===r?0xffffffff:i>>>0)?(e=ot(e))&&("string"==typeof t||null!=t&&!sZ(t))&&!(t=iI(t))&&tk(e)?ij(tV(e),0,i):e.split(t,i):[]},rp.spread=function(e,t){if("function"!=typeof e)throw new eD(i);return t=null==t?0:t2(s4(t),0),id(function(r){var i=r[t],n=ij(r,0,t);return i&&tp(n,i),to(e,this,n)})},rp.tail=function(e){var t=null==e?0:e.length;return t?iv(e,1,t):[]},rp.take=function(e,t,i){return e&&e.length?iv(e,0,(t=i||t===r?1:s4(t))<0?0:t):[]},rp.takeRight=function(e,t,i){var n=null==e?0:e.length;return n?iv(e,(t=n-(t=i||t===r?1:s4(t)))<0?0:t,n):[]},rp.takeRightWhile=function(e,t){return e&&e.length?iO(e,nh(t,3),!1,!0):[]},rp.takeWhile=function(e,t){return e&&e.length?iO(e,nh(t,3)):[]},rp.tap=function(e,t){return t(e),e},rp.throttle=function(e,t,r){var n=!0,s=!0;if("function"!=typeof e)throw new eD(i);return sW(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),sx(e,t,{leading:n,maxWait:t,trailing:s})},rp.thru=sn,rp.toArray=s5,rp.toPairs=o_,rp.toPairsIn=oE,rp.toPath=function(e){return sB(e)?td(e,nM):s1(e)?[e]:iq(nB(ot(e)))},rp.toPlainObject=oe,rp.transform=function(e,t,r){var i=sB(e),n=i||sz(e)||s2(e);if(t=nh(t,4),null==r){var s=e&&e.constructor;r=n?i?new s:[]:sW(e)&&sH(s)?rg(eV(e)):{}}return(n?tc:rK)(e,function(e,i,n){return t(r,e,i,n)}),r},rp.unary=function(e){return sb(e,1)},rp.union=n2,rp.unionBy=n3,rp.unionWith=n8,rp.uniq=function(e){return e&&e.length?ix(e):[]},rp.uniqBy=function(e,t){return e&&e.length?ix(e,nh(t,2)):[]},rp.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ix(e,r,t):[]},rp.unset=function(e,t){return null==e||iS(e,t)},rp.unzip=n5,rp.unzipWith=n6,rp.update=function(e,t,r){return null==e?e:iD(e,t,iN(r))},rp.updateWith=function(e,t,i,n){return n="function"==typeof n?n:r,null==e?e:iD(e,t,iN(i),n)},rp.values=oI,rp.valuesIn=function(e){return null==e?[]:tN(e,og(e))},rp.without=n4,rp.words=oj,rp.wrap=function(e,t){return sC(iN(t),e)},rp.xor=n9,rp.xorBy=n7,rp.xorWith=se,rp.zip=st,rp.zipObject=function(e,t){return iC(e||[],t||[],rO)},rp.zipObjectDeep=function(e,t){return iC(e||[],t||[],ip)},rp.zipWith=sr,rp.entries=o_,rp.entriesIn=oE,rp.extend=oi,rp.extendWith=on,oH(rp,rp),rp.add=o0,rp.attempt=oU,rp.camelCase=ox,rp.capitalize=oS,rp.ceil=o1,rp.clamp=function(e,t,i){return i===r&&(i=t,t=r),i!==r&&(i=(i=s7(i))==i?i:0),t!==r&&(t=(t=s7(t))==t?t:0),rT(s7(e),t,i)},rp.clone=function(e){return rj(e,4)},rp.cloneDeep=function(e){return rj(e,5)},rp.cloneDeepWith=function(e,t){return rj(e,5,t="function"==typeof t?t:r)},rp.cloneWith=function(e,t){return rj(e,4,t="function"==typeof t?t:r)},rp.conformsTo=function(e,t){return null==t||rU(e,t,op(t))},rp.deburr=oD,rp.defaultTo=function(e,t){return null==e||e!=e?t:e},rp.divide=o2,rp.endsWith=function(e,t,i){e=ot(e),t=iI(t);var n=e.length,s=i=i===r?n:rT(s4(i),0,n);return(i-=t.length)>=0&&e.slice(i,s)==t},rp.eq=sT,rp.escape=function(e){return(e=ot(e))&&q.test(e)?e.replace($,tB):e},rp.escapeRegExp=function(e){return(e=ot(e))&&J.test(e)?e.replace(Y,"\\$&"):e},rp.every=function(e,t,i){var n=sB(e)?tu:r$;return i&&nE(e,t,i)&&(t=r),n(e,nh(t,3))},rp.find=sa,rp.findIndex=nH,rp.findKey=function(e,t){return tm(e,nh(t,3),rK)},rp.findLast=sc,rp.findLastIndex=nV,rp.findLastKey=function(e,t){return tm(e,nh(t,3),rW)},rp.floor=o3,rp.forEach=su,rp.forEachRight=sl,rp.forIn=function(e,t){return null==e?e:rH(e,nh(t,3),og)},rp.forInRight=function(e,t){return null==e?e:rV(e,nh(t,3),og)},rp.forOwn=function(e,t){return e&&rK(e,nh(t,3))},rp.forOwnRight=function(e,t){return e&&rW(e,nh(t,3))},rp.get=ou,rp.gt=sj,rp.gte=sU,rp.has=function(e,t){return null!=e&&nb(e,t,rX)},rp.hasIn=ol,rp.head=nW,rp.identity=o$,rp.includes=function(e,t,r,i){e=sk(e)?e:oI(e),r=r&&!i?s4(r):0;var n=e.length;return r<0&&(r=t2(n+r,0)),s0(e)?r<=n&&e.indexOf(t,r)>-1:!!n&&t_(e,t,r)>-1},rp.indexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var n=null==r?0:s4(r);return n<0&&(n=t2(i+n,0)),t_(e,t,n)},rp.inRange=function(e,t,i){var n,s,o;return t=s6(t),i===r?(i=t,t=0):i=s6(i),(n=e=s7(e))>=t3(s=t,o=i)&&n<t2(s,o)},rp.invoke=od,rp.isArguments=sL,rp.isArray=sB,rp.isArrayBuffer=sM,rp.isArrayLike=sk,rp.isArrayLikeObject=s$,rp.isBoolean=function(e){return!0===e||!1===e||sG(e)&&rQ(e)==h},rp.isBuffer=sz,rp.isDate=sq,rp.isElement=function(e){return sG(e)&&1===e.nodeType&&!sQ(e)},rp.isEmpty=function(e){if(null==e)return!0;if(sk(e)&&(sB(e)||"string"==typeof e||"function"==typeof e.splice||sz(e)||s2(e)||sL(e)))return!e.length;var t=nv(e);if(t==y||t==_)return!e.size;if(nD(e))return!r9(e).length;for(var r in e)if(eN.call(e,r))return!1;return!0},rp.isEqual=function(e,t){return r8(e,t)},rp.isEqualWith=function(e,t,i){var n=(i="function"==typeof i?i:r)?i(e,t):r;return n===r?r8(e,t,r,i):!!n},rp.isError=sF,rp.isFinite=function(e){return"number"==typeof e&&tX(e)},rp.isFunction=sH,rp.isInteger=sV,rp.isLength=sK,rp.isMap=sY,rp.isMatch=function(e,t){return e===t||r5(e,t,nd(t))},rp.isMatchWith=function(e,t,i){return i="function"==typeof i?i:r,r5(e,t,nd(t),i)},rp.isNaN=function(e){return sJ(e)&&e!=+e},rp.isNative=function(e){if(nS(e))throw new ew("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return r6(e)},rp.isNil=function(e){return null==e},rp.isNull=function(e){return null===e},rp.isNumber=sJ,rp.isObject=sW,rp.isObjectLike=sG,rp.isPlainObject=sQ,rp.isRegExp=sZ,rp.isSafeInteger=function(e){return sV(e)&&e>=-0x1fffffffffffff&&e<=0x1fffffffffffff},rp.isSet=sX,rp.isString=s0,rp.isSymbol=s1,rp.isTypedArray=s2,rp.isUndefined=function(e){return e===r},rp.isWeakMap=function(e){return sG(e)&&nv(e)==x},rp.isWeakSet=function(e){return sG(e)&&"[object WeakSet]"==rQ(e)},rp.join=function(e,t){return null==e?"":t0.call(e,t)},rp.kebabCase=oO,rp.last=nQ,rp.lastIndexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return -1;var s=n;return i!==r&&(s=(s=s4(i))<0?t2(n+s,0):t3(s,n-1)),t==t?function(e,t,r){for(var i=r+1;i--&&e[i]!==t;);return i}(e,t,s):tw(e,tI,s,!0)},rp.lowerCase=oP,rp.lowerFirst=oA,rp.lt=s3,rp.lte=s8,rp.max=function(e){return e&&e.length?rz(e,o$,rZ):r},rp.maxBy=function(e,t){return e&&e.length?rz(e,nh(t,2),rZ):r},rp.mean=function(e){return tx(e,o$)},rp.meanBy=function(e,t){return tx(e,nh(t,2))},rp.min=function(e){return e&&e.length?rz(e,o$,r7):r},rp.minBy=function(e,t){return e&&e.length?rz(e,nh(t,2),r7):r},rp.stubArray=oZ,rp.stubFalse=oX,rp.stubObject=function(){return{}},rp.stubString=function(){return""},rp.stubTrue=function(){return!0},rp.multiply=o8,rp.nth=function(e,t){return e&&e.length?is(e,s4(t)):r},rp.noConflict=function(){return e8._===this&&(e8._=eB),this},rp.noop=oV,rp.now=sv,rp.pad=function(e,t,r){e=ot(e);var i=(t=s4(t))?tH(e):0;if(!t||i>=t)return e;var n=(t-i)/2;return i3(tJ(n),r)+e+i3(tY(n),r)},rp.padEnd=function(e,t,r){e=ot(e);var i=(t=s4(t))?tH(e):0;return t&&i<t?e+i3(t-i,r):e},rp.padStart=function(e,t,r){e=ot(e);var i=(t=s4(t))?tH(e):0;return t&&i<t?i3(t-i,r)+e:e},rp.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t*=1),t5(ot(e).replace(Q,""),t||0)},rp.random=function(e,t,i){if(i&&"boolean"!=typeof i&&nE(e,t,i)&&(t=i=r),i===r&&("boolean"==typeof t?(i=t,t=r):"boolean"==typeof e&&(i=e,e=r)),e===r&&t===r?(e=0,t=1):(e=s6(e),t===r?(t=e,e=0):t=s6(t)),e>t){var n=e;e=t,t=n}if(i||e%1||t%1){var s=t6();return t3(e+s*(t-e+e0("1e-"+((s+"").length-1))),t)}return il(e,t)},rp.reduce=function(e,t,r){var i=sB(e)?tg:tO,n=arguments.length<3;return i(e,nh(t,4),r,n,rM)},rp.reduceRight=function(e,t,r){var i=sB(e)?ty:tO,n=arguments.length<3;return i(e,nh(t,4),r,n,rk)},rp.repeat=function(e,t,i){return t=(i?nE(e,t,i):t===r)?1:s4(t),ih(ot(e),t)},rp.replace=function(){var e=arguments,t=ot(e[0]);return e.length<3?t:t.replace(e[1],e[2])},rp.result=function(e,t,i){t=iT(t,e);var n=-1,s=t.length;for(s||(s=1,e=r);++n<s;){var o=null==e?r:e[nM(t[n])];o===r&&(n=s,o=i),e=sH(o)?o.call(e):o}return e},rp.round=o5,rp.runInContext=e,rp.sample=function(e){return(sB(e)?rS:function(e){return rS(oI(e))})(e)},rp.size=function(e){if(null==e)return 0;if(sk(e))return s0(e)?tH(e):e.length;var t=nv(e);return t==y||t==_?e.size:r9(e).length},rp.snakeCase=oC,rp.some=function(e,t,i){var n=sB(e)?tv:ib;return i&&nE(e,t,i)&&(t=r),n(e,nh(t,3))},rp.sortedIndex=function(e,t){return im(e,t)},rp.sortedIndexBy=function(e,t,r){return iw(e,t,nh(r,2))},rp.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var i=im(e,t);if(i<r&&sT(e[i],t))return i}return -1},rp.sortedLastIndex=function(e,t){return im(e,t,!0)},rp.sortedLastIndexBy=function(e,t,r){return iw(e,t,nh(r,2),!0)},rp.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=im(e,t,!0)-1;if(sT(e[r],t))return r}return -1},rp.startCase=oR,rp.startsWith=function(e,t,r){return e=ot(e),r=null==r?0:rT(s4(r),0,e.length),t=iI(t),e.slice(r,r+t.length)==t},rp.subtract=o6,rp.sum=function(e){return e&&e.length?tP(e,o$):0},rp.sumBy=function(e,t){return e&&e.length?tP(e,nh(t,2)):0},rp.template=function(e,t,i){var n=rp.templateSettings;i&&nE(e,t,i)&&(t=r),e=ot(e),t=on({},t,n,nt);var s,o,a=on({},t.imports,n.imports,nt),c=op(a),u=tN(a,c),l=0,h=t.interpolate||ed,f="__p += '",d=ex((t.escape||ed).source+"|"+h.source+"|"+(h===V?es:ed).source+"|"+(t.evaluate||ed).source+"|$","g"),p="//# sourceURL="+(eN.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eJ+"]")+`
`;e.replace(d,function(t,r,i,n,a,c){return i||(i=n),f+=e.slice(l,c).replace(ep,tM),r&&(s=!0,f+=`' +
__e(`+r+`) +
'`),a&&(o=!0,f+=`';
`+a+`;
__p += '`),i&&(f+=`' +
((__t = (`+i+`)) == null ? '' : __t) +
'`),l=c+t.length,t}),f+=`';
`;var g=eN.call(t,"variable")&&t.variable;if(g){if(ei.test(g))throw new ew("Invalid `variable` option passed into `_.template`")}else f=`with (obj) {
`+f+`
}
`;f=(o?f.replace(L,""):f).replace(B,"$1").replace(M,"$1;"),f="function("+(g||"obj")+`) {
`+(g?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var y=oU(function(){return e_(c,p+"return "+f).apply(r,u)});if(y.source=f,sF(y))throw y;return y},rp.times=function(e,t){if((e=s4(e))<1||e>0x1fffffffffffff)return[];var r=0xffffffff,i=t3(e,0xffffffff);t=nh(t),e-=0xffffffff;for(var n=tA(i,t);++r<e;)t(r);return n},rp.toFinite=s6,rp.toInteger=s4,rp.toLength=s9,rp.toLower=function(e){return ot(e).toLowerCase()},rp.toNumber=s7,rp.toSafeInteger=function(e){return e?rT(s4(e),-0x1fffffffffffff,0x1fffffffffffff):0===e?e:0},rp.toString=ot,rp.toUpper=function(e){return ot(e).toUpperCase()},rp.trim=function(e,t,i){if((e=ot(e))&&(i||t===r))return tC(e);if(!e||!(t=iI(t)))return e;var n=tV(e),s=tV(t),o=tj(n,s),a=tU(n,s)+1;return ij(n,o,a).join("")},rp.trimEnd=function(e,t,i){if((e=ot(e))&&(i||t===r))return e.slice(0,tK(e)+1);if(!e||!(t=iI(t)))return e;var n=tV(e),s=tU(n,tV(t))+1;return ij(n,0,s).join("")},rp.trimStart=function(e,t,i){if((e=ot(e))&&(i||t===r))return e.replace(Q,"");if(!e||!(t=iI(t)))return e;var n=tV(e),s=tj(n,tV(t));return ij(n,s).join("")},rp.truncate=function(e,t){var i=30,n="...";if(sW(t)){var s="separator"in t?t.separator:s;i="length"in t?s4(t.length):i,n="omission"in t?iI(t.omission):n}var o=(e=ot(e)).length;if(tk(e)){var a=tV(e);o=a.length}if(i>=o)return e;var c=i-tH(n);if(c<1)return n;var u=a?ij(a,0,c).join(""):e.slice(0,c);if(s===r)return u+n;if(a&&(c+=u.length-c),sZ(s)){if(e.slice(c).search(s)){var l,h=u;for(s.global||(s=ex(s.source,ot(eo.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var f=l.index;u=u.slice(0,f===r?c:f)}}else if(e.indexOf(iI(s),c)!=c){var d=u.lastIndexOf(s);d>-1&&(u=u.slice(0,d))}return u+n},rp.unescape=function(e){return(e=ot(e))&&z.test(e)?e.replace(k,tW):e},rp.uniqueId=function(e){var t=++eT;return ot(e)+t},rp.upperCase=oN,rp.upperFirst=oT,rp.each=su,rp.eachRight=sl,rp.first=nW,oH(rp,(ev={},rK(rp,function(e,t){eN.call(rp.prototype,t)||(ev[t]=e)}),ev),{chain:!1}),rp.VERSION="4.17.21",tc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){rp[e].placeholder=rp}),tc(["drop","take"],function(e,t){rb.prototype[e]=function(i){i=i===r?1:t2(s4(i),0);var n=this.__filtered__&&!t?new rb(this):this.clone();return n.__filtered__?n.__takeCount__=t3(i,n.__takeCount__):n.__views__.push({size:t3(i,0xffffffff),type:e+(n.__dir__<0?"Right":"")}),n},rb.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tc(["filter","map","takeWhile"],function(e,t){var r=t+1,i=1==r||3==r;rb.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:nh(e,3),type:r}),t.__filtered__=t.__filtered__||i,t}}),tc(["head","last"],function(e,t){var r="take"+(t?"Right":"");rb.prototype[e]=function(){return this[r](1).value()[0]}}),tc(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");rb.prototype[e]=function(){return this.__filtered__?new rb(this):this[r](1)}}),rb.prototype.compact=function(){return this.filter(o$)},rb.prototype.find=function(e){return this.filter(e).head()},rb.prototype.findLast=function(e){return this.reverse().find(e)},rb.prototype.invokeMap=id(function(e,t){return"function"==typeof e?new rb(this):this.map(function(r){return r2(r,e,t)})}),rb.prototype.reject=function(e){return this.filter(sP(nh(e)))},rb.prototype.slice=function(e,t){e=s4(e);var i=this;return i.__filtered__&&(e>0||t<0)?new rb(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==r&&(i=(t=s4(t))<0?i.dropRight(-t):i.take(t-e)),i)},rb.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},rb.prototype.toArray=function(){return this.take(0xffffffff)},rK(rb.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),s=rp[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);s&&(rp.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,c=t instanceof rb,u=a[0],l=c||sB(t),h=function(e){var t=s.apply(rp,tp([e],a));return n&&f?t[0]:t};l&&i&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,g=c&&!d;if(!o&&l){t=g?t:new rb(this);var y=e.apply(t,a);return y.__actions__.push({func:sn,args:[h],thisArg:r}),new rv(y,f)}return p&&g?e.apply(this,a):(y=this.thru(h),p?n?y.value()[0]:y.value():y)})}),tc(["pop","push","shift","sort","splice","unshift"],function(e){var t=eO[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);rp.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(sB(n)?n:[],e)}return this[r](function(r){return t.apply(sB(r)?r:[],e)})}}),rK(rb.prototype,function(e,t){var r=rp[t];if(r){var i=r.name+"";eN.call(rs,i)||(rs[i]=[]),rs[i].push({name:t,func:r})}}),rs[iX(r,2).name]=[{name:"wrapper",func:r}],rb.prototype.clone=function(){var e=new rb(this.__wrapped__);return e.__actions__=iq(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=iq(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=iq(this.__views__),e},rb.prototype.reverse=function(){if(this.__filtered__){var e=new rb(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},rb.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=sB(e),i=t<0,n=r?e.length:0,s=function(e,t,r){for(var i=-1,n=r.length;++i<n;){var s=r[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=t3(t,e+o);break;case"takeRight":e=t2(e,t-o)}}return{start:e,end:t}}(0,n,this.__views__),o=s.start,a=s.end,c=a-o,u=i?a:o-1,l=this.__iteratees__,h=l.length,f=0,d=t3(c,this.__takeCount__);if(!r||!i&&n==c&&d==c)return iP(e,this.__actions__);var p=[];e:for(;c--&&f<d;){u+=t;for(var g=-1,y=e[u];++g<h;){var v=l[g],b=v.iteratee,m=v.type,w=b(y);if(2==m)y=w;else if(!w){if(1==m)continue e;break e}}p[f++]=y}return p},rp.prototype.at=ss,rp.prototype.chain=function(){return si(this)},rp.prototype.commit=function(){return new rv(this.value(),this.__chain__)},rp.prototype.next=function(){this.__values__===r&&(this.__values__=s5(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}},rp.prototype.plant=function(e){for(var t,i=this;i instanceof ry;){var n=n$(i);n.__index__=0,n.__values__=r,t?s.__wrapped__=n:t=n;var s=n;i=i.__wrapped__}return s.__wrapped__=e,t},rp.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof rb){var t=e;return this.__actions__.length&&(t=new rb(this)),(t=t.reverse()).__actions__.push({func:sn,args:[n1],thisArg:r}),new rv(t,this.__chain__)}return this.thru(n1)},rp.prototype.toJSON=rp.prototype.valueOf=rp.prototype.value=function(){return iP(this.__wrapped__,this.__actions__)},rp.prototype.first=rp.prototype.head,e5&&(rp.prototype[e5]=function(){return this}),rp}();e6?((e6.exports=tG)._=tG,e5._=tG):e8._=tG}).call(ci)}(cn,cn.exports);var cs=Object.defineProperty,co=Object.defineProperties,ca=Object.getOwnPropertyDescriptors,cc=Object.getOwnPropertySymbols,cu=Object.prototype.hasOwnProperty,cl=Object.prototype.propertyIsEnumerable,ch=(e,t,r)=>t in e?cs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cf=(e,t)=>{for(var r in t||(t={}))cu.call(t,r)&&ch(e,r,t[r]);if(cc)for(var r of cc(t))cl.call(t,r)&&ch(e,r,t[r]);return e},cd=(e,t)=>co(e,ca(t));function cp(e,t,r){var i;let n=function(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}(e);return(null==(i=t.rpcMap)?void 0:i[n.reference])||`https://rpc.walletconnect.com/v1/?chainId=${n.namespace}:${n.reference}&projectId=${r}`}function cg(e){return e.includes(":")?e.split(":")[1]:e}function cy(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function cv(e){var t,r,i,n;let s={};if(!t4(e))return s;for(let[o,a]of Object.entries(e)){let e=t0(o)?[o]:a.chains,c=a.methods||[],u=a.events||[],l=a.rpcMap||{},h=t1(o);s[h]=cd(cf(cf({},s[h]),a),{chains:tq(e,null==(t=s[h])?void 0:t.chains),methods:tq(c,null==(r=s[h])?void 0:r.methods),events:tq(u,null==(i=s[h])?void 0:i.events),rpcMap:cf(cf({},l),null==(n=s[h])?void 0:n.rpcMap)})}return s}function cb(e){return e.includes(":")?e.split(":")[2]:e}function cm(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):e.includes(":")?Number(e.split(":")[1]):Number(e)}let cw={},c_=e=>cw[e],cE=(e,t)=>{cw[e]=t};class cI{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=c_("events"),this.client=c_("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(cr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=cg(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||cp(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new a7(new a9(r,c_("disableProviderPing")))}}class cx{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=c_("events"),this.client=c_("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(cr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||cp(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new a7(new a9(r,c_("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=parseInt(cg(t));e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,r;let i=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",n=parseInt(i=i.startsWith("0x")?i:`0x${i}`,16);if(this.isChainApproved(n))this.setDefaultChain(`${n}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${n}`);else throw Error(`Failed to switch to chain 'eip155:${n}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class cS{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=c_("events"),this.client=c_("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(cr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=cg(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||cp(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new a7(new a9(r,c_("disableProviderPing")))}}class cD{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=c_("events"),this.client=c_("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(cr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=cg(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||cp(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new a7(new a9(r,c_("disableProviderPing")))}}class cO{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=c_("events"),this.client=c_("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(cr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=this.getCardanoRPCUrl(t),i=cg(t);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||this.getCardanoRPCUrl(e);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new a7(new a9(r,c_("disableProviderPing")))}}class cP{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=c_("events"),this.client=c_("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(cr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=cg(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||cp(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new a7(new a9(r,c_("disableProviderPing")))}}class cA{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=c_("events"),this.client=c_("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(cr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=cg(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||cp(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new a7(new a9(r,c_("disableProviderPing")))}}class cC{constructor(e){this.name="near",this.namespace=e.namespace,this.events=c_("events"),this.client=c_("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||cp(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(cr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||cp(e,this.namespace);return typeof r>"u"?void 0:new a7(new a9(r,c_("disableProviderPing")))}}var cR=Object.defineProperty,cN=Object.defineProperties,cT=Object.getOwnPropertyDescriptors,cj=Object.getOwnPropertySymbols,cU=Object.prototype.hasOwnProperty,cL=Object.prototype.propertyIsEnumerable,cB=(e,t,r)=>t in e?cR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cM=(e,t)=>{for(var r in t||(t={}))cU.call(t,r)&&cB(e,r,t[r]);if(cj)for(var r of cj(t))cL.call(t,r)&&cB(e,r,t[r]);return e},ck=(e,t)=>cN(e,cT(t));class c${constructor(e){this.events=new(I()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:rF()(rX({level:e?.logger||ce})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new c$(e);return await t.initialize(),t}async request(e,t){let[r,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(r).request({request:cM({},e),chainId:`${r}:${i}`,topic:this.session.topic})}sendAsync(e,t,r){let i=new Date().getTime();this.request(e,r).then(e=>t(null,s_(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:t5("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:r,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await i().then(e=>{this.session=e,this.namespaces||(this.namespaces=function(e){let t={};for(let[r,i]of Object.entries(e)){let e=i.methods||[],n=i.events||[],s=i.accounts||[],o=t0(r)?[r]:i.chains?i.chains:cy(i.accounts);t[r]={chains:o,methods:e,events:n,accounts:s}}return t}(e.namespaces),this.persist("namespaces",this.namespaces))}).catch(e=>{if(e.message!==aC)throw e;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(t6(t)){for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await aY.init({logger:this.providerOpts.logger||ce,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>t1(e)))];cE("client",this.client),cE("events",this.events),cE("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let i=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;i.push(...r)}),i}(e,this.session),r=cy(t),i=ck(cM({},function(e={},t={}){let r=cv(e),i=cv(t);return cn.exports.merge(r,i)}(this.namespaces,this.optionalNamespaces)[e]),{accounts:t,chains:r});switch(e){case"eip155":this.rpcProviders[e]=new cx({namespace:i});break;case"solana":this.rpcProviders[e]=new cS({namespace:i});break;case"cosmos":this.rpcProviders[e]=new cD({namespace:i});break;case"polkadot":this.rpcProviders[e]=new cI({namespace:i});break;case"cip34":this.rpcProviders[e]=new cO({namespace:i});break;case"elrond":this.rpcProviders[e]=new cP({namespace:i});break;case"multiversx":this.rpcProviders[e]=new cA({namespace:i});break;case"near":this.rpcProviders[e]=new cC({namespace:i})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{let{params:t}=e,{event:r}=t;if("accountsChanged"===r.name){let e=r.data;e&&t6(e)&&this.events.emit("accountsChanged",e.map(cb))}else if("chainChanged"===r.name){let e=t.chainId,r=t.event.data,i=t1(e),n=cm(e)!==cm(r)?`${i}:${cm(r)}`:e;this.onChainChanged(n)}else this.events.emit(r.name,r.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r;let{namespaces:i}=t,n=null==(r=this.client)?void 0:r.session.get(e);this.session=ck(cM({},n),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",ck(cM({},t5("USER_DISCONNECTED")),{data:e.topic}))}),this.on(cr.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t,optionalNamespaces:r,sessionProperties:i}=e;t&&Object.keys(t).length&&(this.namespaces=t),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.persist("namespaces",t),this.persist("optionalNamespaces",r)}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>t1(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let i=t1(Object.keys(this.namespaces)[0]),n=this.rpcProviders[i].getDefaultChain();return[i,n]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){var r;if(!this.namespaces)return;let[i,n]=this.validateChain(e);t||this.getProvider(i).setDefaultChain(n),(null!=(r=this.namespaces[i])?r:this.namespaces[`${i}:${n}`]).defaultChain=n,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${ct}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${ct}/${e}`)}}let cz=["eth_sendTransaction","personal_sign"],cq=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],cF=["chainChanged","accountsChanged"],cH=["chainChanged","accountsChanged","message","disconnect","connect"];var cV=Object.defineProperty,cK=Object.defineProperties,cW=Object.getOwnPropertyDescriptors,cG=Object.getOwnPropertySymbols,cY=Object.prototype.hasOwnProperty,cJ=Object.prototype.propertyIsEnumerable,cQ=(e,t,r)=>t in e?cV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cZ=(e,t)=>{for(var r in t||(t={}))cY.call(t,r)&&cQ(e,r,t[r]);if(cG)for(var r of cG(t))cJ.call(t,r)&&cQ(e,r,t[r]);return e},cX=(e,t)=>cK(e,cW(t));function c0(e){return Number(e[0].split(":")[1])}function c1(e){return`0x${e.toString(16)}`}class c2{constructor(){this.events=new E.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){let t=new c2;return await t.initialize(e),t}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:t,optional:r}=function(e){let{chains:t,optionalChains:r,methods:i,optionalMethods:n,events:s,optionalEvents:o,rpcMap:a}=e;if(!t6(t))throw Error("Invalid chains");let c={chains:t,methods:i||cz,events:s||cF,rpcMap:cZ({},t.length?{[c0(t)]:a[c0(t)]}:{})},u=s?.filter(e=>!cF.includes(e)),l=i?.filter(e=>!cz.includes(e));if(!r&&!o&&!n&&!(null!=u&&u.length)&&!(null!=l&&l.length))return{required:t.length?c:void 0};let h={chains:[...new Set(u?.length&&l?.length||!r?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(null!=n&&n.length?n:cq))],events:[...new Set(c.events.concat(null!=o&&o.length?o:cH))],rpcMap:a};return{required:t.length?c:void 0,optional:r.length?h:void 0}}(this.rpc);try{let i=await new Promise(async(i,n)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),n(Error("Connection request reset. Please try again.")))})),await this.signer.connect(cX(cZ({namespaces:cZ({},t&&{[this.namespace]:t})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:e?.pairingTopic})).then(e=>{i(e)}).catch(e=>{n(Error(e.message))})});if(!i)return;let n=function(e,t=[]){let r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;let n=e[i];r.push(...n.accounts)}),r}(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:n),this.setAccounts(n),this.events.emit("connect",{chainId:c1(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:r}=t;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",c1(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",cX(cZ({},t5("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,r;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(r=this.modal)||r.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",c1(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,r,i]=e.split(":");return{chainId:`${t}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;let i=null!=(t=e?.chains)?t:[],n=null!=(r=e?.optionalChains)?r:[],s=i.concat(n);if(!s.length)throw Error("No chains specified in either `chains` or `optionalChains`");let o=i.length?e?.methods||cz:[],a=i.length?e?.events||cF:[],c=e?.optionalMethods||[],u=e?.optionalEvents||[],l=e?.rpcMap||this.buildRpcMap(s,e.projectId),h=e?.qrModalOptions||void 0;return{chains:i?.map(e=>this.formatChainId(e)),optionalChains:n.map(e=>this.formatChainId(e)),methods:o,events:a,optionalMethods:c,optionalEvents:u,rpcMap:l,showQrModal:!!(null!=e&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let r={};return e.forEach(e=>{r[e]=this.getRpcUrl(e,t)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?c0(this.rpc.chains):c0(this.rpc.optionalChains),this.signer=await c$.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{let{WalletConnectModal:t}=await r.e(669).then(r.bind(r,5669));e=t}catch{throw Error("To use QR modal, please install @walletconnect/modal package")}if(e)try{this.modal=new e(cZ({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(e){throw this.signer.logger.error(e),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:r,rpcMap:i}=e;t&&t6(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=i?.[e]||this.getRpcUrl(e)})),r&&t6(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(e=>this.formatChainId(e)),r.forEach(e=>{this.rpc.rpcMap[e]=i?.[e]||this.getRpcUrl(e)}))}getRpcUrl(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}var c3=r(7608),c8=r(3168),c5=r(4561);function c6(e){let t,r,i=e.isNewChainsStale??!0,n="eip155";return(0,b.U)(s=>({id:"walletConnect",name:"WalletConnect",type:c6.type,async setup(){let e=await this.getProvider().catch(()=>null);e&&(e.on("connect",this.onConnect.bind(this)),e.on("session_delete",this.onSessionDelete.bind(this)))},async connect({chainId:e,...t}={}){try{let r=await this.getProvider();if(!r)throw new m.N;r.on("display_uri",this.onDisplayUri);let i=e;if(!i){let e=await s.storage?.getItem("state")??{};i=s.chains.some(t=>t.id===e.chainId)?e.chainId:s.chains[0]?.id}if(!i)throw Error("No chains found on connector.");let n=await this.isChainsStale();if(r.session&&n&&await r.disconnect(),!r.session||n){let e=s.chains.filter(e=>e.id!==i).map(e=>e.id);await r.connect({optionalChains:[i,...e],..."pairingTopic"in t?{pairingTopic:t.pairingTopic}:{}}),this.setRequestedChainsIds(s.chains.map(e=>e.id))}let o=(await r.enable()).map(c3.b),a=await this.getChainId();return r.removeListener("display_uri",this.onDisplayUri),r.removeListener("connect",this.onConnect.bind(this)),r.on("accountsChanged",this.onAccountsChanged.bind(this)),r.on("chainChanged",this.onChainChanged),r.on("disconnect",this.onDisconnect.bind(this)),r.on("session_delete",this.onSessionDelete.bind(this)),{accounts:o,chainId:a}}catch(e){if(/(user rejected|connection request reset)/i.test(e?.message))throw new c8.vx(e);throw e}},async disconnect(){let e=await this.getProvider();try{await e?.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}finally{e?.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),e?.removeListener("chainChanged",this.onChainChanged),e?.removeListener("disconnect",this.onDisconnect.bind(this)),e?.removeListener("session_delete",this.onSessionDelete.bind(this)),e?.on("connect",this.onConnect.bind(this)),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(c3.b)},async getProvider({chainId:i}={}){async function n(){let t=s.chains.map(e=>e.id);if(t.length)return await c2.init({...e,disableProviderPing:!0,optionalChains:t,projectId:e.projectId,rpcMap:Object.fromEntries(s.chains.map(e=>[e.id,e.rpcUrls.default.http[0]])),showQrModal:e.showQrModal??!0})}return t||(r||(r=n()),t=await r),i&&await this.switchChain?.({chainId:i}),t},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{let[e,t]=await Promise.all([this.getAccounts(),this.getProvider()]);if(!e.length)return!1;if(await this.isChainsStale()&&t.session)return await t.disconnect().catch(()=>{}),!1;return!0}catch{return!1}},async switchChain({chainId:e}){let t=s.chains.find(t=>t.id===e);if(!t)throw new c8.ch(new w.nk);try{let r=await this.getProvider(),i=this.getNamespaceChainsIds(),n=this.getNamespaceMethods();if(!i.includes(e)&&n.includes("wallet_addEthereumChain")){await r.request({method:"wallet_addEthereumChain",params:[{chainId:(0,c5.cK)(t.id),blockExplorerUrls:[t.blockExplorers?.default.url],chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:[...t.rpcUrls.default.http]}]});let i=await this.getRequestedChainsIds();this.setRequestedChainsIds([...i,e])}return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,c5.cK)(e)}]}),t}catch(t){console.log({error:t});let e="string"==typeof t?t:t?.message;if(/user rejected request/i.test(e))throw new c8.vx(t);throw new c8.ch(t)}},onAccountsChanged(e){0===e.length?this.onDisconnect():s.emitter.emit("change",{accounts:e.map(c3.b)})},onChainChanged(e){let t=(0,_.A)(e);s.emitter.emit("change",{chainId:t})},async onConnect(e){let t=(0,_.A)(e.chainId),r=await this.getAccounts();s.emitter.emit("connect",{accounts:r,chainId:t})},async onDisconnect(e){this.setRequestedChainsIds([]),s.emitter.emit("disconnect");let t=await this.getProvider();t.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect.bind(this)),t.removeListener("session_delete",this.onSessionDelete.bind(this)),t.on("connect",this.onConnect.bind(this))},onDisplayUri(e){s.emitter.emit("message",{type:"display_uri",data:e})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds:()=>t?t.session?.namespaces[n]?.chains?.map(e=>parseInt(e.split(":")[1]||""))??[]:[],getNamespaceMethods:()=>t?t.session?.namespaces[n]?.methods??[]:[],async getRequestedChainsIds(){return await s.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(this.getNamespaceMethods().includes("wallet_addEthereumChain")||!i)return!1;let e=s.chains.map(e=>e.id),t=this.getNamespaceChainsIds();if(t.length&&!t.some(t=>e.includes(t)))return!1;let r=await this.getRequestedChainsIds();return!e.every(e=>r.includes(e))},async setRequestedChainsIds(e){await s.storage?.setItem(this.requestedChainsStorageKey,e)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}c6.type="walletConnect"},1609:(e,t,r)=>{"use strict";var i=r(5704);function n(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==i&&void 0!==i.versions&&void 0!==i.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=s,t.isBrowser=function(){return!n()&&!s()}},1639:(e,t,r)=>{"use strict";let i;r.d(t,{Z:()=>C});var n,s=r(8504);let o=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>o(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>o(t)(e)}}},a=e=>{let t,r=new Set,i=(e,i)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=i?i:"object"!=typeof n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:i,getState:n,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return t=e(i,n,s),s},c=e=>e?a(e):a;var u=r(7608),l=r(3168),h=r(7407),f=r(6674),d=r(4561),p=r(3159),g=r(3420),y=r(5484),v=r(2535);let b={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider:e=>e?.coinbaseWalletExtension?e.coinbaseWalletExtension:w(e,"isCoinbaseWallet")},metaMask:{id:"metaMask",name:"MetaMask",provider:e=>w(e,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;for(let t of["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPortal","isRabby","isTokenPocket","isTokenary","isZerion"])if(e[t])return!1;return!0})},phantom:{id:"phantom",name:"Phantom",provider:e=>e?.phantom?.ethereum?e.phantom?.ethereum:w(e,"isPhantom")}};function m(e={}){let{shimDisconnect:t=!0,unstable_shimAsyncInject:r}=e;function i(){let t=e.target;if("function"==typeof t){let e=t();if(e)return e}return"object"==typeof t?t:"string"==typeof t?{...b[t]??{id:t,name:`${t[0].toUpperCase()}${t.slice(1)}`,provider:`is${t[0].toUpperCase()}${t.slice(1)}`}}:{id:"injected",name:"Injected",provider:e=>e?.ethereum}}return(0,v.U)(n=>({get icon(){return i().icon},get id(){return i().id},get name(){return i().name},type:m.type,async setup(){let t=await this.getProvider();t&&e.target&&t.on("connect",this.onConnect.bind(this))},async connect({chainId:r,isReconnecting:i}={}){let s=await this.getProvider();if(!s)throw new g.N;let o=null;if(!i&&(o=await this.getAccounts().catch(()=>null),o?.length))try{let e=await s.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});o=e[0]?.caveats?.[0]?.value?.map(u.b)}catch(e){if(e.code===l.vx.code)throw new l.vx(e);if(e.code===l.qZ.code)throw e}try{o?.length||(o=(await s.request({method:"eth_requestAccounts"})).map(u.b)),s.removeListener("connect",this.onConnect.bind(this)),s.on("accountsChanged",this.onAccountsChanged.bind(this)),s.on("chainChanged",this.onChainChanged),s.on("disconnect",this.onDisconnect.bind(this));let i=await this.getChainId();if(r&&i!==r){let e=await this.switchChain({chainId:r}).catch(()=>({id:i}));i=e?.id??i}return t&&(await n.storage?.removeItem(`${this.id}.disconnected`),e.target||await n.storage?.setItem("injected.connected",!0)),{accounts:o,chainId:i}}catch(e){if(e.code===l.vx.code)throw new l.vx(e);if(e.code===l.qZ.code)throw new l.qZ(e);throw e}},async disconnect(){let r=await this.getProvider();if(!r)throw new g.N;r.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),r.removeListener("chainChanged",this.onChainChanged),r.removeListener("disconnect",this.onDisconnect.bind(this)),r.on("connect",this.onConnect.bind(this)),t&&(await n.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await n.storage?.removeItem("injected.connected"))},async getAccounts(){let e=await this.getProvider();if(!e)throw new g.N;return(await e.request({method:"eth_accounts"})).map(u.b)},async getChainId(){let e=await this.getProvider();if(!e)throw new g.N;let t=await e.request({method:"eth_chainId"});return(0,y.A)(t)},async getProvider(){if("undefined"==typeof window)return;let e=i();return"function"==typeof e.provider?e.provider(window):"string"==typeof e.provider?w(window,e.provider):e.provider},async isAuthorized(){try{if(t&&await n.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await n.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(void 0!==r&&!1!==r){let e=async()=>("undefined"!=typeof window&&window.removeEventListener("ethereum#initialized",e),!!await this.getProvider()),t="number"==typeof r?r:1e3;if(await Promise.race([..."undefined"!=typeof window?[new Promise(t=>window.addEventListener("ethereum#initialized",()=>t(e()),{once:!0}))]:[],new Promise(r=>setTimeout(()=>r(e()),t))]))return!0}throw new g.N}return!!(await (0,h.b)(()=>(0,f.w)(()=>this.getAccounts(),{timeout:100}))).length}catch{return!1}},async switchChain({chainId:e}){let t=await this.getProvider();if(!t)throw new g.N;let r=n.chains.find(t=>t.id===e);if(!r)throw new l.ch(new p.nk);try{return await Promise.all([t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,d.cK)(e)}]}),new Promise(t=>n.emitter.once("change",({chainId:r})=>{r===e&&t()}))]),r}catch(i){if(4902===i.code||i?.data?.originalError?.code===4902)try{let{default:i,...n}=r.blockExplorers??{},s=[];if(i&&(s=[i.url,...Object.values(n).map(e=>e.url)]),await t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,d.cK)(e),chainName:r.name,nativeCurrency:r.nativeCurrency,rpcUrls:[r.rpcUrls.default?.http[0]??""],blockExplorerUrls:s}]}),await this.getChainId()!==e)throw new l.vx(Error("User rejected switch after adding network."));return r}catch(e){throw new l.vx(e)}if(i.code===l.vx.code)throw new l.vx(i);throw new l.ch(i)}},async onAccountsChanged(e){if(0===e.length)this.onDisconnect();else if(n.emitter.listenerCount("connect")){let e=(await this.getChainId()).toString();this.onConnect({chainId:e}),t&&await n.storage?.removeItem(`${this.id}.disconnected`)}else n.emitter.emit("change",{accounts:e.map(u.b)})},onChainChanged(e){let t=(0,y.A)(e);n.emitter.emit("change",{chainId:t})},async onConnect(e){let t=await this.getAccounts();if(0===t.length)return;let r=(0,y.A)(e.chainId);n.emitter.emit("connect",{accounts:t,chainId:r});let i=await this.getProvider();i&&(i.removeListener("connect",this.onConnect.bind(this)),i.on("accountsChanged",this.onAccountsChanged.bind(this)),i.on("chainChanged",this.onChainChanged),i.on("disconnect",this.onDisconnect.bind(this)))},async onDisconnect(e){let t=await this.getProvider();e&&1013===e.code&&t&&(await this.getAccounts()).length||(n.emitter.emit("disconnect"),t&&(t.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect.bind(this)),t.on("connect",this.onConnect.bind(this))))}}))}function w(e,t){function r(e){return"function"==typeof t?t(e):"string"!=typeof t||e[t]}let i=e.ethereum;return i?.providers?i.providers.find(e=>r(e)):i&&r(i)?i:void 0}m.type="injected";var _=r(4820),E=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class I{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),n.set(this,new _)}on(e,t){E(this,n,"f").on(e,t)}once(e,t){E(this,n,"f").once(e,t)}off(e,t){E(this,n,"f").off(e,t)}emit(e,...t){let r=t[0];E(this,n,"f").emit(e,{uid:this.uid,...r})}listenerCount(e){return E(this,n,"f").listenerCount(e)}}function x(e,t){return JSON.parse(e,(e,r)=>{let i=r;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),t?.(e,i)??i})}function S(e,t){return e.slice(0,t).join(".")||"."}function D(e,t){let{length:r}=e;for(let i=0;i<r;++i)if(e[i]===t)return i+1;return 0}function O(e,t,r,i){return JSON.stringify(e,function(e,t){let r="function"==typeof e,i="function"==typeof t,n=[],s=[];return function(o,a){if("object"==typeof a)if(n.length){let e=D(n,this);0===e?n[n.length]=this:(n.splice(e),s.splice(e)),s[s.length]=o;let r=D(n,a);if(0!==r)return i?t.call(this,o,a,S(s,r)):`[ref=${S(s,r)}]`}else n[0]=a,s[0]=o;return r?e.call(this,o,a):a}}((e,r)=>{let i=r;return"bigint"==typeof i&&(i={__type:"bigint",value:r.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(r.entries())}),t?.(e,i)??i},i),r??void 0)}n=new WeakMap;let P={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},A=256;function C(e){var t,r;let n,{chains:a,multiInjectedProviderDiscovery:u=!0,storage:l=function(e){let{deserialize:t=x,key:r="wagmi",serialize:i=O,storage:n=P}=e;function s(e){return e instanceof Promise?e.then(e=>e).catch(()=>null):e}return{...n,key:r,async getItem(e,i){let o=n.getItem(`${r}.${e}`),a=await s(o);return a?t(a)??null:i??null},async setItem(e,t){let o=`${r}.${e}`;null===t?await s(n.removeItem(o)):await s(n.setItem(o,i(t)))},async removeItem(e){await s(n.removeItem(`${r}.${e}`))}}}({storage:"undefined"!=typeof window&&window.localStorage?window.localStorage:P}),syncConnectedChain:h=!0,ssr:f,...d}=e,g="undefined"!=typeof window&&u?function(){let e=new Set,t=[],r=()=>(function(e){let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}),i=r();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),i()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),i(),i=r()},subscribe:(r,{emitImmediately:i}={})=>(e.add(r),i&&r(t,{added:t}),()=>e.delete(r))}}():void 0,y=c(()=>[...d.connectors??[],...!f?g?.getProviders().map(b)??[]:[]].map(v));function v(e){let t=new I(function(e=11){if(!i||A+e>512){i="",A=0;for(let e=0;e<256;e++)i+=(256+256*Math.random()|0).toString(16).substring(1)}return i.substring(A,A+++e)}()),r={...e({emitter:t,chains:a,storage:l}),emitter:t,uid:t.uid};return t.on("connect",D),r.setup?.(),r}function b(e){let{info:t,provider:r}=e;return m({target:{...t,id:t.rdns,provider:r}})}let w=new Map,_={chainId:a[0].id,connections:new Map,current:void 0,status:"disconnected"},E=c((n=l?(t=()=>_,"getStorage"in(r={name:"store",partialize:e=>({connections:e.connections,chainId:e.chainId,current:e.current}),skipHydration:f,storage:l,version:1})||"serialize"in r||"deserialize"in r?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),(e,i,n)=>{let s,a,c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},u=!1,l=new Set,h=new Set;try{s=c.getStorage()}catch(e){}if(!s)return t((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),e(...t)},i,n);let f=o(c.serialize),d=()=>{let e,t=f({state:c.partialize({...i()}),version:c.version}).then(e=>s.setItem(c.name,e)).catch(t=>{e=t});if(e)throw e;return t},p=n.setState;n.setState=(e,t)=>{p(e,t),d()};let g=t((...t)=>{e(...t),d()},i,n),y=()=>{var t;if(!s)return;u=!1,l.forEach(e=>e(i()));let r=(null==(t=c.onRehydrateStorage)?void 0:t.call(c,i()))||void 0;return o(s.getItem.bind(s))(c.name).then(e=>{if(e)return c.deserialize(e)}).then(e=>{if(e)if("number"!=typeof e.version||e.version===c.version)return e.state;else{if(c.migrate)return c.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(t=>{var r;return e(a=c.merge(t,null!=(r=i())?r:g),!0),d()}).then(()=>{null==r||r(a,void 0),u=!0,h.forEach(e=>e(a))}).catch(e=>{null==r||r(void 0,e)})};return n.persist={setOptions:e=>{c={...c,...e},e.getStorage&&(s=e.getStorage())},clearStorage:()=>{null==s||s.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>y(),hasHydrated:()=>u,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(h.add(e),()=>{h.delete(e)})},y(),a||g}):(e,i,n)=>{let s,a={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let i=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(i):i(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},c=!1,u=new Set,l=new Set,h=a.storage;if(!h)return t((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...t)},i,n);let f=()=>{let e=a.partialize({...i()});return h.setItem(a.name,{state:e,version:a.version})},d=n.setState;n.setState=(e,t)=>{d(e,t),f()};let p=t((...t)=>{e(...t),f()},i,n),g=()=>{var t,r;if(!h)return;c=!1,u.forEach(e=>{var t;return e(null!=(t=i())?t:p)});let n=(null==(r=a.onRehydrateStorage)?void 0:r.call(a,null!=(t=i())?t:p))||void 0;return o(h.getItem.bind(h))(a.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===a.version)return e.state;else{if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(t=>{var r;return e(s=a.merge(t,null!=(r=i())?r:p),!0),f()}).then(()=>{null==n||n(s,void 0),s=i(),c=!0,l.forEach(e=>e(s))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{a={...a,...e},e.storage&&(h=e.storage)},clearStorage:()=>{null==h||h.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>c,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||g(),s||p}):()=>_,(e,t,r)=>{let i=r.subscribe;return r.subscribe=(e,t,n)=>{let s=e;if(t){let i=(null==n?void 0:n.equalityFn)||Object.is,o=e(r.getState());s=r=>{let n=e(r);if(!i(o,n)){let e=o;t(o=n,e)}},(null==n?void 0:n.fireImmediately)&&t(o,o)}return i(s)},n(e,t,r)}));function S(e){E.setState(t=>{let r=t.connections.get(e.uid);return{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts??r.accounts,chainId:e.chainId??r.chainId,connector:r.connector})}})}function D(e){"connecting"!==E.getState().status&&"reconnecting"!==E.getState().status&&E.setState(t=>{let r=y.getState().find(t=>t.uid===e.uid);return r?{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts,chainId:e.chainId,connector:r}),current:e.uid,status:"connected"}:t})}return h&&E.subscribe(({connections:e,current:t})=>t?e.get(t)?.chainId:void 0,e=>{if(a.some(t=>t.id===e))return E.setState(t=>({...t,chainId:e??t.chainId}))}),g?.subscribe(e=>{let t=new Map;for(let e of y.getState())t.set(e.id,!0);let r=[];for(let i of e){let e=v(b(i));t.has(e.id)||r.push(e)}y.setState(e=>[...e,...r],!0)}),{chains:a,get connectors(){return y.getState()},storage:l,getClient:function(e={}){let t,r=e.chainId??E.getState().chainId,i=a.find(e=>e.id===r);{let e=w.get(E.getState().chainId);if(e&&!i)return e;if(!i)throw new p.nk}{let e=w.get(r);if(e)return e}if(d.client)t=d.client({chain:i});else{let e=i.id,r={};for(let[t,i]of Object.entries(d))if("client"===t||"connectors"===t||"transports"===t)continue;else"object"==typeof i?r[t]=i[e]:r[t]=i;t=(0,s.U)({...r,chain:i,batch:r.batch??{multicall:!0},transport:t=>d.transports[e]({...t,connectors:y})})}return w.set(r,t),t},get state(){return E.getState()},setState(e){let t;"object"!=typeof(t="function"==typeof e?e(E.getState()):e)&&(t=_),Object.keys(_).some(e=>!(e in t))&&(t=_),E.setState(t,!0)},subscribe:(e,t,r)=>E.subscribe(e,t,r?{...r,fireImmediately:r.emitImmediately}:void 0),_internal:{mipd:g,store:E,ssr:!!f,syncConnectedChain:h,transports:d.transports,connectors:{providerDetailToConnector:b,setup:v,setState:e=>y.setState("function"==typeof e?e(y.getState()):e,!0),subscribe:e=>y.subscribe(e)},events:{change:S,connect:D,disconnect:function e(t){E.setState(r=>{let i=r.connections.get(t.uid);if(i&&(i.connector.emitter.off("change",S),i.connector.emitter.off("disconnect",e),i.connector.emitter.on("connect",D)),r.connections.delete(t.uid),0===r.connections.size)return{...r,connections:new Map,current:void 0,status:"disconnected"};let n=r.connections.values().next().value;return{...r,connections:new Map(r.connections),current:n.connector.uid}})}}}}}},1746:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),r=t[0],i=t[1];return(r+i)*3/4-i},t.toByteArray=function(e){var t,r,s=c(e),o=s[0],a=s[1],u=new n((o+a)*3/4-a),l=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,s=[],o=0,a=i-n;o<a;o+=16383)s.push(function(e,t,i){for(var n,s=[],o=t;o<i;o+=3)n=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[n>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===n?s.push(r[(t=e[i-1])>>2]+r[t<<4&63]+"=="):2===n&&s.push(r[(t=(e[i-2]<<8)+e[i-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}i[45]=62,i[95]=63},1809:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>m,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>S,__classPrivateFieldSet:()=>D,__createBinding:()=>f,__decorate:()=>a,__exportStar:()=>d,__extends:()=>n,__generator:()=>h,__importDefault:()=>x,__importStar:()=>I,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>y,__spreadArrays:()=>v,__values:()=>p});var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function a(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,i){t(r,i,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((i=i.apply(e,t||[])).next())})}function h(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){var c=[s,a];if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&c[0]?i.return:c[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,c[1])).done)return n;switch(i=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(6===c[0]&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{r=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function f(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}function d(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function m(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){n[e]&&(i[e]=function(t){return new Promise(function(r,i){s.push([e,t,r,i])>1||a(e,t)})})}function a(e,t){try{var r;(r=n[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(e){l(s[0][3],e)}}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:b(e[i](t)),done:"return"===i}:n?n(t):t}:n}}function _(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,n){var s,o,a;s=i,o=n,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:a})},o)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function D(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},1870:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>m,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>S,__classPrivateFieldSet:()=>D,__createBinding:()=>f,__decorate:()=>a,__exportStar:()=>d,__extends:()=>n,__generator:()=>h,__importDefault:()=>x,__importStar:()=>I,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>y,__spreadArrays:()=>v,__values:()=>p});var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function a(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,i){t(r,i,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((i=i.apply(e,t||[])).next())})}function h(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){var c=[s,a];if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&c[0]?i.return:c[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,c[1])).done)return n;switch(i=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(6===c[0]&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{r=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function f(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}function d(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function m(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){n[e]&&(i[e]=function(t){return new Promise(function(r,i){s.push([e,t,r,i])>1||a(e,t)})})}function a(e,t){try{var r;(r=n[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(e){l(s[0][3],e)}}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:b(e[i](t)),done:"return"===i}:n?n(t):t}:n}}function _(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,n){var s,o,a;s=i,o=n,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:a})},o)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function D(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},1914:(e,t,r)=>{"use strict";r.d(t,{IQ:()=>h,ME:()=>l,Nx:()=>u,Sl:()=>a,uU:()=>c});var i=r(5276),n=r(9252),s=r(2438),o=r(5563);function a(e,{size:t}){if((0,n.E)(e)>t)throw new i.u({givenSize:(0,n.E)(e),maxSize:t})}function c(e,t={}){let{signed:r}=t;t.size&&a(e,{size:t.size});let i=BigInt(e);if(!r)return i;let n=(e.length-2)/2;return i<=(1n<<8n*BigInt(n)-1n)-1n?i:i-BigInt(`0x${"f".padStart(2*n,"f")}`)-1n}function u(e,t={}){let r=e;if(t.size&&(a(r,{size:t.size}),r=(0,s.B)(r)),"0x00"===(0,s.B)(r))return!1;if("0x01"===(0,s.B)(r))return!0;throw new i.H2(r)}function l(e,t={}){return Number(c(e,t))}function h(e,t={}){let r=(0,o.aT)(e);return t.size&&(a(r,{size:t.size}),r=(0,s.B)(r,{dir:"right"})),new TextDecoder().decode(r)}},2427:(e,t,r)=>{"use strict";r.d(t,{db:()=>s,eV:()=>n});var i=r(6969);function n(e,{dir:t,size:r=32}={}){return"string"==typeof e?s(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new i.F({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let s="right"===t;n[s?i:r-i-1]=e[s?i:e.length-i-1]}return n}(e,{dir:t,size:r})}function s(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new i.F({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}},2438:(e,t,r)=>{"use strict";function i(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1;e++)if("0"===r["left"===t?e:r.length-e-1].toString())n++;else break;return(r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{B:()=>i})},2535:(e,t,r)=>{"use strict";function i(e){return e}r.d(t,{U:()=>i})},2590:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>m,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>S,__classPrivateFieldSet:()=>D,__createBinding:()=>f,__decorate:()=>a,__exportStar:()=>d,__extends:()=>n,__generator:()=>h,__importDefault:()=>x,__importStar:()=>I,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>y,__spreadArrays:()=>v,__values:()=>p});var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function a(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,i){t(r,i,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((i=i.apply(e,t||[])).next())})}function h(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){var c=[s,a];if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&c[0]?i.return:c[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,c[1])).done)return n;switch(i=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(6===c[0]&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],i=0}finally{r=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function f(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}function d(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function m(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){n[e]&&(i[e]=function(t){return new Promise(function(r,i){s.push([e,t,r,i])>1||a(e,t)})})}function a(e,t){try{var r;(r=n[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(e){l(s[0][3],e)}}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:b(e[i](t)),done:"return"===i}:n?n(t):t}:n}}function _(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,n){var s,o,a;s=i,o=n,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:a})},o)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function D(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},2648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(2590);i.__exportStar(r(8543),t),i.__exportStar(r(5939),t)},2749:(e,t,r)=>{var i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();!function(e){!function(t){var i=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},n={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};if(n.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(n.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;n.arrayBuffer&&n.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(n.blob)return this.blob().then(d);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,i,n,s=h(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),n=(i=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?i[1]:"utf-8",t.readAsText(e,n),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},n.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=a(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,t){this.map[a(e)]=c(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),u(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),u(e)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var y=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,s=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in i)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function m(e,t){if(!(this instanceof m))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var w=[301,302,303,307,308];m.redirect=function(e,t){if(-1===w.indexOf(t))throw RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},t.DOMException=i.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,r){return new Promise(function(s,o){var u=new v(e,r);if(u.signal&&u.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function f(){h.abort()}if(h.onload=function(){var e,t,r={statusText:h.statusText,headers:(e=h.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();try{t.append(i,n)}catch(e){console.warn("Response "+e.message)}}}),t)};0===u.url.indexOf("file://")&&(h.status<200||h.status>599)?r.status=200:r.status=h.status,r.url="responseURL"in h?h.responseURL:r.headers.get("X-Request-URL");var i="response"in h?h.response:h.responseText;setTimeout(function(){s(new m(i,r))},0)},h.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},h.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},h.onabort=function(){setTimeout(function(){o(new t.DOMException("Aborted","AbortError"))},0)},h.open(u.method,function(e){try{return""===e&&i.location.href?i.location.href:e}catch(t){return e}}(u.url),!0),"include"===u.credentials?h.withCredentials=!0:"omit"===u.credentials&&(h.withCredentials=!1),"responseType"in h&&(n.blob?h.responseType="blob":n.arrayBuffer&&(h.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof l||i.Headers&&r.headers instanceof i.Headers)){var d=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){d.push(a(e)),h.setRequestHeader(e,c(r.headers[e]))}),u.headers.forEach(function(e,t){-1===d.indexOf(t)&&h.setRequestHeader(t,e)})}else u.headers.forEach(function(e,t){h.setRequestHeader(t,e)});u.signal&&(u.signal.addEventListener("abort",f),h.onreadystatechange=function(){4===h.readyState&&u.signal.removeEventListener("abort",f)}),h.send(void 0===u._bodyInit?null:u._bodyInit)})}_.polyfill=!0,i.fetch||(i.fetch=_,i.Headers=l,i.Request=v,i.Response=m),t.Headers=l,t.Request=v,t.Response=m,t.fetch=_,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=i.fetch?i:n;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},2755:(e,t,r)=>{"use strict";r.r(t),r.d(t,{IEvents:()=>i.H});var i=r(480)},3144:e=>{"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),i=RegExp("("+t+")+","gi");e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var s=function(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(r)||[],i=1;i<t.length;i++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(e){}if(1===t.length)return t;r=r||1;var i=t.slice(0,r),n=t.slice(r);return Array.prototype.concat.call([],e(i),e(n))})(t,i).join("")).match(r)||[];return e}}(n[0]);s!==n[0]&&(t[n[0]]=s)}n=i.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];e=e.replace(RegExp(c,"g"),t[c])}return e}(e)}}},3159:(e,t,r)=>{"use strict";r.d(t,{aj:()=>a,gC:()=>o,nM:()=>s,nk:()=>n});var i=r(7259);class n extends i.C{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class s extends i.C{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class o extends i.C{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}i.C;class a extends i.C{constructor({address:e,connector:t}){super(`Account "${e}" not found for connector "${t.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}},3168:(e,t,r)=>{"use strict";r.d(t,{CL:()=>c,D5:()=>l,Di:()=>f,Gi:()=>u,MI:()=>S,RV:()=>E,Sf:()=>_,XU:()=>a,YW:()=>g,ab:()=>y,bq:()=>h,ch:()=>x,hA:()=>d,qZ:()=>p,s0:()=>v,sV:()=>w,vx:()=>m,xQ:()=>b,xq:()=>I});var i=r(8832),n=r(4058);class s extends i.C{constructor(e,{code:t,docsPath:r,metaMessages:i,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof n.J8?e.code:t??-1}}class o extends s{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class a extends s{constructor(e){super(e,{code:a.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends s{constructor(e){super(e,{code:c.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class u extends s{constructor(e){super(e,{code:u.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class l extends s{constructor(e){super(e,{code:l.code,shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class h extends s{constructor(e){super(e,{code:h.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class f extends s{constructor(e){super(e,{code:f.code,shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class d extends s{constructor(e){super(e,{code:d.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends s{constructor(e){super(e,{code:p.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends s{constructor(e){super(e,{code:g.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class y extends s{constructor(e){super(e,{code:y.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class v extends s{constructor(e){super(e,{code:v.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends s{constructor(e){super(e,{code:b.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class m extends o{constructor(e){super(e,{code:m.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class w extends o{constructor(e){super(e,{code:w.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class _ extends o{constructor(e){super(e,{code:_.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class E extends o{constructor(e){super(e,{code:E.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class I extends o{constructor(e){super(e,{code:I.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class x extends o{constructor(e){super(e,{code:x.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class S extends s{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}},3180:(e,t,r)=>{"use strict";r.d(t,{RZ:()=>i,ID:()=>n,HF:()=>s});let i=e=>e,n=e=>e,s=()=>"viem@2.0.0-rc.4"},3420:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var i=r(7259);class n extends i.C{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}i.C},3424:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},4058:(e,t,r)=>{"use strict";r.d(t,{Ci:()=>o,J8:()=>c,MU:()=>u,Pr:()=>a});var i=r(9350),n=r(8832),s=r(3180);class o extends n.C{constructor({body:e,details:t,headers:r,status:n,url:o}){super("HTTP request failed.",{details:t,metaMessages:[n&&`Status: ${n}`,`URL: ${(0,s.ID)(o)}`,e&&`Request body: ${(0,i.A)(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=n,this.url=o}}class a extends n.C{constructor({body:e,details:t,url:r}){super("WebSocket request failed.",{details:t,metaMessages:[`URL: ${(0,s.ID)(r)}`,`Request body: ${(0,i.A)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class c extends n.C{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,s.ID)(r)}`,`Request body: ${(0,i.A)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class u extends n.C{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,s.ID)(t)}`,`Request body: ${(0,i.A)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}},4314:(e,t)=>{"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},4561:(e,t,r)=>{"use strict";r.d(t,{$P:()=>c,cK:()=>l,i3:()=>f,nj:()=>a});var i=r(5276),n=r(2427),s=r(1914);let o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e,t={}){return"number"==typeof e||"bigint"==typeof e?l(e,t):"string"==typeof e?f(e,t):"boolean"==typeof e?c(e,t):u(e,t)}function c(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?((0,s.Sl)(r,{size:t.size}),(0,n.eV)(r,{size:t.size})):r}function u(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=o[e[t]];let i=`0x${r}`;return"number"==typeof t.size?((0,s.Sl)(i,{size:t.size}),(0,n.eV)(i,{dir:"right",size:t.size})):i}function l(e,t={}){let r,{signed:s,size:o}=t,a=BigInt(e);o?r=s?(1n<<8n*BigInt(o)-1n)-1n:2n**(8n*BigInt(o))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let c="bigint"==typeof r&&s?-r-1n:0;if(r&&a>r||a<c){let t="bigint"==typeof e?"n":"";throw new i.Ty({max:r?`${r}${t}`:void 0,min:`${c}${t}`,signed:s,size:o,value:`${e}${t}`})}let u=`0x${(s&&a<0?(1n<<BigInt(8*o))+BigInt(a):a).toString(16)}`;return o?(0,n.eV)(u,{size:o}):u}let h=new TextEncoder;function f(e,t={}){return u(h.encode(e),t)}},4663:(e,t,r)=>{"use strict";function i(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function n(){let e=i();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=i,t.getSubtleCrypto=n,t.isBrowserCryptoAvailable=function(){return!!i()&&!!n()}},4771:(e,t,r)=>{"use strict";function i(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{J:()=>i})},4784:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});let i=/^0x[a-fA-F0-9]{40}$/;function n(e){return i.test(e)}},4820:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,i,s,o){if("function"!=typeof i)throw TypeError("The listener must be a function");var a=new n(i,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1)),a.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=Array(s);n<s;n++)o[n]=i[n].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,n,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,i),!0;case 4:return l.fn.call(l.context,t,i,n),!0;case 5:return l.fn.call(l.context,t,i,n,s),!0;case 6:return l.fn.call(l.context,t,i,n,s,o),!0}for(u=1,c=Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,i);break;case 4:l[u].fn.call(l[u].context,t,i,n);break;default:if(!c)for(f=1,c=Array(h-1);f<h;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,i,n){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||n&&!a.once||i&&a.context!==i||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||n&&!a[c].once||i&&a[c].context!==i)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},5168:(e,t,r)=>{e=r.nmd(e);var i,n,s="__lodash_hash_undefined__",o="[object Arguments]",a="[object Array]",c="[object Boolean]",u="[object Date]",l="[object Error]",h="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",g="[object Promise]",y="[object RegExp]",v="[object Set]",b="[object String]",m="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",E=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[o]=x[a]=x[w]=x[c]=x[_]=x[u]=x[l]=x[h]=x[f]=x[d]=x[p]=x[y]=x[v]=x[b]=x[m]=!1;var S="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,D="object"==typeof self&&self&&self.Object===Object&&self,O=S||D||Function("return this")(),P=t&&!t.nodeType&&t,A=P&&e&&!e.nodeType&&e,C=A&&A.exports===P,R=C&&S.process,N=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),T=N&&N.isTypedArray;function j(e){var t=-1,r=Array(e.size);return e.forEach(function(e,i){r[++t]=[i,e]}),r}function U(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var L=Array.prototype,B=Function.prototype,M=Object.prototype,k=O["__core-js_shared__"],$=B.toString,z=M.hasOwnProperty,q=function(){var e=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),F=M.toString,H=RegExp("^"+$.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=C?O.Buffer:void 0,K=O.Symbol,W=O.Uint8Array,G=M.propertyIsEnumerable,Y=L.splice,J=K?K.toStringTag:void 0,Q=Object.getOwnPropertySymbols,Z=V?V.isBuffer:void 0,X=(i=Object.keys,n=Object,function(e){return i(n(e))}),ee=ex(O,"DataView"),et=ex(O,"Map"),er=ex(O,"Promise"),ei=ex(O,"Set"),en=ex(O,"WeakMap"),es=ex(Object,"create"),eo=eO(ee),ea=eO(et),ec=eO(er),eu=eO(ei),el=eO(en),eh=K?K.prototype:void 0,ef=eh?eh.valueOf:void 0;function ed(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function ep(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function eg(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function ey(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new eg;++t<r;)this.add(e[t])}function ev(e){var t=this.__data__=new ep(e);this.size=t.size}function eb(e,t){for(var r=e.length;r--;)if(eP(e[r][0],t))return r;return -1}function em(e){var t;return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=z.call(e,J),r=e[J];try{e[J]=void 0;var i=!0}catch(e){}var n=F.call(e);return i&&(t?e[J]=r:delete e[J]),n}(e):(t=e,F.call(t))}function ew(e){return eU(e)&&em(e)==o}function e_(e,t,r,i,n,s){var o=1&r,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var l=-1,h=!0,f=2&r?new ey:void 0;for(s.set(e,t),s.set(t,e);++l<a;){var d=e[l],p=t[l];if(i)var g=o?i(p,d,l,t,e,s):i(d,p,l,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!function(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}(t,function(e,t){if(!f.has(t)&&(d===e||n(d,e,r,i,s)))return f.push(t)})){h=!1;break}}else if(!(d===p||n(d,p,r,i,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function eE(e){var t;return t=eB(e),eC(e)?t:function(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}(t,eS(e))}function eI(e,t){var r,i,n=e.__data__;return("string"==(i=typeof(r=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?n["string"==typeof t?"string":"hash"]:n.map}function ex(e,t){var r,i=null==e?void 0:e[t];return!(!ej(i)||(r=i,q&&q in r))&&(eN(i)?H:E).test(eO(i))?i:void 0}ed.prototype.clear=function(){this.__data__=es?es(null):{},this.size=0},ed.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t},ed.prototype.get=function(e){var t=this.__data__;if(es){var r=t[e];return r===s?void 0:r}return z.call(t,e)?t[e]:void 0},ed.prototype.has=function(e){var t=this.__data__;return es?void 0!==t[e]:z.call(t,e)},ed.prototype.set=function(e,t){var r=this.__data__;return this.size+=+!this.has(e),r[e]=es&&void 0===t?s:t,this},ep.prototype.clear=function(){this.__data__=[],this.size=0},ep.prototype.delete=function(e){var t=this.__data__,r=eb(t,e);return!(r<0)&&(r==t.length-1?t.pop():Y.call(t,r,1),--this.size,!0)},ep.prototype.get=function(e){var t=this.__data__,r=eb(t,e);return r<0?void 0:t[r][1]},ep.prototype.has=function(e){return eb(this.__data__,e)>-1},ep.prototype.set=function(e,t){var r=this.__data__,i=eb(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this},eg.prototype.clear=function(){this.size=0,this.__data__={hash:new ed,map:new(et||ep),string:new ed}},eg.prototype.delete=function(e){var t=eI(this,e).delete(e);return this.size-=!!t,t},eg.prototype.get=function(e){return eI(this,e).get(e)},eg.prototype.has=function(e){return eI(this,e).has(e)},eg.prototype.set=function(e,t){var r=eI(this,e),i=r.size;return r.set(e,t),this.size+=+(r.size!=i),this},ey.prototype.add=ey.prototype.push=function(e){return this.__data__.set(e,s),this},ey.prototype.has=function(e){return this.__data__.has(e)},ev.prototype.clear=function(){this.__data__=new ep,this.size=0},ev.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ev.prototype.get=function(e){return this.__data__.get(e)},ev.prototype.has=function(e){return this.__data__.has(e)},ev.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ep){var i=r.__data__;if(!et||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new eg(i)}return r.set(e,t),this.size=r.size,this};var eS=Q?function(e){return null==e?[]:function(e,t){for(var r=-1,i=null==e?0:e.length,n=0,s=[];++r<i;){var o=e[r];t(o,r,e)&&(s[n++]=o)}return s}(Q(e=Object(e)),function(t){return G.call(e,t)})}:function(){return[]},eD=em;function eO(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eP(e,t){return e===t||e!=e&&t!=t}(ee&&eD(new ee(new ArrayBuffer(1)))!=_||et&&eD(new et)!=f||er&&eD(er.resolve())!=g||ei&&eD(new ei)!=v||en&&eD(new en)!=m)&&(eD=function(e){var t=em(e),r=t==p?e.constructor:void 0,i=r?eO(r):"";if(i)switch(i){case eo:return _;case ea:return f;case ec:return g;case eu:return v;case el:return m}return t});var eA=ew(function(){return arguments}())?ew:function(e){return eU(e)&&z.call(e,"callee")&&!G.call(e,"callee")},eC=Array.isArray,eR=Z||function(){return!1};function eN(e){if(!ej(e))return!1;var t=em(e);return t==h||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eT(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}function ej(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eU(e){return null!=e&&"object"==typeof e}var eL=T?function(e){return T(e)}:function(e){return eU(e)&&eT(e.length)&&!!x[em(e)]};function eB(e){return null!=e&&eT(e.length)&&!eN(e)?function(e,t){var r,i,n=eC(e),s=!n&&eA(e),o=!n&&!s&&eR(e),a=!n&&!s&&!o&&eL(e),c=n||s||o||a,u=c?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],l=u.length;for(var h in e){z.call(e,h)&&!(c&&("length"==h||o&&("offset"==h||"parent"==h)||a&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||(r=h,(i=null==(i=l)?0x1fffffffffffff:i)&&("number"==typeof r||I.test(r))&&r>-1&&r%1==0&&r<i)))&&u.push(h)}return u}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||M))return X(e);var t,r,i=[];for(var n in Object(e))z.call(e,n)&&"constructor"!=n&&i.push(n);return i}(e)}e.exports=function(e,t){return function e(t,r,i,n,s){return t===r||(null!=t&&null!=r&&(eU(t)||eU(r))?function(e,t,r,i,n,s){var h=eC(e),g=eC(t),m=h?a:eD(e),E=g?a:eD(t);m=m==o?p:m,E=E==o?p:E;var I=m==p,x=E==p,S=m==E;if(S&&eR(e)){if(!eR(t))return!1;h=!0,I=!1}if(S&&!I)return s||(s=new ev),h||eL(e)?e_(e,t,r,i,n,s):function(e,t,r,i,n,s,o){switch(r){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case w:if(e.byteLength!=t.byteLength||!s(new W(e),new W(t)))break;return!0;case c:case u:case d:return eP(+e,+t);case l:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case f:var a=j;case v:var h=1&i;if(a||(a=U),e.size!=t.size&&!h)break;var p=o.get(e);if(p)return p==t;i|=2,o.set(e,t);var g=e_(a(e),a(t),i,n,s,o);return o.delete(e),g;case"[object Symbol]":if(ef)return ef.call(e)==ef.call(t)}return!1}(e,t,m,r,i,n,s);if(!(1&r)){var D=I&&z.call(e,"__wrapped__"),O=x&&z.call(t,"__wrapped__");if(D||O){var P=D?e.value():e,A=O?t.value():t;return s||(s=new ev),n(P,A,r,i,s)}}return!!S&&(s||(s=new ev),function(e,t,r,i,n,s){var o=1&r,a=eE(e),c=a.length;if(c!=eE(t).length&&!o)return!1;for(var u=c;u--;){var l=a[u];if(!(o?l in t:z.call(t,l)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var f=!0;s.set(e,t),s.set(t,e);for(var d=o;++u<c;){var p=e[l=a[u]],g=t[l];if(i)var y=o?i(g,p,l,t,e,s):i(p,g,l,e,t,s);if(!(void 0===y?p===g||n(p,g,r,i,s):y)){f=!1;break}d||(d="constructor"==l)}if(f&&!d){var v=e.constructor,b=t.constructor;v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(f=!1)}return s.delete(e),s.delete(t),f}(e,t,r,i,n,s))}(t,r,i,n,e,s):t!=t&&r!=r)}(e,t)}},5276:(e,t,r)=>{"use strict";r.d(t,{H2:()=>s,Ty:()=>n,u:()=>o});var i=r(8832);class n extends i.C{constructor({max:e,min:t,signed:r,size:i,value:n}){super(`Number "${n}" is not in safe ${i?`${8*i}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}i.C;class s extends i.C{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}i.C;class o extends i.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}},5327:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var i=r(8832),n=r(4058),s=r(3168),o=r(7407);function a({key:e,name:t,request:r,retryCount:a=3,retryDelay:c=150,timeout:u,type:l},h){return{config:{key:e,name:t,request:r,retryCount:a,retryDelay:c,timeout:u,type:l},request:function(e,t={}){return async(r,a={})=>{let{retryDelay:c=150,retryCount:u=3}={...t,...a};return(0,o.b)(async()=>{try{return await e(r)}catch(e){switch(e.code){case s.XU.code:throw new s.XU(e);case s.CL.code:throw new s.CL(e);case s.Gi.code:throw new s.Gi(e);case s.D5.code:throw new s.D5(e);case s.bq.code:throw new s.bq(e);case s.Di.code:throw new s.Di(e);case s.hA.code:throw new s.hA(e);case s.qZ.code:throw new s.qZ(e);case s.YW.code:throw new s.YW(e);case s.ab.code:throw new s.ab(e);case s.s0.code:throw new s.s0(e);case s.xQ.code:throw new s.xQ(e);case s.vx.code:throw new s.vx(e);case s.sV.code:throw new s.sV(e);case s.Sf.code:throw new s.Sf(e);case s.RV.code:throw new s.RV(e);case s.xq.code:throw new s.xq(e);case s.ch.code:throw new s.ch(e);case 5e3:throw new s.vx(e);default:if(e instanceof i.C)throw e;throw new s.MI(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof n.Ci){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*parseInt(e)}return~~(1<<e)*c},retryCount:u,shouldRetry:({error:e})=>{var t;return"code"in(t=e)&&"number"==typeof t.code?-1===t.code||t.code===s.s0.code||t.code===s.bq.code:!(t instanceof n.Ci)||!t.status||403===t.status||408===t.status||413===t.status||429===t.status||500===t.status||502===t.status||503===t.status||504===t.status||!1}})}}(r,{retryCount:a,retryDelay:c}),value:h}}},5459:(e,t)=>{t.read=function(e,t,r,i,n){var s,o,a=8*n-i-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?n-1:0,f=r?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+e[t+h],h+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=i;l>0;o=256*o+e[t+h],h+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),s-=u}return(d?-1:1)*o*Math.pow(2,s-i)},t.write=function(e,t,r,i,n,s){var o,a,c,u=8*s-n-1,l=(1<<u)-1,h=l>>1,f=5960464477539062e-23*(23===n),d=i?0:s-1,p=i?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=f/c:t+=f*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(t*c-1)*Math.pow(2,n),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;e[r+d]=255&a,d+=p,a/=256,n-=8);for(o=o<<n|a,u+=n;u>0;e[r+d]=255&o,d+=p,o/=256,u-=8);e[r+d-p]|=128*g}},5466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(7928),n=r(4314),s=r(9962),o=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var n=0;n<r.length;n++)r[n]^=54;this._inner.update(r);for(var n=0;n<r.length;n++)r[n]^=106;this._outer.update(r),i.isSerializableHash(this._inner)&&i.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),s.wipe(r)}return e.prototype.reset=function(){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){i.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),i.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?this._outer.finish(e):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!i.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!i.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=o,t.hmac=function(e,t,r){var i=new o(e,t);i.update(r);var n=i.digest();return i.clean(),n},t.equal=n.equal},5484:(e,t,r)=>{"use strict";function i(e){if("string"==typeof e)return Number.parseInt(e,"0x"===e.trim().substring(0,2)?16:10);if("bigint"==typeof e)return Number(e);if("number"==typeof e)return e;throw Error(`Cannot normalize chainId "${e}" of type "${typeof e}"`)}r.d(t,{A:()=>i})},5563:(e,t,r)=>{"use strict";r.d(t,{Af:()=>d,ZJ:()=>u,aT:()=>f});var i=r(8832),n=r(587),s=r(2427),o=r(1914),a=r(4561);let c=new TextEncoder;function u(e,t={}){var r,i;return"number"==typeof e||"bigint"==typeof e?(r=e,i=t,f((0,a.cK)(r,i))):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,o.Sl)(r,{size:t.size}),(0,s.eV)(r,{size:t.size})):r}(e,t):(0,n.q)(e)?f(e,t):d(e,t)}let l={zero:48,nine:57,A:65,F:70,a:97,f:102};function h(e){return e>=l.zero&&e<=l.nine?e-l.zero:e>=l.A&&e<=l.F?e-(l.A-10):e>=l.a&&e<=l.f?e-(l.a-10):void 0}function f(e,t={}){let r=e;t.size&&((0,o.Sl)(r,{size:t.size}),r=(0,s.eV)(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let a=n.length/2,c=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let r=h(n.charCodeAt(t++)),s=h(n.charCodeAt(t++));if(void 0===r||void 0===s)throw new i.C(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);c[e]=16*r+s}return c}function d(e,t={}){let r=c.encode(e);return"number"==typeof t.size?((0,o.Sl)(r,{size:t.size}),(0,s.eV)(r,{dir:"right",size:t.size})):r}},5566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(2590);i.__exportStar(r(2648),t),i.__exportStar(r(8053),t),i.__exportStar(r(332),t),i.__exportStar(r(5648),t)},5648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(2590);i.__exportStar(r(1452),t),i.__exportStar(r(361),t)},5676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;let i=r(6307),n=r(1113);class s{constructor(){if(this.isAvailable=!1,this.name="",this._source=new i.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new n.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(e)}}t.SystemRandomSource=s},5727:(e,t,r)=>{"use strict";let i=r(8759);e.exports=s;let n=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function s(e){var t,r;(e=e||{}).browser=e.browser||{};let i=e.browser.transmit;if(i&&"function"!=typeof i.send)throw Error("pino: transmit option must have a send function");let l=e.browser.write||n;e.browser.write&&(e.browser.asObject=!0);let h=e.serializers||{},g=(t=e.browser.serialize,Array.isArray(t)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(h)),y=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(y=!1),"function"==typeof l&&(l.error=l.fatal=l.warn=l.info=l.debug=l.trace=l),!1===e.enabled&&(e.level="silent");let v=e.level||"info",b=Object.create(l);b.log||(b.log=f),Object.defineProperty(b,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(b,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,o(m,b,"error","log"),o(m,b,"fatal","error"),o(m,b,"warn","error"),o(m,b,"info","log"),o(m,b,"debug","log"),o(m,b,"trace","log")}});let m={transmit:i,serialize:g,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?d:p};return b.levels=s.levels,b.level=v,b.setMaxListeners=b.getMaxListeners=b.emit=b.addListener=b.on=b.prependListener=b.once=b.prependOnceListener=b.removeListener=b.removeAllListeners=b.listeners=b.listenerCount=b.eventNames=b.write=b.flush=f,b.serializers=h,b._serialize=g,b._stdErrSerialize=y,b.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},g&&t.serializers&&(r.serializers=t.serializers);let n=r.serializers;if(g&&n){var s=Object.assign({},h,n),o=!0===e.browser.serialize?Object.keys(s):g;delete t.serializers,a([t],o,s,this._stdErrSerialize)}function l(e){this._childLevel=(0|e._childLevel)+1,this.error=c(e,t,"error"),this.fatal=c(e,t,"fatal"),this.warn=c(e,t,"warn"),this.info=c(e,t,"info"),this.debug=c(e,t,"debug"),this.trace=c(e,t,"trace"),s&&(this.serializers=s,this._serialize=o),i&&(this._logEvent=u([].concat(e._logEvent.bindings,t)))}return l.prototype=this,new l(this)},i&&(b._logEvent=u()),b}function o(e,t,r,o){let c=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?f:c[r]?c[r]:n[r]||n[o]||f,function(e,t,r){if(e.transmit||t[r]!==f){var o;t[r]=(o=t[r],function(){let c=e.timestamp(),l=Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var f=0;f<l.length;f++)l[f]=arguments[f];if(e.serialize&&!e.asObject&&a(l,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?o.call(h,function(e,t,r,n){e._serialize&&a(r,e._serialize,e.serializers,e._stdErrSerialize);let o=r.slice(),c=o[0],u={};n&&(u.time=n),u.level=s.levels.values[t];let l=(0|e._childLevel)+1;if(l<1&&(l=1),null!==c&&"object"==typeof c){for(;l--&&"object"==typeof o[0];)Object.assign(u,o.shift());c=o.length?i(o.shift(),o):void 0}else"string"==typeof c&&(c=i(o.shift(),o));return void 0!==c&&(u.msg=c),u}(this,r,l,c)):o.apply(h,l),e.transmit){let i=e.transmit.level||t.level,n=s.levels.values[i],o=s.levels.values[r];if(o<n)return;!function(e,t,r){let i=t.send,n=t.ts,s=t.methodLevel,o=t.methodValue,c=t.val,l=e._logEvent.bindings;a(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=n,e._logEvent.messages=r.filter(function(e){return -1===l.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,i(s,e._logEvent,c),e._logEvent=u(l)}(this,{ts:c,methodLevel:r,methodValue:o,transmitLevel:i,transmitValue:s.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},l)}})}}(e,t,r)}function a(e,t,r,i){for(let n in e)if(i&&e[n]instanceof Error)e[n]=s.stdSerializers.err(e[n]);else if("object"==typeof e[n]&&!Array.isArray(e[n]))for(let i in e[n])t&&t.indexOf(i)>-1&&i in r&&(e[n][i]=r[i](e[n][i]))}function c(e,t,r){return function(){let i=Array(1+arguments.length);i[0]=t;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return e[r].apply(this,i)}}function u(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function l(){return{}}function h(e){return e}function f(){}function d(){return!1}function p(){return Date.now()}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers={mapHttpRequest:l,mapHttpResponse:l,wrapRequestSerializer:h,wrapResponseSerializer:h,wrapErrorSerializer:h,req:l,res:l,err:function(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}},s.stdTimeFunctions=Object.assign({},{nullTime:d,epochTime:p,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},5759:(e,t,r)=>{"use strict";async function i(e){return new Promise(t=>setTimeout(t,e))}r.d(t,{u:()=>i})},5762:e=>{"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},5811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(1809).__exportStar(r(571),t)},5939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let i=r(5648);t.toMiliseconds=function(e){return e*i.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/i.ONE_THOUSAND)}},6115:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});var i=r(8832);class n extends i.C{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}},6307:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;class r{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}t.BrowserRandomSource=r},6418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(4314),n=r(9962);t.DIGEST_LENGTH=16;var s=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var i=e[2]|e[3]<<8;this._r[1]=(r>>>13|i<<3)&8191;var n=e[4]|e[5]<<8;this._r[2]=(i>>>10|n<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(n>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var c=e[12]|e[13]<<8;this._r[7]=(a>>>11|c<<5)&8065;var u=e[14]|e[15]<<8;this._r[8]=(c>>>8|u<<8)&8191,this._r[9]=u>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var i=2048*!this._fin,n=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],u=this._h[5],l=this._h[6],h=this._h[7],f=this._h[8],d=this._h[9],p=this._r[0],g=this._r[1],y=this._r[2],v=this._r[3],b=this._r[4],m=this._r[5],w=this._r[6],_=this._r[7],E=this._r[8],I=this._r[9];r>=16;){var x,S=e[t+0]|e[t+1]<<8;n+=8191&S;var D=e[t+2]|e[t+3]<<8;s+=(S>>>13|D<<3)&8191;var O=e[t+4]|e[t+5]<<8;o+=(D>>>10|O<<6)&8191;var P=e[t+6]|e[t+7]<<8;a+=(O>>>7|P<<9)&8191;var A=e[t+8]|e[t+9]<<8;c+=(P>>>4|A<<12)&8191,u+=A>>>1&8191;var C=e[t+10]|e[t+11]<<8;l+=(A>>>14|C<<2)&8191;var R=e[t+12]|e[t+13]<<8;h+=(C>>>11|R<<5)&8191;var N=e[t+14]|e[t+15]<<8;f+=(R>>>8|N<<8)&8191,d+=N>>>5|i;var T=0;T=(x=0+n*p+5*I*s+5*E*o+5*_*a+5*w*c)>>>13,x&=8191,x+=5*m*u,x+=5*b*l,x+=5*v*h,x+=5*y*f,x+=5*g*d,T+=x>>>13,x&=8191;var j=T;j+=n*g,j+=s*p,j+=5*I*o,j+=5*E*a,j+=5*_*c,T=j>>>13,j&=8191,j+=5*w*u,j+=5*m*l,j+=5*b*h,j+=5*v*f,j+=5*y*d,T+=j>>>13,j&=8191;var U=T;U+=n*y,U+=s*g,U+=o*p,U+=5*I*a,U+=5*E*c,T=U>>>13,U&=8191,U+=5*_*u,U+=5*w*l,U+=5*m*h,U+=5*b*f,U+=5*v*d,T+=U>>>13,U&=8191;var L=T;L+=n*v,L+=s*y,L+=o*g,L+=a*p,L+=5*I*c,T=L>>>13,L&=8191,L+=5*E*u,L+=5*_*l,L+=5*w*h,L+=5*m*f,L+=5*b*d,T+=L>>>13,L&=8191;var B=T;B+=n*b,B+=s*v,B+=o*y,B+=a*g,B+=c*p,T=B>>>13,B&=8191,B+=5*I*u,B+=5*E*l,B+=5*_*h,B+=5*w*f,B+=5*m*d,T+=B>>>13,B&=8191;var M=T;M+=n*m,M+=s*b,M+=o*v,M+=a*y,M+=c*g,T=M>>>13,M&=8191,M+=u*p,M+=5*I*l,M+=5*E*h,M+=5*_*f,M+=5*w*d,T+=M>>>13,M&=8191;var k=T;k+=n*w,k+=s*m,k+=o*b,k+=a*v,k+=c*y,T=k>>>13,k&=8191,k+=u*g,k+=l*p,k+=5*I*h,k+=5*E*f,k+=5*_*d,T+=k>>>13,k&=8191;var $=T;$+=n*_,$+=s*w,$+=o*m,$+=a*b,$+=c*v,T=$>>>13,$&=8191,$+=u*y,$+=l*g,$+=h*p,$+=5*I*f,$+=5*E*d,T+=$>>>13,$&=8191;var z=T;z+=n*E,z+=s*_,z+=o*w,z+=a*m,z+=c*b,T=z>>>13,z&=8191,z+=u*v,z+=l*y,z+=h*g,z+=f*p,z+=5*I*d,T+=z>>>13,z&=8191;var q=T;q+=n*I,q+=s*E,q+=o*_,q+=a*w,q+=c*m,T=q>>>13,q&=8191,q+=u*b,q+=l*v,q+=h*y,q+=f*g,q+=d*p,T+=q>>>13,q&=8191,x=8191&(T=(T=(T<<2)+T|0)+x|0),T>>>=13,j+=T,n=x,s=j,o=U,a=L,c=B,u=M,l=k,h=$,f=z,d=q,t+=16,r-=16}this._h[0]=n,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=u,this._h[6]=l,this._h[7]=h,this._h[8]=f,this._h[9]=d},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,i,n,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,i=(1^r)-1,s=0;s<10;s++)o[s]&=i;for(s=0,i=~i;s<10;s++)this._h[s]=this._h[s]&i|o[s];for(s=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,n=this._h[0]+this._pad[0],this._h[0]=65535&n;s<8;s++)n=(this._h[s]+this._pad[s]|0)+(n>>>16)|0,this._h[s]=65535&n;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,i=e.length;if(this._leftover){(t=16-this._leftover)>i&&(t=i);for(var n=0;n<t;n++)this._buffer[this._leftover+n]=e[r+n];if(i-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(t=i-i%16,this._blocks(e,r,t),r+=t,i-=t),i){for(var n=0;n<i;n++)this._buffer[this._leftover+n]=e[r+n];this._leftover+=i}return this},e.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return n.wipe(this._buffer),n.wipe(this._r),n.wipe(this._h),n.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=s,t.oneTimeAuth=function(e,t){var r=new s(e);r.update(t);var i=r.digest();return r.clean(),i},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&i.equal(e,r)}},6427:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0,t.HEARTBEAT_INTERVAL=r(5566).FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},6459:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,i){var n,s,o;function a(r){e.removeListener(t,c),i(r)}function c(){"function"==typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}g(e,t,c,{once:!0}),"error"!==t&&(n=e,s=a,o={once:!0},"function"==typeof n.on&&g(n,"error",s,o))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,r,i){if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=c(e))>0&&o.length>n&&!o.warned){o.warned=!0;var n,s,o,u=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=l.bind(i);return n.listener=r,i.wrapFn=n,n}function f(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):p(n,n.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=Array(t),i=0;i<t;++i)r[i]=e[i];return r}function g(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function n(s){i.once&&e.removeEventListener(t,n),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||n(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,a=Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else for(var u=c.length,l=p(c,u),r=0;r<u;++r)i(l[r],this,t);return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,i,n,s,o;if(a(t),void 0===(i=this._events)||void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},6565:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(1809);i.__exportStar(r(337),t),i.__exportStar(r(5811),t),i.__exportStar(r(7187),t)},6662:(e,t)=>{"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function i(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=i,t.getDocumentOrThrow=function(){return i("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return i("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return i("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return i("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return i("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},6674:(e,t,r)=>{"use strict";function i(e,{errorInstance:t=Error("timed out"),timeout:r,signal:i}){return new Promise((n,s)=>{(async()=>{let o;try{let a=new AbortController;r>0&&(o=setTimeout(()=>{i?a.abort():s(t)},r)),n(await e({signal:a?.signal}))}catch(e){"AbortError"===e.name&&s(t),s(e)}finally{clearTimeout(o)}})()})}r.d(t,{w:()=>i})},6932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(9490),n=r(9962);function s(e,t,r,s,o){if(void 0===o&&(o=0),32!==e.length)throw Error("ChaCha: key size must be 32 bytes");if(s.length<r.length)throw Error("ChaCha: destination is shorter than source");if(0===o){if(8!==t.length&&12!==t.length)throw Error("ChaCha nonce must be 8 or 12 bytes");c=(a=new Uint8Array(16)).length-t.length,a.set(t,c)}else{if(16!==t.length)throw Error("ChaCha nonce with counter must be 16 bytes");a=t,c=o}for(var a,c,u=new Uint8Array(64),l=0;l<r.length;l+=64){!function(e,t,r){for(var n=r[3]<<24|r[2]<<16|r[1]<<8|r[0],s=r[7]<<24|r[6]<<16|r[5]<<8|r[4],o=r[11]<<24|r[10]<<16|r[9]<<8|r[8],a=r[15]<<24|r[14]<<16|r[13]<<8|r[12],c=r[19]<<24|r[18]<<16|r[17]<<8|r[16],u=r[23]<<24|r[22]<<16|r[21]<<8|r[20],l=r[27]<<24|r[26]<<16|r[25]<<8|r[24],h=r[31]<<24|r[30]<<16|r[29]<<8|r[28],f=t[3]<<24|t[2]<<16|t[1]<<8|t[0],d=t[7]<<24|t[6]<<16|t[5]<<8|t[4],p=t[11]<<24|t[10]<<16|t[9]<<8|t[8],g=t[15]<<24|t[14]<<16|t[13]<<8|t[12],y=0x61707865,v=0x3320646e,b=0x79622d32,m=0x6b206574,w=n,_=s,E=o,I=a,x=c,S=u,D=l,O=h,P=f,A=d,C=p,R=g,N=0;N<20;N+=2)P^=y=y+w|0,w^=x=x+(P=P>>>16|P<<16)|0,w=w>>>20|w<<12,A^=v=v+_|0,_^=S=S+(A=A>>>16|A<<16)|0,_=_>>>20|_<<12,C^=b=b+E|0,E^=D=D+(C=C>>>16|C<<16)|0,E=E>>>20|E<<12,R^=m=m+I|0,I^=O=O+(R=R>>>16|R<<16)|0,I=I>>>20|I<<12,C^=b=b+E|0,E^=D=D+(C=C>>>24|C<<8)|0,E=E>>>25|E<<7,R^=m=m+I|0,I^=O=O+(R=R>>>24|R<<8)|0,I=I>>>25|I<<7,A^=v=v+_|0,_^=S=S+(A=A>>>24|A<<8)|0,_=_>>>25|_<<7,P^=y=y+w|0,w^=x=x+(P=P>>>24|P<<8)|0,w=w>>>25|w<<7,R^=y=y+_|0,_^=D=D+(R=R>>>16|R<<16)|0,_=_>>>20|_<<12,P^=v=v+E|0,E^=O=O+(P=P>>>16|P<<16)|0,E=E>>>20|E<<12,A^=b=b+I|0,I^=x=x+(A=A>>>16|A<<16)|0,I=I>>>20|I<<12,C^=m=m+w|0,w^=S=S+(C=C>>>16|C<<16)|0,w=w>>>20|w<<12,A^=b=b+I|0,I^=x=x+(A=A>>>24|A<<8)|0,I=I>>>25|I<<7,C^=m=m+w|0,w^=S=S+(C=C>>>24|C<<8)|0,w=w>>>25|w<<7,P^=v=v+E|0,E^=O=O+(P=P>>>24|P<<8)|0,E=E>>>25|E<<7,R^=y=y+_|0,_^=D=D+(R=R>>>24|R<<8)|0,_=_>>>25|_<<7;i.writeUint32LE(y+0x61707865|0,e,0),i.writeUint32LE(v+0x3320646e|0,e,4),i.writeUint32LE(b+0x79622d32|0,e,8),i.writeUint32LE(m+0x6b206574|0,e,12),i.writeUint32LE(w+n|0,e,16),i.writeUint32LE(_+s|0,e,20),i.writeUint32LE(E+o|0,e,24),i.writeUint32LE(I+a|0,e,28),i.writeUint32LE(x+c|0,e,32),i.writeUint32LE(S+u|0,e,36),i.writeUint32LE(D+l|0,e,40),i.writeUint32LE(O+h|0,e,44),i.writeUint32LE(P+f|0,e,48),i.writeUint32LE(A+d|0,e,52),i.writeUint32LE(C+p|0,e,56),i.writeUint32LE(R+g|0,e,60)}(u,a,e);for(var h=l;h<l+64&&h<r.length;h++)s[h]=r[h]^u[h-l];for(var f=a,d=0,p=c,g=1;p--;)g=g+(255&f[d])|0,f[d]=255&g,g>>>=8,d++;if(g>0)throw Error("ChaCha: counter overflow")}return n.wipe(u),0===o&&n.wipe(a),s}t.streamXOR=s,t.stream=function(e,t,r,i){return void 0===i&&(i=0),n.wipe(r),s(e,t,r,r,i)}},6969:(e,t,r)=>{"use strict";r.d(t,{F:()=>s,i:()=>n});var i=r(8832);class n extends i.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class s extends i.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}},7187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(1809).__exportStar(r(6427),t)},7259:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var i,n,s=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class o extends Error{get docsBaseUrl(){return"https://rc.wagmi.sh/core"}get version(){return"@wagmi/core@2.0.0-rc.3"}constructor(e,t={}){super(),i.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});let r=t.cause instanceof o?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof o&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: ${this.docsBaseUrl}${n}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return s(this,i,"m",n).call(this,this,e)}}i=new WeakSet,n=function e(t,r){return r?.(t)?t:t.cause?s(this,i,"m",e).call(this,t.cause,r):t}},7382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,i=65535&t;return r*i+((e>>>16&65535)*i+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=0x1fffffffffffff,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},7407:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var i=r(5759);function n(e,{delay:t=100,retryCount:r=2,shouldRetry:s=()=>!0}={}){return new Promise((n,o)=>{let a=async({count:c=0}={})=>{let u=async({error:e})=>{let r="function"==typeof t?t({count:c,error:e}):t;r&&await (0,i.u)(r),a({count:c+1})};try{let t=await e();n(t)}catch(e){if(c<r&&await s({count:c,error:e}))return u({error:e});o(e)}};a()})}},7550:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});let i=new Map;function n({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:s}){let o=async()=>{let t=c();a();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{s&&Array.isArray(e)&&e.sort(s);for(let r=0;r<t.length;r++){let{pendingPromise:i}=t[r];i.resolve?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{pendingPromise:i}=t[r];i.reject?.(e)}})},a=()=>i.delete(t),c=()=>i.get(t)||[],u=e=>i.set(t,[...c(),e]);return{flush:a,async schedule(e){let t={},i=new Promise((e,r)=>{t.resolve=e,t.reject=r});return(r?.([...c().map(({args:e})=>e),e])&&o(),c().length>0)?u({args:e,pendingPromise:t}):(u({args:e,pendingPromise:t}),setTimeout(o,n)),i}}}},7608:(e,t,r)=>{"use strict";r.d(t,{b:()=>c,o:()=>a});var i=r(6115),n=r(5563),s=r(7692),o=r(4784);function a(e,t){let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),i=(0,s.S)((0,n.Af)(r),"bytes"),o=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&o[e]&&(o[e]=o[e].toUpperCase()),(15&i[e>>1])>=8&&o[e+1]&&(o[e+1]=o[e+1].toUpperCase());return`0x${o.join("")}`}function c(e,t){if(!(0,o.P)(e))throw new i.M({address:e});return a(e,t)}},7692:(e,t,r)=>{"use strict";function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function n(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}r.d(t,{S:()=>P});let o=BigInt(0x100000000-1),a=BigInt(32);if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function c(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!(e instanceof Uint8Array))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class u{clone(){return this._cloneInto()}}let[l,h,f]=[[],[],[]],d=BigInt(0),p=BigInt(1),g=BigInt(2),y=BigInt(7),v=BigInt(256),b=BigInt(113);for(let e=0,t=p,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],l.push(2*(5*i+r)),h.push((e+1)*(e+2)/2%64);let n=d;for(let e=0;e<7;e++)(t=(t<<p^(t>>y)*b)%v)&g&&(n^=p<<(p<<BigInt(e))-p);f.push(n)}let[m,w]=function(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){let{h:s,l:c}=function(e,t=!1){return t?{h:Number(e&o),l:Number(e>>a&o)}:{h:0|Number(e>>a&o),l:0|Number(e&o)}}(e[n],t);[r[n],i[n]]=[s,c]}return[r,i]}(f,!0),_=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),E=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class I extends u{constructor(e,t,r,n=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,i(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)))(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let i=(t+8)%10,n=(t+2)%10,s=r[n],o=r[n+1],a=_(s,o,1)^r[i],c=E(s,o,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],n=e[3];for(let r=0;r<24;r++){let i=h[r],s=_(t,n,i),o=E(t,n,i),a=l[r];t=e[a],n=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=m[i],e[1]^=w[i]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){s(this);let{blockLen:t,state:r}=this,i=(e=c(e)).length;for(let n=0;n<i;){let s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(128&t)!=0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){s(this,!1),n(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i(e),this.xofInto(new Uint8Array(e))}digestInto(e){n(e);let t=this.outputLen;if(e.length<t)throw Error(`digestInto() expects output buffer of length at least ${t}`);if(this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new I(t,r,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}let x=function(e){let t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new I(136,1,32));var S=r(587),D=r(5563),O=r(4561);function P(e,t){let r=x((0,S.q)(e,{strict:!1})?(0,D.ZJ)(e):e);return"bytes"===(t||"hex")?r:(0,O.nj)(r)}},7762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;let i=r(5676),n=r(9490),s=r(9962);function o(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new i.SystemRandomSource,t.randomBytes=o,t.randomUint32=function(e=t.defaultRandomSource){let r=o(4,e),i=(0,n.readUint32LE)(r);return(0,s.wipe)(r),i};let a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,r=a,i=t.defaultRandomSource){if(r.length<2)throw Error("randomString charset is too short");if(r.length>256)throw Error("randomString charset is too long");let n="",u=r.length,l=256-256%u;for(;e>0;){let t=o(Math.ceil(256*e/l),i);for(let i=0;i<t.length&&e>0;i++){let s=t[i];s<l&&(n+=r.charAt(s%u),e--)}(0,s.wipe)(t)}return n}t.randomString=c,t.randomStringForEntropy=function(e,r=a,i=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,i)}},7822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(1870);i.__exportStar(r(4663),t),i.__exportStar(r(1609),t)},7928:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},8050:e=>{"use strict";e.exports=self.fetch.bind(self),e.exports.default=e.exports},8053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},8504:(e,t,r)=>{"use strict";let i;r.d(t,{U:()=>o});var n=r(4771);let s=256;function o(e){let{batch:t,cacheTime:r=e.pollingInterval??4e3,key:o="base",name:a="Base Client",pollingInterval:c=4e3,type:u="base"}=e,l=e.chain,h=e.account?(0,n.J)(e.account):void 0,{config:f,request:d,value:p}=e.transport({chain:l,pollingInterval:c}),g={account:h,batch:t,cacheTime:r,chain:l,key:o,name:a,pollingInterval:c,request:d,transport:{...f,...p},type:u,uid:function(e=11){if(!i||s+e>512){i="",s=0;for(let e=0;e<256;e++)i+=(256+256*Math.random()|0).toString(16).substring(1)}return i.substring(s,s+++e)}()};return Object.assign(g,{extend:function e(t){return r=>{let i=r(t);for(let e in g)delete i[e];let n={...t,...i};return Object.assign(n,{extend:e(n)})}}(g)})}},8543:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},8746:(e,t,r)=>{"use strict";var i=r(9490),n=r(9962);t.On=32,t.cS=64;var s=function(){function e(){this.digestLength=t.On,this.blockSize=t.cS,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=0x6a09e667,this._state[1]=0xbb67ae85,this._state[2]=0x3c6ef372,this._state[3]=0xa54ff53a,this._state[4]=0x510e527f,this._state[5]=0x9b05688c,this._state[6]=0x1f83d9ab,this._state[7]=0x5be0cd19},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,n=t%64<56?64:128;this._buffer[r]=128;for(var s=r+1;s<n-8;s++)this._buffer[s]=0;i.writeUint32BE(t/0x20000000|0,this._buffer,n-8),i.writeUint32BE(t<<3,this._buffer,n-4),a(this._temp,this._state,this._buffer,0,n),this._finished=!0}for(var s=0;s<this.digestLength/4;s++)i.writeUint32BE(this._state[s],e,4*s);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){n.wipe(e.state),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.aD=s;var o=new Int32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]);function a(e,t,r,n,s){for(;s>=64;){for(var a=t[0],c=t[1],u=t[2],l=t[3],h=t[4],f=t[5],d=t[6],p=t[7],g=0;g<16;g++){var y=n+4*g;e[g]=i.readUint32BE(r,y)}for(var g=16;g<64;g++){var v=e[g-2],b=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,m=((v=e[g-15])>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;e[g]=(b+e[g-7]|0)+(m+e[g-16]|0)}for(var g=0;g<64;g++){var b=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&f^~h&d)|0)+(p+(o[g]+e[g]|0)|0)|0,m=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&u^c&u)|0;p=d,d=f,f=h,h=l+b|0,l=u,u=c,c=a,a=b+m|0}t[0]+=a,t[1]+=c,t[2]+=u,t[3]+=l,t[4]+=h,t[5]+=f,t[6]+=d,t[7]+=p,n+=64,s-=64}return n}t.tW=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},8759:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,i){var n=i&&i.stringify||t;if("object"==typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var o=Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(r[a]);return o.join(" ")}if("string"!=typeof e)return e;var c=r.length;if(0===c)return e;for(var u="",l=0,h=-1,f=e&&e.length||0,d=0;d<f;){if(37===e.charCodeAt(d)&&d+1<f){switch(h=h>-1?h:0,e.charCodeAt(d+1)){case 100:case 102:if(l>=c||null==r[l])break;h<d&&(u+=e.slice(h,d)),u+=Number(r[l]),h=d+2,d++;break;case 105:if(l>=c||null==r[l])break;h<d&&(u+=e.slice(h,d)),u+=Math.floor(Number(r[l])),h=d+2,d++;break;case 79:case 111:case 106:if(l>=c||void 0===r[l])break;h<d&&(u+=e.slice(h,d));var p=typeof r[l];if("string"===p){u+="'"+r[l]+"'",h=d+2,d++;break}if("function"===p){u+=r[l].name||"<anonymous>",h=d+2,d++;break}u+=n(r[l]),h=d+2,d++;break;case 115:if(l>=c)break;h<d&&(u+=e.slice(h,d)),u+=String(r[l]),h=d+2,d++;break;case 37:h<d&&(u+=e.slice(h,d)),u+="%",h=d+2,d++,l--}++l}++d}return -1===h?e:(h<f&&(u+=e.slice(h)),u)}},8832:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var i=r(3180);class n extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.HF)()});let r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,s=t.cause instanceof n&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t?e(t.cause,r):r?null:t}(this,e)}}},8955:(e,t,r)=>{"use strict";t.g=void 0;let i=r(6662);t.g=function(){let e,t,r;try{e=i.getDocumentOrThrow(),t=i.getLocationOrThrow()}catch(e){return null}function n(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let i=r[e],n=["itemprop","property","name"].map(e=>i.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(n.length&&n){let e=i.getAttribute("content");if(e)return e}}return""}let s=((r=n("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),o=n("description","og:description","twitter:description","keywords"),a=t.origin;return{description:o,url:a,icons:function(){let r=e.getElementsByTagName("link"),i=[];for(let e=0;e<r.length;e++){let n=r[e],s=n.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){let e=n.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let i=t.pathname.split("/");i.pop(),r+=i.join("/")+"/"+e}i.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;i.push(r)}else i.push(e)}}return i}(),name:s}}},9038:(e,t,r)=>{"use strict";var i=r(5466),n=r(9962);t.i=function(){function e(e,t,r,n){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var s=i.hmac(this._hash,r,t);this._hmac=new i.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),n.wipe(this._buffer),n.wipe(this._counter),this._bufpos=0},e}()},9252:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var i=r(587);function n(e){return(0,i.q)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},9350:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(e,t,r)=>JSON.stringify(e,(e,r)=>{let i="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,i):i},r)},9490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(7382);function n(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function s(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function l(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),l(e/0x100000000>>>0,t,r),l(e>>>0,t,r+4),t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),h(e>>>0,t,r),h(e/0x100000000>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=n,t.writeInt16BE=n,t.writeUint16LE=s,t.writeInt16LE=s,t.readInt32BE=o,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=u,t.writeUint32BE=l,t.writeInt32BE=l,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=o(e,t),i=o(e,t+4);return 0x100000000*r+i-(i>>31)*0x100000000},t.readUint64BE=function(e,t){return void 0===t&&(t=0),0x100000000*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 0x100000000*c(e,t+4)+r-(r>>31)*0x100000000},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=u(e,t);return 0x100000000*u(e,t+4)+r},t.writeUint64BE=f,t.writeInt64BE=f,t.writeUint64LE=d,t.writeInt64LE=d,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=e/8+r-1;s>=r;s--)i+=t[s]*n,n*=256;return i},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=r;s<r+e/8;s++)i+=t[s]*n,n*=256;return i},t.writeUintBE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!i.isSafeInteger(t))throw Error("writeUintBE value must be an integer");for(var s=1,o=e/8+n-1;o>=n;o--)r[o]=t/s&255,s*=256;return r},t.writeUintLE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!i.isSafeInteger(t))throw Error("writeUintLE value must be an integer");for(var s=1,o=n;o<n+e/8;o++)r[o]=t/s&255,s*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},9511:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;class r{}t.IWatch=r},9763:(e,t,r)=>{"use strict";r.d(t,{L:()=>d});var i=r(4058),n=r(8832);class s extends n.C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var o=r(7550),a=r(6674),c=r(9350);let u=0;async function l(e,{body:t,fetchOptions:r={},timeout:n=1e4}){let{headers:s,method:o,signal:l}=r;try{let h,f=await (0,a.w)(async({signal:i})=>await fetch(e,{...r,body:Array.isArray(t)?(0,c.A)(t.map(e=>({jsonrpc:"2.0",id:e.id??u++,...e}))):(0,c.A)({jsonrpc:"2.0",id:t.id??u++,...t}),headers:{...s,"Content-Type":"application/json"},method:o||"POST",signal:l||(n>0?i:void 0)}),{errorInstance:new i.MU({body:t,url:e}),timeout:n,signal:!0});if(h=f.headers.get("Content-Type")?.startsWith("application/json")?await f.json():await f.text(),!f.ok)throw new i.Ci({body:t,details:(0,c.A)(h.error)||f.statusText,headers:f.headers,status:f.status,url:e});return h}catch(r){if(r instanceof i.Ci||r instanceof i.MU)throw r;throw new i.Ci({body:t,details:r.message,url:e})}}let h={http:l,webSocket:function(e,{body:t,onResponse:r}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new i.Pr({body:t,url:e.url,details:"Socket is closed."});let n=u++,s=({data:i})=>{let o=JSON.parse(i);("number"!=typeof o.id||n===o.id)&&(r?.(o),"eth_subscribe"===t.method&&"string"==typeof o.result&&e.subscriptions.set(o.result,s),"eth_unsubscribe"===t.method&&e.subscriptions.delete(t.params?.[0]))};return e.requests.set(n,s),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:n})),e}};var f=r(5327);function d(e,t={}){let{batch:r,fetchOptions:n,key:a="http",name:c="HTTP JSON-RPC",retryDelay:u}=t;return({chain:l,retryCount:d,timeout:p})=>{let{batchSize:g=1e3,wait:y=0}="object"==typeof r?r:{},v=t.retryCount??d,b=p??t.timeout??1e4,m=e||l?.rpcUrls.default.http[0];if(!m)throw new s;return(0,f.o)({key:a,name:c,async request({method:t,params:s}){let a={method:t,params:s},{schedule:c}=(0,o.u)({id:`${e}`,wait:y,shouldSplitBatch:e=>e.length>g,fn:e=>h.http(m,{body:e,fetchOptions:n,timeout:b}),sort:(e,t)=>e.id-t.id}),u=async e=>r?c(e):[await h.http(m,{body:e,fetchOptions:n,timeout:b})],[{error:l,result:f}]=await u(a);if(l)throw new i.J8({body:a,error:l,url:m});return f},retryCount:v,retryDelay:u,timeout:b,type:"http"},{fetchOptions:n,url:e})}}},9962:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}}}]);